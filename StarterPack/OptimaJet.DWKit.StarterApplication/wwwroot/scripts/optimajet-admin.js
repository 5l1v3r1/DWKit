!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("semantic-ui-react"),require("react-dom"),require("react-data-grid"),require("reflux"),require("react-data-grid-addons")):"function"==typeof define&&define.amd?define(["react","semantic-ui-react","react-dom","react-data-grid","reflux","react-data-grid-addons"],t):"object"==typeof exports?exports["optimajet-admin"]=t(require("react"),require("semantic-ui-react"),require("react-dom"),require("react-data-grid"),require("reflux"),require("react-data-grid-addons")):e["optimajet-admin"]=t(e.react,e["semantic-ui-react"],e["react-dom"],e["react-data-grid"],e.reflux,e["react-data-grid-addons"])}("undefined"!=typeof self?self:this,function(e,t,n,a,r,o){return function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=25)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t,n){var a=t;a.parse=function(){"use strict";var e,t,n,a,r,o,i={"'":"'",'"':'"',"\\":"\\","/":"/","\n":"",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},l=[" ","\t","\r","\n","\v","\f"," ","\ufeff"],s=function(e){return""===e?"EOF":"'"+e+"'"},u=function(a){var o=new SyntaxError;throw o.message=a+" at line "+t+" column "+n+" of the JSON5 data. Still to read: "+JSON.stringify(r.substring(e-1,e+19)),o.at=e,o.lineNumber=t,o.columnNumber=n,o},d=function(o){return o&&o!==a&&u("Expected "+s(o)+" instead of "+s(a)),a=r.charAt(e),e++,n++,("\n"===a||"\r"===a&&"\n"!==c())&&(t++,n=0),a},c=function(){return r.charAt(e)},f=function(){var e=a;for("_"!==a&&"$"!==a&&(a<"a"||a>"z")&&(a<"A"||a>"Z")&&u("Bad identifier as unquoted key");d()&&("_"===a||"$"===a||a>="a"&&a<="z"||a>="A"&&a<="Z"||a>="0"&&a<="9");)e+=a;return e},p=function(){var e,t="",n="",r=10;if("-"!==a&&"+"!==a||(t=a,d(a)),"I"===a)return e=g(),("number"!=typeof e||isNaN(e))&&u("Unexpected word for number"),"-"===t?-e:e;if("N"===a)return e=g(),isNaN(e)||u("expected word to be NaN"),e;switch("0"===a&&(n+=a,d(),"x"===a||"X"===a?(n+=a,d(),r=16):a>="0"&&a<="9"&&u("Octal literal")),r){case 10:for(;a>="0"&&a<="9";)n+=a,d();if("."===a)for(n+=".";d()&&a>="0"&&a<="9";)n+=a;if("e"===a||"E"===a)for(n+=a,d(),"-"!==a&&"+"!==a||(n+=a,d());a>="0"&&a<="9";)n+=a,d();break;case 16:for(;a>="0"&&a<="9"||a>="A"&&a<="F"||a>="a"&&a<="f";)n+=a,d()}if(e="-"===t?-n:+n,isFinite(e))return e;u("Bad number")},h=function(){var e,t,n,r,o="";if('"'===a||"'"===a)for(n=a;d();){if(a===n)return d(),o;if("\\"===a)if(d(),"u"===a){for(r=0,t=0;t<4&&(e=parseInt(d(),16),isFinite(e));t+=1)r=16*r+e;o+=String.fromCharCode(r)}else if("\r"===a)"\n"===c()&&d();else{if("string"!=typeof i[a])break;o+=i[a]}else{if("\n"===a)break;o+=a}}u("Bad string")},m=function(){"/"!==a&&u("Not an inline comment");do{if(d(),"\n"===a||"\r"===a)return void d()}while(a)},v=function(){"*"!==a&&u("Not a block comment");do{for(d();"*"===a;)if(d("*"),"/"===a)return void d("/")}while(a);u("Unterminated block comment")},y=function(){"/"!==a&&u("Not a comment"),d("/"),"/"===a?m():"*"===a?v():u("Unrecognized comment")},b=function(){for(;a;)if("/"===a)y();else{if(!(l.indexOf(a)>=0))return;d()}},g=function(){switch(a){case"t":return d("t"),d("r"),d("u"),d("e"),!0;case"f":return d("f"),d("a"),d("l"),d("s"),d("e"),!1;case"n":return d("n"),d("u"),d("l"),d("l"),null;case"I":return d("I"),d("n"),d("f"),d("i"),d("n"),d("i"),d("t"),d("y"),1/0;case"N":return d("N"),d("a"),d("N"),NaN}u("Unexpected "+s(a))},E=function(){var e=[];if("["===a)for(d("["),b();a;){if("]"===a)return d("]"),e;if(","===a?u("Missing array element"):e.push(o()),b(),","!==a)return d("]"),e;d(","),b()}u("Bad array")},k=function(){var e,t={};if("{"===a)for(d("{"),b();a;){if("}"===a)return d("}"),t;if(e='"'===a||"'"===a?h():f(),b(),d(":"),t[e]=o(),b(),","!==a)return d("}"),t;d(","),b()}u("Bad object")};return o=function(){switch(b(),a){case"{":return k();case"[":return E();case'"':case"'":return h();case"-":case"+":case".":return p();default:return a>="0"&&a<="9"?p():g()}},function(i,l){var s;return r=String(i),e=0,t=1,n=1,a=" ",s=o(),b(),a&&u("Syntax error"),"function"==typeof l?function e(t,n){var a,r,o=t[n];if(o&&"object"==typeof o)for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r=e(o,a),void 0!==r?o[a]=r:delete o[a]);return l.call(t,n,o)}({"":s},""):s}}(),a.stringify=function(e,t,n){function r(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"_"===e||"$"===e}function o(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||"_"===e||"$"===e}function i(e){if("string"!=typeof e)return!1;if(!o(e[0]))return!1;for(var t=1,n=e.length;t<n;){if(!r(e[t]))return!1;t++}return!0}function l(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}function s(e){return"[object Date]"===Object.prototype.toString.call(e)}function u(e){for(var t=0;t<m.length;t++)if(m[t]===e)throw new TypeError("Converting circular structure to JSON")}function d(e,t,n){if(!e)return"";e.length>10&&(e=e.substring(0,10));for(var a=n?"":"\n",r=0;r<t;r++)a+=e;return a}function c(e){return v.lastIndex=0,v.test(e)?'"'+e.replace(v,function(e){var t=y[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function f(e,t,n){var a,r,o=p(e,t,n);switch(o&&!s(o)&&(o=o.valueOf()),typeof o){case"boolean":return o.toString();case"number":return isNaN(o)||!isFinite(o)?"null":o.toString();case"string":return c(o.toString());case"object":if(null===o)return"null";if(l(o)){u(o),a="[",m.push(o);for(var v=0;v<o.length;v++)r=f(o,v,!1),a+=d(h,m.length),a+=null===r||void 0===r?"null":r,v<o.length-1?a+=",":h&&(a+="\n");m.pop(),o.length&&(a+=d(h,m.length,!0)),a+="]"}else{u(o),a="{";var y=!1;m.push(o);for(var b in o)if(o.hasOwnProperty(b)){var g=f(o,b,!1);n=!1,void 0!==g&&null!==g&&(a+=d(h,m.length),y=!0,t=i(b)?b:c(b),a+=t+":"+(h?" ":"")+g+",")}m.pop(),a=y?a.substring(0,a.length-1)+d(h,m.length)+"}":"{}"}return a;default:return}}if(t&&"function"!=typeof t&&!l(t))throw new Error("Replacer must be a function or an array");var p=function(e,n,a){var r=e[n];return r&&r.toJSON&&"function"==typeof r.toJSON&&(r=r.toJSON()),"function"==typeof t?t.call(e,n,r):t?a||l(e)||t.indexOf(n)>=0?r:void 0:r};a.isWord=i;var h,m=[];n&&("string"==typeof n?h=n:"number"==typeof n&&n>=0&&(h=d(" ",n,!0)));var v=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,y={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},b={"":e};return void 0===e?p(b,"",!0):f(b,"",!0)}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(0),c=a(d),f=n(2),p=(a(f),n(1)),h=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),u(t,[{key:"GuidEmpty",value:function(){return"00000000-0000-0000-0000-000000000000"}},{key:"setUpdatedState",value:function(e){void 0==e.__state&&(e.__state="updated")}},{key:"onSave",value:function(){var e=this,t=[];this.state.data.forEach(function(n){void 0!=n.__state&&t.push(s({},n,{__type:e.datatype}))}),this.ChangeData(t)}},{key:"ChangeData",value:function(e,t){var n=this,a=new Array;a.push({name:"operation",value:"change"}),a.push({name:"items",value:JSON.stringify(e)}),$.ajax({url:n.props.apiUrl,data:a,async:!0,type:"post",success:function(e){e.success?(alertify.success("The changes have been saved!"),void 0!=t&&t(e)):alertify.error(e.message)}})}},{key:"СloneObj",value:function(e){if(null==e||"object"!=(void 0===e?"undefined":l(e)))return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=this.СloneObj(e[n]));return t}},{key:"ResetSystemProps",value:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)"deleted"==e[t].__state?(e.splice(t,1),t--):this.ResetSystemProps(e[t]);if("object"==(void 0===e?"undefined":l(e)))for(var n in e)"__state"!=n&&"__type"!=n&&"__error"!=n||(e[n]=void 0)}},{key:"NewGUID",value:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},{key:"updateQueryStringParameter",value:function(e,t,n){var a=new RegExp("([?&])"+t+"=.*?(&|#|$)","i");if(void 0===n){if(e.match(a)){var r=e.replace(a,"$1$2");return"&"==r[r.length-1]&&(r=r.substring(0,r.length-1)),r}return e}if(e.match(a))return e.replace(a,"$1"+t+"="+n+"$2");var o="";return-1!==e.indexOf("#")&&(o=e.replace(/.*#/,"#"),e=e.replace(/#.*/,"")),e+(-1!==e.indexOf("?")?"&":"?")+t+"="+n+o}},{key:"getQueryString",value:function(){for(var e={},t=window.location.search.substring(1),n=t.split("&"),a=0;a<n.length;a++){var r=n[a].split("=");if(void 0===e[r[0]])e[r[0]]=r[1];else if("string"==typeof e[r[0]]){var o=[e[r[0]],r[1]];e[r[0]]=o}else e[r[0]].push(r[1])}return e}},{key:"getProcessLoadError",value:function(e,t){return 0===e.status?"Not connect.\n Verify Network.":404==e.status?"Requested page not found. [404]":500==e.status?"Internal Server Error [500].":"parsererror"===t?"Requested JSON parse failed.":"timeout"===t?"Time out error.":"abort"===t?"Ajax request aborted.":"Uncaught Error.\n"+e.responseText}},{key:"RenderLoading",value:function(){var e=this;if(!Boolean(this.state.progresserror))if(void 0==this.state.progresspercent&&(this.state.progresspercent=0),this.state.progresspercent<100){setTimeout(function(){e.setState({progresspercent:e.state.progresspercent+1})},250)}else this.state.progresserror=!0,this.state.progressmsg="Something went wrong, check errors!";return c.default.createElement("div",{className:"dwkit-formadmin-loadingscreen"},c.default.createElement("img",{className:"dwkit-formadmin-loadingscreen-logo",src:"/images/logo.svg"}),c.default.createElement("p",null,this.state.progressmsg),c.default.createElement("div",{className:"dwkit-formadmin-loadingscreen-progressbar"},c.default.createElement(p.Progress,{percent:this.state.progresspercent,error:Boolean(this.state.progresserror),indicating:!0})))}}]),t}(c.default.Component);t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),d=a(u),c=n(2),f=(a(c),n(8)),p=(a(f),n(4)),h=a(p),m=n(1),v=n(3),y=(a(v),n(15)),b=a(y),g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));void 0==n.idfield&&(n.idfield="id"),n.state={selectedIndexes:[],openmodal:!1};var a=n;return window.onresize=function(){a.recalcSizeParams()},n}return i(t,e),s(t,[{key:"createNewObject",value:function(){var e={__state:"inserted"};return e[this.idfield]=this.NewGUID(),e}},{key:"showedit",value:function(e){this.state.editrowid=void 0,this.props.parent.openpage(this.panelindex,e[this.idfield])}},{key:"loadeditrow",value:function(){if(this.state.editrowid=this.props.id,void 0==this.props.id)return void(this.state.editrow=void 0);var e=this.getEditRow();this.state.editrow=this.СloneObj(e)}},{key:"applyeditrow",value:function(){for(var e=this.state.editrow[this.idfield],t=-1,n=this.props.data[this.dataindex],a=0;a<n.length;a++)if(e===n[a][this.idfield]){t=a;break}t>=0?this.props.data[this.dataindex][t]=this.state.editrow:this.props.data[this.dataindex].unshift(this.state.editrow)}},{key:"back",value:function(){this.state.selectedIndexes=[],this.props.parent.openpage(this.panelindex)}},{key:"getEditRow",value:function(){var e=this.props.id;if("new"==e)return this.createNewObject();for(var t=this.props.data[this.dataindex],n=0;n<t.length;n++)if(t[n][this.idfield]==e)return t[n];alertify.error("This object is not found!")}},{key:"render",value:function(){return this.state.editrowid!=this.props.id&&this.loadeditrow(),d.default.createElement("div",null,void 0==this.props.id?this.renderMainForm():this.renderEditForm())}},{key:"validate",value:function(){return!0}},{key:"renderMainForm",value:function(){var e=this,t=this,n=(void 0==this.props.data[this.dataindex]||this.props.data[this.dataindex].length,function(){t.setState({confirmdeleteshow:!1})}),a=this.gridColumns(),r="";return a.length>0&&(r=a[0].key+" ASC"),d.default.createElement("div",null,d.default.createElement("h1",null,this.title),this.renderToolbar(),d.default.createElement(b.default,{key:"Formgrid",rowKey:this.idfield,rowHeight:50,columns:this.gridColumns(),defaultSort:r,minHeight:this.state.gridHeight,multiselect:!0,value:this.props.data[this.dataindex],handleEvent:this.gridHandleEvent.bind(this),ref:function(t){e.grid=t}}),d.default.createElement(m.Confirm,{open:this.state.confirmdeleteshow,dimmer:"blurring",content:"Are you sure to delete selected item(s)?",onCancel:n,onConfirm:this.onDelete.bind(this)}))}},{key:"renderToolbar",value:function(){var e=this,t=this,n=function(){t.setState({confirmdeleteshow:!0})},a=function(){e.props.parent.openpage(e.panelindex,"new")};return d.default.createElement("div",{className:"dwkitadmin-toolbar"},d.default.createElement(m.Button,{className:"buttontype1",onClick:a},"Create"),d.default.createElement(m.Button,{className:"buttontype2",onClick:n},"Delete"))}},{key:"renderEditForm",value:function(){return d.default.createElement(this.editform,l({},this.props,{parent:this,data:this.state.editrow,ischanged:this.state.ischanged,metadata:this.props.data,handleChange:this.handleChange,onSave:this.onSave,onCancel:this.onCancel}))}},{key:"onSave",value:function(){var e=this;if(!this.validate())return void alertify.success("Please, check all errors");void 0!=e.state.editrow.__state?(e.state.editrow.__type=this.datatype,this.ChangeData([e.state.editrow],function(t){e.ResetSystemProps(e.state.editrow),e.applyeditrow(),e.showedit(e.state.editrow)})):alertify.success("No need to save unchanged object.")}},{key:"onCancel",value:function(){this.loadeditrow(),this.forceUpdate()}},{key:"getDefaultObjectCode",value:function(){for(var e=this.defaultNamePrefix,t=0;t<1e3;t++){var n=e+(0==t?"":"_"+t.toString());if(this.validateCode(n)){e=n;break}}return e}},{key:"validateCode",value:function(e){var t=!0,n=this.props.data[this.dataindex];if(void 0!=n)for(var a=0;a<n.length;a++){var r=n[a];if(r[this.idfield]==e){t=!1;break}}return t}},{key:"onDelete",value:function(){for(var e=this,t=[],n=[],a=this.grid.getSeletedRowKeys(),r=0;r<this.props.data[this.dataindex].length;r++){for(var o=this.props.data[this.dataindex][r],i=!1,l=0;l<a.length;l++)if(o[this.idfield]==a[l]){i=!0;break}if(i){var s=this.props.data[this.dataindex][r];s.__type=this.datatype,s.__state="deleted",n.push(s)}else t.push(this.props.data[this.dataindex][r])}e.setState({confirmdeleteshow:!1}),this.ChangeData(n,function(){e.props.data[e.dataindex]=t,e.grid.resetSelection(),e.forceUpdate()})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.recalcSizeParams()}},{key:"recalcSizeParams",value:function(){if(this._isMounted){var e=$(window).height();this.setState({gridHeight:e-140-this.props.deltaHeight})}}},{key:"gridColumns",value:function(){return[{key:"code",name:"Code",resizable:!0}]}},{key:"gridHandleEvent",value:function(e){var t=e.eventName,n=e.parameters;"onRowDblClick"==t&&this.showedit(n.row)}}]),t}(h.default);t.default=g},function(e,t,n){var a=t;a.parse=function(){"use strict";var e,t,n,a,r,o,i={"'":"'",'"':'"',"\\":"\\","/":"/","\n":"",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},l=[" ","\t","\r","\n","\v","\f"," ","\ufeff"],s=function(e){return""===e?"EOF":"'"+e+"'"},u=function(a){var o=new SyntaxError;throw o.message=a+" at line "+t+" column "+n+" of the JSON5 data. Still to read: "+JSON.stringify(r.substring(e-1,e+19)),o.at=e,o.lineNumber=t,o.columnNumber=n,o},d=function(o){return o&&o!==a&&u("Expected "+s(o)+" instead of "+s(a)),a=r.charAt(e),e++,n++,("\n"===a||"\r"===a&&"\n"!==c())&&(t++,n=0),a},c=function(){return r.charAt(e)},f=function(){var e=a;for("_"!==a&&"$"!==a&&(a<"a"||a>"z")&&(a<"A"||a>"Z")&&u("Bad identifier as unquoted key");d()&&("_"===a||"$"===a||a>="a"&&a<="z"||a>="A"&&a<="Z"||a>="0"&&a<="9");)e+=a;return e},p=function(){var e,t="",n="",r=10;if("-"!==a&&"+"!==a||(t=a,d(a)),"I"===a)return e=g(),("number"!=typeof e||isNaN(e))&&u("Unexpected word for number"),"-"===t?-e:e;if("N"===a)return e=g(),isNaN(e)||u("expected word to be NaN"),e;switch("0"===a&&(n+=a,d(),"x"===a||"X"===a?(n+=a,d(),r=16):a>="0"&&a<="9"&&u("Octal literal")),r){case 10:for(;a>="0"&&a<="9";)n+=a,d();if("."===a)for(n+=".";d()&&a>="0"&&a<="9";)n+=a;if("e"===a||"E"===a)for(n+=a,d(),"-"!==a&&"+"!==a||(n+=a,d());a>="0"&&a<="9";)n+=a,d();break;case 16:for(;a>="0"&&a<="9"||a>="A"&&a<="F"||a>="a"&&a<="f";)n+=a,d()}if(e="-"===t?-n:+n,isFinite(e))return e;u("Bad number")},h=function(){var e,t,n,r,o="";if('"'===a||"'"===a)for(n=a;d();){if(a===n)return d(),o;if("\\"===a)if(d(),"u"===a){for(r=0,t=0;t<4&&(e=parseInt(d(),16),isFinite(e));t+=1)r=16*r+e;o+=String.fromCharCode(r)}else if("\r"===a)"\n"===c()&&d();else{if("string"!=typeof i[a])break;o+=i[a]}else{if("\n"===a)break;o+=a}}u("Bad string")},m=function(){"/"!==a&&u("Not an inline comment");do{if(d(),"\n"===a||"\r"===a)return void d()}while(a)},v=function(){"*"!==a&&u("Not a block comment");do{for(d();"*"===a;)if(d("*"),"/"===a)return void d("/")}while(a);u("Unterminated block comment")},y=function(){"/"!==a&&u("Not a comment"),d("/"),"/"===a?m():"*"===a?v():u("Unrecognized comment")},b=function(){for(;a;)if("/"===a)y();else{if(!(l.indexOf(a)>=0))return;d()}},g=function(){switch(a){case"t":return d("t"),d("r"),d("u"),d("e"),!0;case"f":return d("f"),d("a"),d("l"),d("s"),d("e"),!1;case"n":return d("n"),d("u"),d("l"),d("l"),null;case"I":return d("I"),d("n"),d("f"),d("i"),d("n"),d("i"),d("t"),d("y"),1/0;case"N":return d("N"),d("a"),d("N"),NaN}u("Unexpected "+s(a))},E=function(){var e=[];if("["===a)for(d("["),b();a;){if("]"===a)return d("]"),e;if(","===a?u("Missing array element"):e.push(o()),b(),","!==a)return d("]"),e;d(","),b()}u("Bad array")},k=function(){var e,t={};if("{"===a)for(d("{"),b();a;){if("}"===a)return d("}"),t;if(e='"'===a||"'"===a?h():f(),b(),d(":"),t[e]=o(),b(),","!==a)return d("}"),t;d(","),b()}u("Bad object")};return o=function(){switch(b(),a){case"{":return k();case"[":return E();case'"':case"'":return h();case"-":case"+":case".":return p();default:return a>="0"&&a<="9"?p():g()}},function(i,l){var s;return r=String(i),e=0,t=1,n=1,a=" ",s=o(),b(),a&&u("Syntax error"),"function"==typeof l?function e(t,n){var a,r,o=t[n];if(o&&"object"==typeof o)for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r=e(o,a),void 0!==r?o[a]=r:delete o[a]);return l.call(t,n,o)}({"":s},""):s}}(),a.stringify=function(e,t,n){function r(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"_"===e||"$"===e}function o(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||"_"===e||"$"===e}function i(e){if("string"!=typeof e)return!1;if(!o(e[0]))return!1;for(var t=1,n=e.length;t<n;){if(!r(e[t]))return!1;t++}return!0}function l(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}function s(e){return"[object Date]"===Object.prototype.toString.call(e)}function u(e){for(var t=0;t<m.length;t++)if(m[t]===e)throw new TypeError("Converting circular structure to JSON")}function d(e,t,n){if(!e)return"";e.length>10&&(e=e.substring(0,10));for(var a=n?"":"\n",r=0;r<t;r++)a+=e;return a}function c(e){return v.lastIndex=0,v.test(e)?'"'+e.replace(v,function(e){var t=y[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function f(e,t,n){var a,r,o=p(e,t,n);switch(o&&!s(o)&&(o=o.valueOf()),typeof o){case"boolean":return o.toString();case"number":return isNaN(o)||!isFinite(o)?"null":o.toString();case"string":return c(o.toString());case"object":if(null===o)return"null";if(l(o)){u(o),a="[",m.push(o);for(var v=0;v<o.length;v++)r=f(o,v,!1),a+=d(h,m.length),a+=null===r||void 0===r?"null":r,v<o.length-1?a+=",":h&&(a+="\n");m.pop(),o.length&&(a+=d(h,m.length,!0)),a+="]"}else{u(o),a="{";var y=!1;m.push(o);for(var b in o)if(o.hasOwnProperty(b)){var g=f(o,b,!1);n=!1,void 0!==g&&null!==g&&(a+=d(h,m.length),y=!0,t=i(b)?b:c(b),a+=t+":"+(h?" ":"")+g+",")}m.pop(),a=y?a.substring(0,a.length-1)+d(h,m.length)+"}":"{}"}return a;default:return}}if(t&&"function"!=typeof t&&!l(t))throw new Error("Replacer must be a function or an array");var p=function(e,n,a){var r=e[n];return r&&r.toJSON&&"function"==typeof r.toJSON&&(r=r.toJSON()),"function"==typeof t?t.call(e,n,r):t?a||l(e)||t.indexOf(n)>=0?r:void 0:r};a.isWord=i;var h,m=[];n&&("string"==typeof n?h=n:"number"==typeof n&&n>=0&&(h=d(" ",n,!0)));var v=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,y={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},b={"":e};return void 0===e?p(b,"",!0):f(b,"",!0)}},function(e,t,n){"use strict";var a=n(22),r=a.createActions(["add","showEditForm","remove","saveData","save","move"]);e.exports=r},function(e,t,n){"use strict";function a(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?i(new e.constructor,e):e}function r(e,t,n){l(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e);var a=t[n];l(Array.isArray(a),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",n,a)}function o(e,t){if(l("object"==typeof t,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",m.join(", "),f),s.call(t,f))return l(1===Object.keys(t).length,"Cannot have more than one key in an object with %s",f),t[f];var n=a(e);if(s.call(t,p)){var y=t[p];l(y&&"object"==typeof y,"update(): %s expects a spec of type 'object'; got %s",p,y),l(n&&"object"==typeof n,"update(): %s expects a target of type 'object'; got %s",p,n),i(n,t[p])}s.call(t,u)&&(r(e,t,u),t[u].forEach(function(e){n.push(e)})),s.call(t,d)&&(r(e,t,d),t[d].forEach(function(e){n.unshift(e)})),s.call(t,c)&&(l(Array.isArray(e),"Expected %s target to be an array; got %s",c,e),l(Array.isArray(t[c]),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",c,t[c]),t[c].forEach(function(e){l(Array.isArray(e),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",c,t[c]),n.splice.apply(n,e)})),s.call(t,h)&&(l("function"==typeof t[h],"update(): expected spec of %s to be a function; got %s.",h,t[h]),n=t[h](n));for(var b in t)v.hasOwnProperty(b)&&v[b]||(n[b]=o(e[b],t[b]));return n}var i=n(13),l=n(14),s={}.hasOwnProperty,u="$push",d="$unshift",c="$splice",f="$set",p="$merge",h="$apply",m=[u,d,c,f,p,h],v={};m.forEach(function(e){v[e]=!0}),e.exports=o},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(0),l=a(i),s=n(16),u=(a(s),n(49)),d=n(51),c=a(d),f=n(52),p=a(f),h=n(6),m=a(h),v=n(15),y=a(v),b=n(53),g=a(b),E=n(54),k=a(E),C=n(55),w=a(C),_=n(56),O=a(_),F=n(57),x=a(F),j=n(11),D=a(j),S=n(58),I=a(S),N=n(59),P=a(N),A=n(60),M=a(A),T={Items:[{key:"sepContainers",title:"Containers",isseparate:!0,defaultopen:!0},{key:"container",title:"DIV",control:O.default,editControl:u.ContainerEditControl},{key:"form",title:"Form",control:M.default,editControl:u.FormEditControl},{key:"formgroup",title:"Form Group",control:M.default,editControl:u.FormGroupEditControl,forContainerType:"form",defaultValues:{widths:"equal"}},{key:"menu",title:"Menu",control:p.default,editControl:u.MenuEditControl,defaultValues:{items:[{target:"menu1",title:"Menu 1"},{target:"menu2",title:"Menu 2"},{target:"menu3",title:"Menu 3"}]}},{key:"workflowbar",title:"Workflow bar",control:k.default,editControl:u.WorkflowBarEditControl,defaultValues:{events:{onCommandClick:{active:!0,actions:["workflowCommand"]},onSetStateClick:{active:!0,actions:["workflowSetState"]}}}},{key:"customblock",title:"Custom block",control:void 0,editControl:u.CustomBlockEditControl,defaultValues:{sourceType:"form"}},{key:"sepCollection",title:"Collections",isseparate:!0},{key:"gridview",title:"GridView",control:y.default,editControl:u.GridEditControl,defaultValues:{columns:[{key:"id",name:"ID"},{key:"title",name:"Title"},{key:"count",name:"Count"}]}},{key:"collectioneditor",title:"Collection Editor",control:D.default,editControl:u.CollectionEditorEditControl,defaultValues:{idField:"Id",parentIdField:"ParentId",columns:[{key:"Id",name:"ID"},{key:"Title",name:"Title"},{key:"Count",name:"Count"}]}},{key:"sepControls",title:"Controls",isseparate:!0},{key:"header",title:"Header",control:M.default,editControl:u.HeaderEditControl,defaultValues:{content:"Header",size:"medium"}},{key:"input",title:"Input",control:M.default,editControl:u.InputEditControl,defaultValues:{label:"Input",fluid:!0}},{key:"textarea",title:"TextArea",control:M.default,editControl:u.TextAreaEditControl,defaultValues:{label:"TextArea",fluid:!0}},{key:"dictionary",title:"Dictionary",control:w.default,editControl:u.DictionaryEditControl,defaultValues:{label:"Dictionary",fluid:!0,selection:!0}},{key:"dropdown",title:"Dropdown",control:M.default,editControl:u.DropdownEditControl,defaultValues:{label:"Dropdown",fluid:!0,selection:!0,"data-elements":[{key:1,value:1,text:"Item 1"},{key:2,value:2,text:"Item 2"},{key:3,value:3,text:"Item 3"}]}},{key:"checkbox",title:"CheckBox",control:M.default,editControl:u.CheckboxEditControl,defaultValues:{label:"Checkbox"}},{key:"radiogroup",title:"Radio group",control:c.default,editControl:u.RadioGroupEditControl,defaultValues:{label:"Radio","data-elements":[{key:1,value:1,text:"Item 1"},{key:2,value:2,text:"Item 2"},{key:3,value:3,text:"Item 3"}]}},{key:"button",title:"Button",control:M.default,editControl:u.ButtonEditControl,defaultValues:{content:"Button"}},{key:"label",title:"Label",control:M.default,editControl:u.LabelEditControl,defaultValues:{content:"Label"}},{key:"message",title:"Message",control:M.default,editControl:u.MessageEditControl,defaultValues:{header:"Message",content:"Description..."}},{key:"image",title:"Image",control:M.default,editControl:u.ImageEditControl,defaultValues:{src:"/images/unknown.png"}},{key:"statistic",title:"Statistic",control:M.default,editControl:u.StatisticEditControl,defaultValues:{"data-elements":[{label:"Score",value:"22,1%"},{label:"Views",value:"30,000"},{label:"Points",value:"500"}]}},{key:"customcontrol",title:"Custom control",control:void 0,editControl:u.CustomEditControl,defaultValues:{props:"{  }"}},{key:"staticcontent",title:"Static Content",control:x.default,editControl:u.StaticContentEditControl,defaultValues:{content:"Text..."}},{key:"dropdowntrigger",title:"Dropdown trigger",control:P.default,editControl:u.DropdownTriggerEditControl,defaultValues:{defaultValue:"User",items:[{target:"#1",title:"Item 1"},{target:"#2",title:"Item 2"},{target:"#3",title:"Item 3"}]}},{key:"sepCharts",title:"Charts",isseparate:!0},{key:"barchart",title:"Bar",control:g.default,editControl:u.ChartEditControl,defaultValues:{chartType:"bar",datasetLabel:""}},{key:"linechart",title:"Line",control:g.default,editControl:u.ChartEditControl,defaultValues:{chartType:"line",datasetLabel:""}},{key:"scatterchart",title:"Scatter",control:g.default,editControl:u.ChartEditControl,defaultValues:{chartType:"scatter",datasetLabel:""}},{key:"doughnutchart",title:"Doughnut",control:g.default,editControl:u.ChartEditControl,defaultValues:{chartType:"doughnut",datasetLabel:""}},{key:"piechart",title:"Pie",control:g.default,editControl:u.ChartEditControl,defaultValues:{chartType:"pie",datasetLabel:""}},{key:"radarchart",title:"Radar",control:g.default,editControl:u.ChartEditControl,defaultValues:{chartType:"radar",datasetLabel:""}}],createControls:function(e,t){var n=t.model,a=t.data,r=t.errors,i=t.eventOnEdit,s=t.eventOnDelete,u=t.eventOnCopy,d=t.handleEvent,c=t.parentItem,f=t.getFormFunc,p=t.getAdditionalDataForControl,h=t.buildermode,v=t.hideControls,y=t.readOnlyControls,b=t.readOnly,g=t.disableRefs,E=[];if(void 0==n)return E;for(var k=0;k<n.length;k++)if(!Array.isArray(v)||!v.includes(n[k].key)){var C,w=n[k]["data-buildertype"];if("customcontrol"==w)if(void 0==n[k].type||""==n[k].type)C=l.default.createElement("div",{className:"dwkit-formbuilder-empty",key:n[k].key},"Fill Type property for rendering the control.");else{var _=void 0==n[k].props?{}:m.default.parse(n[k].props),O=o({},_,{key:n[k].key,name:n[k].key,className:n[k]["style-customcss"],style:this.getStyle(n[k],h),"data-buildertype":n[k]["data-buildertype"],getAdditionalDataForControl:p});(b||Array.isArray(y)&&y.includes(O.key))&&(O.readOnly=!0);var F=n[k].children;if(void 0!=n[k].children)try{F=m.default.parse(n[k].children)}catch(e){}C=void 0==F||Array.isArray(F)&&0==F.length?l.default.createElement(n[k].type,O):l.default.createElement(n[k].type,O,F)}else if("customblock"==w){var x=[],j=!1;if("form"==n[k].sourceType){if(void 0==f){console.error('Error: "getFormFunc" parameter is undefined!. Please, set "getFormFunc" parameter for DWKitBuilder or DWKitForm!');continue}void 0!=n[k].formname&&""!=n[k].formname?x=f(n[k].formname):j=!0}else void 0!=n[k].source&&""!=n[k].source?x=m.default.parse(n[k].source):j=!0;if(j)C=l.default.createElement("div",{className:"dwkit-formbuilder-empty",key:n[k].key},"Set a form name or source in propepries.");else{var F=this.createControls(e,{model:x,data:a,errors:r,buildermode:!1,eventOnEdit:i,eventOnDelete:s,eventOnCopy:u,parentItem:n[k],handleEvent:d,getFormFunc:f,getAdditionalDataForControl:p,hideControls:v,readOnlyControls:y,readOnly:b,disableRefs:g}),D={key:n[k].key,name:n[k].key,className:n[k]["style-customcss"],style:this.getStyle(n[k],h),"data-buildertype":n[k]["data-buildertype"]};C=l.default.createElement("div",D,F)}}else{var S=this.getControlByType(w);if(null==S)C=l.default.createElement("div",{key:n[k].key},w," is unsupported");else if(this.isContainer(w)){var F=this.createControls(e,{model:n[k].children,data:a,errors:r,buildermode:h,eventOnEdit:i,eventOnDelete:s,eventOnCopy:u,parentItem:n[k],handleEvent:d,getFormFunc:f,getAdditionalDataForControl:p,hideControls:v,readOnlyControls:y,readOnly:b,disableRefs:g});if(h){var N="formgroup"==n[k]["data-buildertype"]&&"grouped"!=n[k].orientation;if(F.length>0){var P=N?"...":"... "+n[k].key+" down ...",A=this.createBuilderDropzone(n[k].key+"-dropzone_footer",n[k].key,void 0,P);F.push(A)}var M=N?"...":"... "+n[k].key+" up ...",T=this.createBuilderDropzone(n[k].key+"-dropzone_header",n[k].key,void 0,M);F.unshift(T)}C=this.createControl(e,S,{model:n[k],data:a,errors:r,parentItem:c,buildermode:h,children:F,handleEvent:d,getAdditionalDataForControl:p,readOnlyControls:y,readOnly:b,disableRefs:g})}else C=this.createControl(e,S,{model:n[k],data:a,errors:r,parentItem:c,buildermode:h,handleEvent:d,getAdditionalDataForControl:p,readOnlyControls:y,readOnly:b,disableRefs:g})}if(h){if(k>0&&k<n.length){var R=this.createBuilderDropzone(n[k].key+"-dropzone_bw",void 0==c?void 0:c.key,n[k].key,"...");E.push(R)}var B=l.default.createElement(I.default,{key:n[k].key+"_controlbar",model:n[k],parent:e,onDelete:s,onEdit:i,onCopy:u});E.push(B)}E.push(C)}return E},getControlByType:function(e){for(var t=void 0,n=0;n<this.Items.length;n++)if(this.Items[n].key==e){t=this.Items[n].control;break}return t},getEditControlByType:function(e){for(var t=void 0,n=0;n<this.Items.length;n++)if(this.Items[n].key==e){t=this.Items[n].editControl;break}return t},getStyle:function(e,t){var n={marginTop:e["style-marginTop"],marginBottom:e["style-marginBottom"],marginLeft:e["style-marginLeft"],marginRight:e["style-marginRight"],width:e["style-width"],height:e["style-height"]};if(void 0!=e["style-float"]&&(n.float=e["style-float"]),e["style-hidden"]&&(t?n.opacity=.2:n.display="none"),void 0!=e["style-source"]){e["style-source"].split(";").forEach(function(e){var t=e.split(":");n[t[0]]=t[1]})}return void 0!=e["style-font-size"]&&(n["font-size"]=e["style-font-size"]),n},createControl:function(e,t,n){var a=n.model,i=n.data,s=n.errors,u=n.parentItem,d=n.buildermode,f=n.children,h=n.handleEvent,v=n.getAdditionalDataForControl,b=n.readOnlyControls,E=n.readOnly,C=n.disableRefs,_=void 0,F={key:a.key,name:a.key,className:a["style-customcss"],style:this.getStyle(a,d),"data-buildertype":a["data-buildertype"]};if(C||(F.ref=a.key),void 0!=a.readOnly&&(F.readOnly=a.readOnly),(E||Array.isArray(b)&&b.includes(a.key))&&(F.readOnly=!0),t==M.default)_=l.default.createElement(M.default,o({},F,{additionalParams:{model:a,data:i,errors:s,children:f,handleEvent:h,parentItem:u}}));else if(t==w.default)F.label=a.label,F.defaultValue=a.defaultvalue,F.placeholder=a.placeholder,F.loading=a.loading,F.error=a.error,F.disabled=a.disabled,F.fluid=a.fluid,F.selection=a.selection,F.multiple=a.multiple,F.search=a.search,F.dataModel=a.dataModel,F.clearable=a.clearable,F.columns=a.columns,F.getAdditionalDataForControl=v,"object"==(void 0===s?"undefined":r(s))&&void 0!=s[a.key]&&(F.error=s[a.key]),null!=h&&(F.onChange=function(e,t){var n=t.name,a=t.value;h({syntheticEvent:e,key:F.key,eventName:"onChange",name:n,value:a})}),F.parentIsForm=this.isForm(u),void 0!=i&&(F.value=i[F.key]),_=l.default.createElement(w.default,F);else if(t==P.default)F.defaultValue=a.defaultValue,F.items=a.items,F.imageUrl=a.imageUrl,F.handleEvent=h,void 0!=i&&(F.value=i[F.key]),_=l.default.createElement(P.default,F);else if(t==c.default){var j=[];void 0!=a["data-elements"]&&(j=Array.isArray(a["data-elements"])?a["data-elements"]:m.default.parse(a["data-elements"])),null!=h&&(F.onChange=function(e,t){var n=t.name,a=t.value;h({syntheticEvent:e,key:F.key,eventName:"onChange",name:n,value:a})}),"object"==(void 0===s?"undefined":r(s))&&void 0!=s[a.key]&&(F.error=s[a.key]),void 0!=i&&(F.value=i[F.key]),_=l.default.createElement(c.default,o({},F,{label:a.label,direction:a.direction,placeholder:a.placeholder,items:j}))}else if(t==D.default){if(F.columns=a.columns,F.draggable=a.draggable,F.hierarchical=a.hierarchical,F.parentIdField=a.parentIdField,F.idField=a.idField,F.collapseAll=a.collapseAll,F.columns=a.columns,F.handleEvent=h,null!=h?F.onChange=function(e,t){var n=t.name,a=t.value;h({syntheticEvent:e,key:F.key,eventName:"onChange",name:n,value:a})}:d&&(F.onChange=function(e,t){var n=(t.name,t.value);F.value=n}),void 0!=i&&(F.value=i[F.key]),void 0!=s&&(F.error=s[F.key]),d&&void 0==F.value&&void 0!=F.columns){F.value=[];for(var S=0;S<5;S++){var I={};F.columns.forEach(function(e){I[e.key]=e.key+"_"+S}),F.value.push(I)}if(Boolean(a.hierarchical)&&void 0!=a.parentIdField&&""!=a.parentIdField&&void 0!=a.idField&&""!=a.idField)for(var S=1;S<5;S++){var N=F.value[S];void 0==N[a.idField]&&(N[a.idField]=S);for(var A=0;A<2;A++){var T={};F.columns.forEach(function(e){T[e.key]="child_"+A}),T[a.parentIdField]=N[a.idField],F.value.push(T)}}}_=l.default.createElement(D.default,F)}else if(t==y.default){if(F.columns=a.columns,F.multiselect=a.multiselect,F.filterRow=a.filterRow,F.rowKey=a.rowKey,F.editForm=a.editForm,F.pagerType=a.pagerType,F.pageSize=a.pageSize,F.rowHeight=a.rowHeight,F.minHeight=a.minHeight,F.autoHeight=a.autoHeight,F.offSet=a.offSet,F.disableSort=a.disableSort,F.resizeColumns=a.resizeColumns,F.editFormShowType=a.editFormShowType,F.getAdditionalDataForControl=v,F.handleEvent=h,F.defaultSort=a.defaultSort,"object"==(void 0===s?"undefined":r(s))&&void 0!=s[a.key]&&(F.error=s[a.key]),void 0!=i&&(F.value=i[F.key]),d&&void 0==F.value){F.value=[];for(var S=0;S<30;S++){var I={};F.columns.forEach(function(e){I[e.key]=e.key+"_"+S}),F.value.push(I)}}_=l.default.createElement(y.default,F)}else if(t==p.default)F["data-items"]=a.items,F.pointing=a.pointing,F.secondary=a.secondary,F.tabular=a.tabular,F.fluid=a.fluid,F.vertical=a.vertical,F.activeitem=a.activeitem,F.handleEvent=h,void 0!=i&&(F.value=i[F.key]),_=l.default.createElement(p.default,F);else if(t==g.default){if(F.chartType=a.chartType,F.responsive=a.responsive,F.legendPosition=a.legendPosition,F.title=a.title,F.titleSize=a.titleSize,F.datasetCustom=a.datasetCustom,F.dataLabels=a.dataLabels,F.datasetLabel=a.datasetLabel,F.datasetSteppedLine=a.datasetSteppedLine,F.datasetBorderColor=a.datasetBorderColor,F.datasetFill=a.datasetFill,F.datasetBorderWidth=a.datasetBorderWidth,F.datasetBackgroundColor=a.datasetBackgroundColor,d)if(F.datasetCustom)F.value=[1,2,3,4,3,2,1];else{var R="scatter"!=F.chartType?[6,23,15,3]:[{x:6,y:-12},{x:11,y:1},{x:24,y:5},{x:40,y:32}];F.value={labels:["Q1","Q2","Q3","Q4"],datasets:[{data:R}]}}_=l.default.createElement(g.default,F)}else t==k.default?(F.blockSetState=a.blockSetState,F.handleEvent=h,F.getAdditionalDataForControl=v,"object"==(void 0===s?"undefined":r(s))&&void 0!=s[a.key]&&(F.error=s[a.key]),d&&(F.commands=[{value:"approve",text:"Approve",type:1},{value:"back",text:"Back",type:2}],F.states=[{value:"draft",text:"Draft"},{value:"state1",text:"State 1"},{value:"state2",text:"State 2"},{value:"state3",text:"State 3"},{value:"finish",text:"Finish"}]),_=l.default.createElement(k.default,F)):t==O.default?_=l.default.createElement(O.default,o({},F,{children:f})):t==x.default?_=l.default.createElement(x.default,o({},F,{content:a.content,isHtml:a.isHtml})):console.error("Control is unsupported!",t,a);return _},isContainer:function(e){return"form"==e||"formgroup"==e||"grid"==e||"gridrow"==e||"gridcolumn"==e||"card"==e||"cardcontent"==e||"container"==e},isForm:function(e){return null!=e&&("form"==e["data-buildertype"]||"formgroup"==e["data-buildertype"])},createBuilderDropzone:function(e,t,n,a){return void 0==a&&(a="Drag and drop a component..."),l.default.createElement("div",{is:!0,name:e,key:e,elementafter:n,elementtoinsert:t,class:"dwkit-formbuilder-zone"},a)},fillDefaultValues:function(e){for(var t=0;t<this.Items.length;t++)if(this.Items[t].key==e["data-buildertype"]){for(var n in this.Items[t].defaultValues)void 0==e[n]&&(e[n]=this.Items[t].defaultValues[n]);break}return e}};e.exports=T},function(e,t,n){"use strict";var a=n(0),r=n(39);if(void 0===a)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new a.Component).updater;e.exports=r(a.Component,a.isValidElement,o)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(0),c=a(d),f=n(6),p=a(f),h=n(1),m=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={expanded:{}},n}return i(t,e),u(t,[{key:"applyCollapseAll",value:function(e){for(var t=0;t<e.length;t++)void 0==this.state.expanded[t]&&(this.state.expanded[t]=!1)}},{key:"render",value:function(){var e=this.props.columns,t=this.props.value,n=this.props.error;this.props.handleChange;return Boolean(this.props.collapseAll)&&Array.isArray(t)&&this.applyCollapseAll(t),void 0==e||0==e.length?c.default.createElement("div",null,"Fill columns property!"):c.default.createElement("div",{style:this.props.style,className:"field"},c.default.createElement("label",null,this.props.label),c.default.createElement("table",{className:"dwkit-collectioneditor"},c.default.createElement("tbody",null,this.renderHeaderRow(e),this.renderRows(e,t,n))))}},{key:"renderHeaderRow",value:function(e){var t=[],n=0;return e.forEach(function(e){var a,r,o,i=void 0;"object"===(void 0===e?"undefined":s(e))?(a=e.key,r=e.name,o=e.width,Array.isArray(e.dataList)&&(i=e.dataList)):(a=e,r=e),void 0!=r&&r.length>=2&&(r=r.charAt(0).toUpperCase()+r.slice(1));var l,u=void 0;if(void 0!=i){u=a+"_datalist";var d=[];i.forEach(function(e){d.push(c.default.createElement("option",{key:e,value:e}))}),l=c.default.createElement("datalist",{key:u,id:u},d)}t.push(c.default.createElement("td",{key:n,style:{width:o}},r,l)),n++}),Boolean(this.props.readOnly)||t.push(c.default.createElement("td",{key:"btntd",className:"dwkit-collectioneditor-buttoncol"},c.default.createElement("a",{key:"btnadd",className:"dwkit-btn",onClick:this.btnAdd.bind(this)},"Add"))),Boolean(this.props.hierarchical)&&t.unshift(c.default.createElement("td",{key:"expand",className:"dwkit-collectioneditor-expandcol"})),c.default.createElement("tr",{key:"headertr",className:"dwkit-collectioneditor-header"},t)}},{key:"renderRows",value:function(e,t,n,a,r){var o=[],i=void 0==t?[]:t;Array.isArray(i)||(i=p.default.parse(i)),void 0==r&&(r=0);for(var l=0;l<i.length;l++)if(!this.props.hierarchical||i[l][this.props.parentIdField]==a){for(var u=[],d=Array.isArray(n)?n[l]:void 0,f=0;f<e.length;f++){var m,v=this.props.readOnly?"":"input",y=void 0;"object"===s(e[f])?(m=e[f].key,v=e[f].control,Array.isArray(e[f].dataList)&&(y=m+"_datalist")):m=e[f];var b=void 0;void 0!=d&&(b=Boolean(d[m]));var g;if("checkbox"==v)g=c.default.createElement(h.Form.Checkbox,{key:l+"_"+f,name:m,checked:Boolean(i[l][m]),readOnly:Boolean(this.props.readOnly),error:b,onChange:this.handleChange.bind(this,l)});else if("span"==v)g=c.default.createElement("span",{key:l+"_"+f,name:m},i[l][m]);else if("number"==v){var E=null==i[l][m]?"":i[l][m];g=c.default.createElement(h.Form.Input,{key:l+"_"+f,name:m,type:"number",error:b,value:E,readOnly:Boolean(this.props.readOnly),onChange:this.handleChange.bind(this,l)})}else{var k=null==i[l][m]?"":i[l][m];g=c.default.createElement(h.Form.Input,{key:l+"_"+f,name:m,list:y,error:b,value:k,readOnly:Boolean(this.props.readOnly),onChange:this.handleChange.bind(this,l)})}var C=void 0;0!=r&&0==f&&(C=String(15*r)+"px"),u.push(c.default.createElement("td",{style:{paddingLeft:C},key:l+"_"+f+"td"},g))}Boolean(this.props.readOnly)||u.push(c.default.createElement("td",{key:"celldelete",className:"dwkit-collectioneditor-cellbtn"},c.default.createElement("a",{key:"delete",className:"dwkit-btn",onClick:this.btnDelete.bind(this,l)},"Delete")));var w=!Boolean(this.props.readOnly)&&Boolean(this.props.draggable);o.push(c.default.createElement("tr",{key:l,draggable:w,className:"dwkit-collectioneditor-row","data-rowindex":l,onDragEnter:this.onDragEnter.bind(this),onDragOver:this.onDragOver.bind(this),onDragLeave:this.onDragLeave.bind(this),onDrop:this.onDrop.bind(this,l)},u));var _=void 0;if(this.props.hierarchical){var O=i[l][this.props.idField];if(void 0!=O&&""!=O){var F=this.renderRows(e,t,n,O,r+1);if(F.length>0){var x=this.state.expanded[l];void 0==x||1==x?(_=c.default.createElement("img",{onClick:this.onExpand.bind(this,l,!1),className:"dwkit-collectionedit-imgbutton",src:"/images/collapse.svg"}),o=o.concat(F)):_=c.default.createElement("img",{onClick:this.onExpand.bind(this,l,!0),className:"dwkit-collectionedit-imgbutton",src:"/images/expand.svg"})}}u.unshift(c.default.createElement("td",{key:"expand",className:"dwkit-collectionedit-button"},_))}}return o}},{key:"btnDelete",value:function(e){if(void 0!=this.props.onChange){var t=void 0==this.props.value?[]:this.props.value,n=!1;Array.isArray(t)||(t=p.default.parse(t),n=!0);var a=t[e];t.splice(e,1);n&&p.default.stringify(t);this.props.onChange(null,{name:this.props.name,value:t}),void 0!=this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onAdd",parameters:{rowIdx:e,row:a}})}}},{key:"btnAddChild",value:function(e){if(void 0!=this.props.onChange){var t=void 0==this.props.value?[]:this.props.value,n=!1;Array.isArray(t)||(t=p.default.parse(t),n=!0);var a=t[e],r=void 0==this.props.defaultrow?{}:l({},this.props.defaultrow);r[this.props.parentIdField]=a[this.props.idField],t.push(r);n&&p.default.stringify(t);this.props.onChange(null,{name:this.props.name,value:t}),void 0!=this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onAdd",parameters:{rowIdx:t.length-1,row:r}})}}},{key:"btnAdd",value:function(){if(void 0!=this.props.onChange){var e=void 0==this.props.value?[]:this.props.value,t=!1;Array.isArray(e)||(e=p.default.parse(e),t=!0);var n=void 0==this.props.defaultrow?{}:this.props.defaultrow;e.push(n);t&&p.default.stringify(e);this.props.onChange(null,{name:this.props.name,value:e}),void 0!=this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onAdd",parameters:{rowIdx:e.length-1,row:n}})}}},{key:"onExpand",value:function(e,t){this.state.expanded[e]=t,this.forceUpdate()}},{key:"onDragEnter",value:function(e){}},{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onDragLeave",value:function(e){}},{key:"onDrop",value:function(e,t){var n=$(t.target).parents("tr");if(n.length>0){var a=n[0].attributes["data-rowindex"];if(void 0!=a){var r=a.value;if(void 0!=r){if(e!=r&&void 0!=this.props.onChange){var o=this.getCopyRowsFromProps();o.splice(r,0,o.splice(e,1)[0]),this.sendChangesToParent(o)}t.preventDefault()}}}}},{key:"handleChange",value:function(e,t,n){var a=n.name,r=n.value,o=n.checked;if(void 0!=this.props.onChange){var i=this.getCopyRowsFromProps();i[e][a]=void 0==r&&void 0!=o?o:r,this.sendChangesToParent(i),t.preventDefault()}}},{key:"getCopyRowsFromProps",value:function(){var e=void 0==this.props.value?[]:this.props.value;return Array.isArray(e)?e=e.slice():(e=p.default.parse(e),!0),e}},{key:"sendChangesToParent",value:function(e){var t=!1;Array.isArray(e)||(t=!0);var n=t?p.default.stringify(e):e;this.props.onChange(null,{name:this.props.name,value:n})}}]),t}(c.default.Component);t.default=m},function(e,t,n){"use strict";var a,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(22),i=n(7),l=n(9),s=o.createStore({init:function(){this.listenTo(i.add,this.add),this.listenTo(i.move,this.move),this.listenTo(i.remove,this.remove),this.listenTo(i.save,this.save),this.listenTo(i.saveData,this._updateOrder),a=[]},move:function(e,t){if(void 0!=t){var n=this.findItemByKey(e,a),r=this._excludeItemByKey(e,a);if(void 0!=t.attributes.name&&"dropzone_footer"==t.attributes.name.value)r.push(n);else if(void 0!=t.attributes.name&&"dropzone_header"==t.attributes.name.value)r.unshift(n);else if(void 0!=t.attributes.elementtoinsert){var o,i=t.attributes.elementtoinsert;if(void 0!=i&&(o=this.findItemByKey(i.value,r)),void 0!=o)if(void 0==o.children&&(o.children=[]),void 0!=t.attributes.name&&t.attributes.name.value.includes("dropzone_footer"))o.children.push(n);else if(void 0!=t.attributes.name&&t.attributes.name.value.includes("dropzone_header"))o.children.unshift(n);else{var l,s=t.attributes.elementafter;void 0!=s&&(l=this.findItemByKey(s.value,o.children)),o.children.splice(o.children.indexOf(l),0,n)}else console.error("ERROR: element is not found",i,buildertype,title,t)}else if(void 0!=t.attributes.elementafter){var u,s=t.attributes.elementafter;void 0!=s&&(u=this.findItemByKey(s.value,r)),void 0!=u?r.splice(r.indexOf(u),0,n):console.error("ERROR: element is not found",s,buildertype,title,t)}this.setData(r)}},_excludeItemByKey:function(e,t){for(var n=[],a=0;a<t.length;a++)t[a].key!=e&&(n.push(t[a]),t[a].children&&(n[n.length-1].children=this._excludeItemByKey(e,t[a].children)));return n},add:function(e,t){var n=l.fillDefaultValues({key:this.getDefaultKey(e),"data-buildertype":e});if(void 0==t)if(a.length>0&&"form"==a[a.length-1]["data-buildertype"]){var r=a[a.length-1];void 0==r.children&&(r.children=[]),r.children.push(n)}else a.push(n);else if(void 0!=t.attributes.name&&"dropzone_footer"==t.attributes.name.value)a.push(n);else if(void 0!=t.attributes.name&&"dropzone_header"==t.attributes.name.value)a.unshift(n);else if(void 0!=t.attributes.elementtoinsert){var o,i=t.attributes.elementtoinsert;if(void 0!=i&&(o=this.findItemByKey(i.value,a)),void 0!=o)if(void 0==o.children&&(o.children=[]),void 0!=t.attributes.name&&t.attributes.name.value.includes("dropzone_footer"))o.children.push(n);else if(void 0!=t.attributes.name&&t.attributes.name.value.includes("dropzone_header"))o.children.unshift(n);else{var s,u=t.attributes.elementafter;void 0!=u&&(s=this.findItemByKey(u.value,o.children)),o.children.splice(o.children.indexOf(s),0,n)}else console.error("ERROR: element is not found",i,e,title,t)}else if(void 0!=t.attributes.elementafter){var d,u=t.attributes.elementafter;void 0!=u&&(d=this.findItemByKey(u.value,a)),void 0!=d?a.splice(a.indexOf(d),0,n):console.error("ERROR: element is not found",u,e,title,t)}this.trigger(a)},remove:function(e){this.removeItemByKey(e.key,a),this.trigger(a)},copy:function(e){var t=this.copyObj(e);this.insertAfterKey(t,e.key,a),this.makeUniqueKeys(t),this.trigger(a)},getData:function(){return a},setData:function(e){a=e,this.trigger(a)},_updateOrder:function(e){a=e,this.trigger(a)},getDefaultKey:function(e){for(var t=1,n=e+"_"+t,r=this.getAllKeys(a),o=0;o<r.length;o++){var i=r[o],n=e+"_"+t;i==n&&(t++,o=-1)}return n},getAllKeys:function(e){var t=[];if(void 0!=e)for(var n=0;n<e.length;n++){var a=e[n];if(t.push(a.key),void 0!=a.children){var r=this.getAllKeys(a.children);t=t.concat(r)}}return t},getByKey:function(e){return this.findItemByKey(e,a)},findItemByKey:function(e,t){for(var n=0;n<t.length;n++){var a=t[n];if(a.key==e)return a;if(void 0!=a.children){var r=this.findItemByKey(e,a.children);if(void 0!=r)return r}}},insertAfterKey:function(e,t,n){for(var a=0;a<n.length;a++){var r=n[a];if(r.key==t)return n.splice(a+1,0,e),!0;if(void 0!=r.children&&this.insertAfterKey(e,t,r.children))return!0}},updateItemByKey:function(e,t){var n=this.getByKey(e);for(var r in t)n[r]=t[r];e!=t.key&&this.replaceDepensKeys(e,t.key),this.trigger(a)},replaceDepensKeys:function(e,t,n){void 0==n&&(n=a);for(var r=0;r<n.length;r++){var o=n[r];if(Array.isArray(o["events-onclick-targets"]))for(var i=o["events-onclick-targets"],l=0;l<i.length;l++)i[l]==e&&(i[l]=t);void 0!=o.children&&this.replaceDepensKeys(e,t,o.children)}},removeItemByKey:function(e,t){for(var n=0;n<t.length;n++){var a=t[n];if(a.key==e){t.splice(n,1);break}void 0!=a.children&&this.removeItemByKey(e,a.children)}},copyObj:function(e){if(null==e||"object"!=(void 0===e?"undefined":r(e)))return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=this.copyObj(e[n]));return t},makeUniqueKeys:function(e){var t=this,n=e["data-buildertype"];void 0!=n&&(e.key=this.getDefaultKey(n)),Array.isArray(e.children)&&e.children.forEach(function(e){t.makeUniqueKeys(e)})}});e.exports=s},function(e,t,n){"use strict";function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(e){a[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,l,s=a(e),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var d in n)o.call(n,d)&&(s[d]=n[d]);if(r){l=r(n);for(var c=0;c<l.length;c++)i.call(n,l[c])&&(s[l[c]]=n[l[c]])}}return s}},function(e,t,n){"use strict";function a(e,t,n,a,o,i,l,s){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,a,o,i,l,s],c=0;u=new Error(t.replace(/%s/g,function(){return d[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var r=function(e){};e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),d=a(u),c=n(16),f=(a(c),n(33)),p=a(f),h=n(1),m=n(19),v=a(m),y=n(36),b=(0,p.default)({displayName:"CheckBoxFormatter",render:function(){var e=Boolean(this.props.value);return d.default.createElement(h.Checkbox,{checked:e,disabled:!0})}}),g=(0,p.default)({displayName:"NumberFormatter",render:function(){var e=this.props.value;return d.default.createElement("span",{style:{textAlign:"right"}},d.default.createElement("div",{title:e},e))}}),E=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={items:[],sort:"",defaultSort:e.defaultSort,filters:[],pageSize:20,selectedIndexes:[]},n}return i(t,e),s(t,[{key:"isEditFormModal",value:function(){return"modal"==this.props.editFormShowType}},{key:"isServerMode",value:function(){return"server"==this.props.pagerType}},{key:"refresh",value:function(){if(!this.isServerMode())return void console.error("This method for pagerType == server only!");this.setState({items:[],selectedIndexes:[]})}},{key:"resetSelection",value:function(){this.setState({selectedIndexes:[]})}},{key:"render",value:function(){var e=this.props.className,t=this.props.style,n=this.getGridPropsByPagerType(this.props.pagerType);return n.columns=this.getColumns(),n.rowKey=this.props.rowKey,void 0!=this.props.rowHeight&&""!=this.props.rowHeight&&(n.rowHeight=this.props.rowHeight),this.props.autoHeight?(t.minHeight=this.props.minHeight,void 0!=this.props.offSet&&""!=this.props.offSet?t.height="calc(100vh - "+this.props.offSet+")":t.height="100vh",e=(void 0==e?"":e+" ")+"dwkit-gridview-autoHeight"):void 0!=this.props.minHeight&&""!=this.props.minHeight&&(n.minHeight=this.props.minHeight),Boolean(this.props.filterRow)&&(n.toolbar=d.default.createElement(y.Toolbar,{enableFilter:!0}),n.onAddFilter=this.handleFilterChange.bind(this),n.onClearFilters=this.onClearFilters.bind(this)),Boolean(this.props.multiselect)&&(n.rowSelection={onRowsSelected:this.onRowsSelected.bind(this),onRowsDeselected:this.onRowsDeselected.bind(this),selectBy:{indexes:this.state.selectedIndexes}}),d.default.createElement("div",{key:this.props.name,name:this.props.name,className:e,style:t},d.default.createElement(v.default,l({key:"grid"},n,{rowsCount:this.state.rowsCount,rowGetter:this.gridRowGetter.bind(this),onRowClick:this.gridOnRowClick.bind(this),onGridSort:this.handleGridSort.bind(this)})))}},{key:"getColumns",value:function(){var e,t=this;return e=void 0==this.props.columns?[]:Array.isArray(this.props.columns)?this.props.columns:JSON.parse(this.props.columns),e.forEach(function(e){null!=e.width&&""!=e.width&&void 0!=e.width&&(e.width=Number(e.width)),e.sortable=!Boolean(t.props.disableSort),e.filterable=Boolean(t.props.filterRow),e.resizable=Boolean(e.resizable),"number"==e.type?e.formatter=g:"checkbox"==e.type?e.formatter=b:"custom"==e.type&&(e.formatter=e.customFormatter)}),e}},{key:"getGridPropsByPagerType",value:function(){var e={};return"server"==this.props.pagerType?(void 0!=this.props.pageSize&&(this.state.pageSize=this.props.pageSize),e.rowRenderer=k,void 0==this.state.rowsCount&&(this.state.rowsCount=1)):(Array.isArray(this.props.value)&&(this.state.items=this.getSortedAndFilteredItems(this.props.value)),this.state.rowsCount=this.state.items.length),e}},{key:"getSortedAndFilteredItems",value:function(e){var t=[];if(void 0==e)return t;if(this.state.filters.length>0){var n=this.state.filters;this.getColumns();e.forEach(function(e){for(var a=!0,r=0;r<n.length;r++){var o=!1,i=n[r].column.key;void 0!=e[i]&&(Number.isInteger(e[i])&&Number.isInteger(n[r].filterTerm)&&Number.isInteger(e[i])==Number.isInteger(n[r].filterTerm)?o=!0:-1!==String(e[i]).indexOf(String(n[r].filterTerm))&&(o=!0),a&=o)}a&&t.push(e)})}else t=e;var a=this.state.sort;if("NONE"===this.state.sort||""===this.state.sort){if(void 0==this.props.defaultSort)return t;a=this.props.defaultSort}var r=function(e,t){var n=void 0!=e[i]&&void 0!=e[i].toLowerCase?e[i].toLowerCase():e[i],a=void 0!=t[i]&&void 0!=t[i].toLowerCase?t[i].toLowerCase():t[i];return"ASC"===l?n>a?1:-1:"DESC"===l?n<a?1:-1:void 0},o=a.indexOf(" "),i=a.substring(0,o),l=a.substring(o+1,a.length);return t.slice(0).sort(r)}},{key:"getSeletedRowKeys",value:function(){var e=this,t=[];return this.state.selectedIndexes.forEach(function(n){var a=e.gridRowGetter(n);void 0!=a&&t.push(a[e.props.rowKey])}),t}},{key:"gridRowGetter",value:function(e){if("server"==this.props.pagerType&&void 0==this.state.items[e]){var t=this.state.pageSize,n=e>t?e-t:0;this.loadPage(n,e-n+t)}return this.state.items[e]}},{key:"loadPage",value:function(e,t){for(var n=this,a=0;a<t;a++)this.state.items[a+e]={__loading:!0};if(void 0==this.props.getAdditionalDataForControl)void 0!=console&&console.log("GridView: For paging on server need to set getAdditionalDataForControl func!");else{var r=this.state.sort;""==r&&void 0!=this.props.defaultSort&&(r=this.props.defaultSort),this.props.getAdditionalDataForControl(this,{startIndex:e,pageSize:t,filters:this.state.filters,sort:r},function(e){var t=e.sIndex,a=e.pSize,r=e.rowsCount,o=e.items;if(void 0==r||void 0==o)n.state.rowsCount=0,n.setState({rowsCount:0,items:[]});else{n.state.rowsCount=r;for(var i=0;i<a;i++)i<o.length?n.state.items[t+i]=o[i]:n.state.items[t+i]=void 0;n.forceUpdate()}})}}},{key:"gridOnRowClick",value:function(e,t){if(void 0!=t){var n=Date.now();void 0!=this.rowClickTime&&this.rowClickTime.rowIdx==e&&n-this.rowClickTime.time<=1e3?(this.rowClickTime=void 0,this.onRowDblClick(e,t)):(this.rowClickTime={rowIdx:e,time:n},void 0!=this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onRowClick",parameters:{rowIdx:e,row:t}}))}}},{key:"onRowDblClick",value:function(e,t){void 0!=this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onRowDblClick",parameters:{rowIdx:e,row:t}})}},{key:"onRowsSelected",value:function(e){this.state.selectedIndexes=this.state.selectedIndexes.concat(e.map(function(e){return e.rowIdx})),void 0!=this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onSelectionChanged",parameters:{selectedIndexes:this.state.selectedIndexes}}),this.forceUpdate()}},{key:"onRowsDeselected",value:function(e){var t=e.map(function(e){return e.rowIdx});this.state.selectedIndexes=this.state.selectedIndexes.filter(function(e){return-1===t.indexOf(e)}),void 0!=this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onSelectionChanged",parameters:{selectedIndexes:this.state.selectedIndexes}}),this.forceUpdate()}},{key:"handleGridSort",value:function(e,t){this.state.sort="NONE"===t?"":e+" "+t;var n=this.props.pagerType;this.state.items="server"==n?[]:this.getSortedAndFilteredItems(this.props.value),this.forceUpdate()}},{key:"handleFilterChange",value:function(e){for(var t=this.state.filters,n=void 0,a=0;a<t.length;a++)if(t[a].column.key==e.column.key){n=a;break}void 0==n?t.push(e):t[n]=e,this.forceUpdate()}},{key:"onClearFilters",value:function(){this.setState({filters:[]})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.recalcSizeParams()}},{key:"recalcSizeParams",value:function(){if(this._isMounted&&Boolean(this.props.autoHeight)){var e=$(window).height();this.setState({gridHeight:e-this.props.deltaHeight})}}}]),t}(d.default.Component);t.default=E;var k=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"setScrollLeft",value:function(e){this.row.setScrollLeft(e)}},{key:"getClassName",value:function(){return this.props.row.__loading?"dwkit-gridview-rowloading":""}},{key:"render",value:function(){var e=this;return d.default.createElement("div",{className:this.getClassName()},d.default.createElement(m.Row,l({ref:function(t){return e.row=t}},this.props)))}}]),t}(d.default.Component)},function(e,t,n){"use strict";function a(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?i(new e.constructor,e):e}function r(e,t,n){l(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e);var a=t[n];l(Array.isArray(a),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",n,a)}function o(e,t){if(l("object"==typeof t,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",m.join(", "),f),s.call(t,f))return l(1===Object.keys(t).length,"Cannot have more than one key in an object with %s",f),t[f];var n=a(e);if(s.call(t,p)){var y=t[p];l(y&&"object"==typeof y,"update(): %s expects a spec of type 'object'; got %s",p,y),l(n&&"object"==typeof n,"update(): %s expects a target of type 'object'; got %s",p,n),i(n,t[p])}s.call(t,u)&&(r(e,t,u),t[u].forEach(function(e){n.push(e)})),s.call(t,d)&&(r(e,t,d),t[d].forEach(function(e){n.unshift(e)})),s.call(t,c)&&(l(Array.isArray(e),"Expected %s target to be an array; got %s",c,e),l(Array.isArray(t[c]),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",c,t[c]),t[c].forEach(function(e){l(Array.isArray(e),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",c,t[c]),n.splice.apply(n,e)})),s.call(t,h)&&(l("function"==typeof t[h],"update(): expected spec of %s to be a function; got %s.",h,t[h]),n=t[h](n));for(var b in t)v.hasOwnProperty(b)&&v[b]||(n[b]=o(e[b],t[b]));return n}var i=n(17),l=n(18),s={}.hasOwnProperty,u="$push",d="$unshift",c="$splice",f="$set",p="$merge",h="$apply",m=[u,d,c,f,p,h],v={};m.forEach(function(e){v[e]=!0}),e.exports=o},function(e,t,n){"use strict";function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(e){a[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,l,s=a(e),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var d in n)o.call(n,d)&&(s[d]=n[d]);if(r){l=r(n);for(var c=0;c<l.length;c++)i.call(n,l[c])&&(s[l[c]]=n[l[c]])}}return s}},function(e,t,n){"use strict";function a(e,t,n,a,o,i,l,s){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,a,o,i,l,s],c=0;u=new Error(t.replace(/%s/g,function(){return d[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var r=function(e){};e.exports=a},function(e,t){e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(4)),f=a(c),p=n(1),h=n(3),m=(a(h),function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.data,t=[];this.props.types.forEach(function(e){t.push({value:e,text:e})});for(var n=[],a=0;a<e.length;a++){var r=e[a],o=void 0==r.__error?{}:r.__error,i="trigger_"+a,l=u.default.createElement(p.Form.Group,{key:i,widths:"equal",className:"dwkit-formadmin-item"},u.default.createElement(p.Form.Dropdown,{label:"Triggers",error:Boolean(o.triggers),name:"triggers",search:!0,options:t,multiple:!0,value:r.triggers,onChange:this.handleChange.bind(this,r)}),u.default.createElement(p.Form.Dropdown,{key:"codeactionId",label:"Action",name:"codeActionId",search:!0,options:this.props.codeactions,value:r.codeActionId,onChange:this.handleChange.bind(this,r),error:Boolean(o.codeActionId)}),u.default.createElement(p.Form.Input,{key:"parameter",name:"parameter",label:"Parameter",value:r.parameter,onChange:this.handleChange.bind(this,r)}),u.default.createElement(p.Image,{className:"dwkit-buttonimage",key:"btndelete",src:"/images/dwkit-delete.png",onClick:this.onDelete.bind(this,a)}));n.push(l)}return 0==n.length&&n.push(u.default.createElement("div",{className:"dwkit-formadmin-info",key:"message"},"This object has not any triggers.",u.default.createElement("br",null),"Click ",u.default.createElement("a",{key:"btnadd2",onClick:this.onAdd.bind(this)},"here")," for creating triggers.")),u.default.createElement("div",null,u.default.createElement("a",{key:"btnadd",onClick:this.onAdd.bind(this)},"Add a trigger"),n)}},{key:"handleChange",value:function(e,t,n){var a=n.name,r=n.value,o=n.checked;e[a]=void 0==r?o:r,void 0!=this.props.onChange&&this.props.onChange(void 0,{name:this.props.name,value:this.props.data}),this.forceUpdate()}},{key:"onAdd",value:function(){this.props.data.push({}),void 0!=this.props.onChange&&this.props.onChange(void 0,{name:this.props.name,value:this.props.data}),this.forceUpdate()}},{key:"onDelete",value:function(e){this.props.data.splice(e,1),void 0!=this.props.onChange&&this.props.onChange(void 0,{name:this.props.name,value:this.props.data}),this.forceUpdate()}}]),t}(f.default));t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(8)),f=(a(c),n(4)),p=(a(f),n(1)),h=n(3),m=(a(h),n(5)),v=a(m),y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state.popup={},n}return i(t,e),l(t,[{key:"renderToolbar",value:function(){var e,t=this,n=function(){t.setState({confirmdeleteshow:!0})},a=function(){t.setState({popup:{show:!0}})},r=function(){t.setState({popup:{}})};return void 0!=this.state.popup.errors&&(e=u.default.createElement(p.Message,{negative:!0},u.default.createElement("p",null,this.state.popup.errors))),u.default.createElement("div",{className:"dwkitadmin-toolbar"},u.default.createElement(p.Button,{className:"buttontype1",onClick:a},"Create"),u.default.createElement(p.Button,{className:"buttontype2",onClick:n},"Delete"),u.default.createElement(p.Modal,{dimmer:"blurring",open:this.state.popup.show},u.default.createElement(p.Modal.Header,null,"Creating"),u.default.createElement(p.Modal.Content,null,u.default.createElement(p.Form,null,e,u.default.createElement(p.Form.Input,{key:"name",name:"newobjectname",label:"Name",required:!0,value:this.state.popup.name,onChange:this.handlePopupChange.bind(this),error:void 0!=this.state.popup.errors}))),u.default.createElement(p.Modal.Actions,null,u.default.createElement(p.Button,{className:"buttontype1",content:"Create",onClick:this.onCreate.bind(this)}),u.default.createElement(p.Button,{className:"buttontype2",content:"Cancel",onClick:r}))))}},{key:"handlePopupChange",value:function(e,t){var n=(t.name,t.value);t.checked;this.state.popup.name=n,this.forceUpdate()}},{key:"onCreate",value:function(){var e=this.state.popup.name;if(""==e||void 0==e)return this.state.popup.errors="Fill the field.",void this.forceUpdate();this.setState({popup:{}}),this.props.parent.openpage(this.panelindex,e)}},{key:"getEditRow",value:function(){for(var e=this.props.id,t=this.props.data[this.dataindex],n=0;n<t.length;n++)if(t[n][this.idfield]==e)return t[n];var a={};return a[this.idfield]=e,a}}]),t}(v.default);t.default=y},function(e,t){e.exports=r},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(1)),f=n(3),p=(a(f),n(4)),h=a(p),m=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showref:!1},n}return i(t,e),l(t,[{key:"onShowRef",value:function(e){this.setState({showref:e})}},{key:"render",value:function(){var e,t=this.props.item,n=this.state.showref;void 0!=t.referenceEntityId&&(e=n?u.default.createElement("img",{onClick:this.onShowRef.bind(this,!1),className:"dwkit-formadmin-imgbutton",src:"/images/collapse.svg"}):u.default.createElement("img",{onClick:this.onShowRef.bind(this,!0),className:"dwkit-formadmin-imgbutton",src:"/images/expand.svg"}));var a;if(this.props.hidedropzone){var r=void 0==t.control?"":t.control;a=u.default.createElement(c.Form.Input,{key:"control",name:"control",list:this.props.datalist,placeholder:"Alias",value:r,onChange:this.handleChange.bind(this)})}else if(void 0==t.control)a=u.default.createElement("div",{key:"dz",is:!0,class:"dwkit-formmapping-zone","data-id":t.id},"Control...");else{var o=this.props.parent.props.parent;a=u.default.createElement("div",{key:"control",className:"mapdatacontrol",draggable:"true",onDragStart:o.onDragStart.bind(o,t.control),onDragEnd:o.onDragEnd.bind(o,t.control),onDoubleClick:o.onDoubleClick.bind(o,t.control)},u.default.createElement("span",{key:"span"},t.control))}return u.default.createElement("div",{key:this.props.item.id},u.default.createElement(c.Form.Group,{key:"group",className:"dwkit-formadmin-mapping-attribute"},void 0!=e&&u.default.createElement("div",{className:"dwkit-formadmin-imgbuttondiv"},e),u.default.createElement(c.Form.Input,{key:"attributeName",name:"attributeName",value:t.attributeName,readOnly:!0}),u.default.createElement(c.Form.Checkbox,{className:"gridcheckbox",key:"isLoadable",label:"Load",name:"isLoadable",checked:t.isLoadable,onChange:this.handleChange.bind(this)}),void 0==t.parentId&&u.default.createElement(c.Form.Checkbox,{className:"gridcheckbox",key:"isEditable",label:"Editable",name:"isEditable",checked:t.isEditable,onChange:this.handleChange.bind(this),disabled:0==t.isLoadable||void 0==t.isLoadable}),a),n&&u.default.createElement("div",{key:"ref",is:!0,class:"dwkit-formmapping-ref"},this.renderRef()))}},{key:"renderRef",value:function(){var e=this,n=[],a=this.props.item;return this.props.dataMap.forEach(function(r){r.parentId==a.id&&n.push(u.default.createElement(t,{key:r.id,item:r,parent:e.props.parent,hidedropzone:e.props.hidedropzone,datalist:e.props.datalist}))}),n}},{key:"handleChange",value:function(e,t){var n=t.name,a=t.checked,r=t.value,o=this.props.item;"isLoadable"==n||"isEditable"==n?o[n]=a:(o[n]=r,"control"==n&&(o.isLoadable=Boolean(void 0!=r&&r.length>0))),this.forceUpdate()}}]),t}(h.default);t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(a)},u=n(0),d=a(u),c=n(2),f=(a(c),n(8)),p=(a(f),n(4)),h=(a(p),n(1)),m=n(3),v=(a(m),n(5)),y=a(v),b=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state.openmodal=!1,n}return i(t,e),l(t,[{key:"back",value:function(){this.state.openmodal=!1,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"back",this).call(this)}},{key:"render",value:function(){return this.state.editrowid!=this.props.id&&this.loadeditrow(),d.default.createElement("div",null,this.renderMainForm(),this.renderEditFormModal())}},{key:"renderEditFormModal",value:function(){return void 0!=this.props.id&&(this.state.openmodal=!0),d.default.createElement(h.Modal,{dimmer:"inverted",open:this.state.openmodal,onClose:this.onModalFormClose.bind(this)},d.default.createElement(h.Modal.Content,null,d.default.createElement(h.Modal.Description,null,this.renderEditForm())),d.default.createElement(h.Modal.Actions,null,d.default.createElement(h.Button,{className:"buttontype1",onClick:this.onModalFormSave.bind(this)},"Save"),d.default.createElement(h.Button,{className:"buttontype2",onClick:this.onModalFormClose.bind(this)},"Close")))}},{key:"onModalFormSave",value:function(){var e=this;if(!this.validate())return void alertify.success("Please, check all errors");var e=this;void 0!=e.state.editrow.__state?(e.state.editrow.__type=this.datatype,this.ChangeData([e.state.editrow],function(t){e.ResetSystemProps(e.state.editrow),e.applyeditrow(),e.back()})):this.onModalFormClose()}},{key:"onModalFormClose",value:function(){this.back()}}]),t}(y.default);t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(26),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=r.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),d=a(u),c=n(2),f=(a(c),n(3)),p=(a(f),n(1)),h=n(27),m=a(h),v=n(28),y=a(v),b=n(4),g=a(b),E=n(29),k=a(E),C=n(32),w=a(C),_=n(38),O=a(_),F=n(42),x=a(F),j=n(43),D=a(j),S=n(45),I=a(S),N=n(63),P=a(N),A=n(67),M=a(A),T=n(68),R=a(T),B=n(70),G=a(B),z=n(72),U=a(z),L=n(73),q=a(L),H=n(75),V=a(H),K=n(77),W=a(K),Y=n(80),J=a(Y),Q=n(82),Z=a(Q),X=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=n.getQueryString();n.state={apanel:void 0==a.apanel?"dashboard":a.apanel,aid:a.aid,isloadig:!0};var i=n;return window.onpopstate=function(e){var t=i.getQueryString();i.setState({apanel:void 0==t.apanel?"dashboard":t.apanel,aid:t.aid})},n.load(),n}return i(t,e),s(t,[{key:"load",value:function(){var e=this,t=new Array;t.push({name:"operation",value:"load"}),$.ajax({url:e.props.apiUrl,data:t,async:!0,success:function(t){if(t.success)e.setState({isloadig:!1,data:e.CorrectData(t.item)});else{var n=t.message;void 0==n&&(n="Error request Config API: "+e.props.apiUrl+"!","string"==typeof t&&(console.error("Error request Config API:",t),n+=" Look details in the development console in browser.")),e.setState({progresserror:!0,progressmsg:n})}},error:function(t,n){e.processLoadError(t,n)}})}},{key:"processLoadError",value:function(e,t){var n=this.getProcessLoadError(e,t);this.setState({progresserror:!0,progressmsg:n})}},{key:"CorrectData",value:function(e){return void 0==e.modules&&(e.modules=[]),void 0==e.dataModel&&(e.dataModel=[]),e}},{key:"handleErrEvent",value:function(e){this.props.eventerrfunc&&this.props.eventerrfunc(this,e)}},{key:"handleMenuItemClick",value:function(e,t){var n=t.name;this.openpage(n,void 0)}},{key:"openpage",value:function(e,t){var n=window.location.href;n=this.updateQueryStringParameter(n,"apanel",e),n=this.updateQueryStringParameter(n,"aid",t),history.pushState(void 0,void 0,n),this.setState({apanel:e,aid:t})}},{key:"render",value:function(){if(this.state.isloadig)return this.RenderLoading();var e=this.state.apanel,t=void 0,n=this.getQueryString(),a={id:n.aid,data:this.state.data,apiUrl:this.props.apiUrl,deltaWidth:this.props.deltaWidth,deltaHeight:this.props.deltaHeight,controlActions:this.props.controlActions,parent:this};return t="dashboard"===e?d.default.createElement(k.default,a):"datamodel"===e?d.default.createElement(O.default,a):"datasync"===e?d.default.createElement(x.default,a):"codeactions"===e?d.default.createElement(D.default,a):"workflow"==e?d.default.createElement(G.default,l({},a,{workflowApi:this.props.workflowApi})):"businessflow"==e?d.default.createElement(q.default,l({},a,{workflowApi:this.props.workflowApi})):"forms"==e?d.default.createElement(I.default,a):"formmappingdata"==e?d.default.createElement(P.default,a):"formmappinglogic"==e?d.default.createElement(M.default,a):"localization"==e?d.default.createElement(R.default,a):"users"==e?d.default.createElement(V.default,a):"groups"==e?d.default.createElement(J.default,a):"roles"==e?d.default.createElement(W.default,a):"permissions"==e?d.default.createElement(Z.default,a):"modules"==e?d.default.createElement(w.default,a):"workflowinstances"==e?d.default.createElement(U.default,a):d.default.createElement("div",null,"The unknown part of DWKIT. Please, send the isssue to us via ",d.default.createElement("a",{href:"https://dwkit.com/contacts/"},"dwkit.com contact form"),"."),d.default.createElement("div",{className:"dwkit-formadmin"},d.default.createElement("div",{className:"dwkit-formadmin-header"},d.default.createElement("div",{className:"dwkit-formadmin-header-left"},d.default.createElement("img",{className:"dwkit-formadmin-header-logo",onClick:this.onApp.bind(this),src:"/images/logo.svg"})),d.default.createElement("div",{className:"dwkit-formadmin-header-center"},d.default.createElement(y.default,{data:this.state.data,parent:this})),d.default.createElement("div",{className:"dwkit-formadmin-header-right"},d.default.createElement(p.Button,{name:"btnApp",className:"buttontype2",onClick:this.onApp.bind(this)},"App"),d.default.createElement("span",{className:"username"},this.props.userName))),d.default.createElement("div",{className:"dwkit-formadmin-menu"},d.default.createElement(m.default,{parent:this,activeItem:e})),d.default.createElement("div",{className:"dwkit-formadmin-basecontent"},d.default.createElement("div",{className:"dwkit-formadmin-top"}),d.default.createElement("div",{className:"dwkit-formadmin-content"},t)))}},{key:"onApp",value:function(){void 0!=this.props.returnToAppUrl&&(window.location=this.props.returnToAppUrl)}}]),t}(g.default);t.default=X},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(1)),f=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"handleItemClick",value:function(e,t){var n=t.name;this.props.parent.handleMenuItemClick(e,{name:n})}},{key:"render",value:function(){var e=this.props.activeItem;return u.default.createElement(c.Menu,{vertical:!0,size:"huge"},u.default.createElement(c.Menu.Item,{name:"dashboard",active:"dashboard"===e,onClick:this.handleItemClick.bind(this).bind(this)},"Dashboard"),u.default.createElement(c.Menu.Item,null,u.default.createElement(c.Menu.Header,null,"Data"),u.default.createElement(c.Menu.Menu,null,u.default.createElement(c.Menu.Item,{name:"datamodel",active:"datamodel"===e,onClick:this.handleItemClick.bind(this)},"Manage data model"),u.default.createElement(c.Menu.Item,{name:"datasync",active:"datasync"===e,onClick:this.handleItemClick.bind(this)},"Sync with Database"))),u.default.createElement(c.Menu.Item,{name:"codeactions",active:"codeactions"===e,onClick:this.handleItemClick.bind(this)},"Code Actions"),u.default.createElement(c.Menu.Item,null,u.default.createElement(c.Menu.Header,null,"Form"),u.default.createElement(c.Menu.Menu,null,u.default.createElement(c.Menu.Item,{name:"forms",active:"forms"===e,onClick:this.handleItemClick.bind(this)},"Manage forms"),u.default.createElement(c.Menu.Item,{name:"formmappingdata",active:"formmappingdata"===e,onClick:this.handleItemClick.bind(this)},"Mapping data model"),u.default.createElement(c.Menu.Item,{name:"formmappinglogic",active:"formmappinglogic"===e,onClick:this.handleItemClick.bind(this)},"Mapping business logics"),u.default.createElement(c.Menu.Item,{name:"localization",active:"localization"===e,onClick:this.handleItemClick.bind(this)},"Localization"))),u.default.createElement(c.Menu.Item,null,u.default.createElement(c.Menu.Header,null,"Workflow"),u.default.createElement(c.Menu.Menu,null,u.default.createElement(c.Menu.Item,{name:"workflow",active:"workflow"===e,onClick:this.handleItemClick.bind(this)},"Manage schemes"),u.default.createElement(c.Menu.Item,{name:"workflowinstances",active:"workflowinstances"===e,onClick:this.handleItemClick.bind(this)},"Manage instances"),u.default.createElement(c.Menu.Item,{name:"businessflow",active:"businessflow"===e,onClick:this.handleItemClick.bind(this)},"Business flow"))),u.default.createElement(c.Menu.Item,null,u.default.createElement(c.Menu.Header,null,"Security"),u.default.createElement(c.Menu.Menu,null,u.default.createElement(c.Menu.Item,{name:"users",active:"users"===e,onClick:this.handleItemClick.bind(this)},"Manage users"),u.default.createElement(c.Menu.Item,{name:"groups",active:"groups"===e,onClick:this.handleItemClick.bind(this)},"Manage groups"),u.default.createElement(c.Menu.Item,{name:"roles",active:"roles"===e,onClick:this.handleItemClick.bind(this)},"Manage roles"),u.default.createElement(c.Menu.Item,{name:"permissions",active:"permissions"===e,onClick:this.handleItemClick.bind(this)},"Manage permissions"))),u.default.createElement(c.Menu.Item,null,u.default.createElement(c.Menu.Header,null,"Support"),u.default.createElement(c.Menu.Menu,null,u.default.createElement(c.Menu.Item,{href:"https://dwkit.com/documentation/",target:"_blank"},"Documentation"),u.default.createElement(c.Menu.Item,{href:"https://dwkit.com/documentation/faq/",target:"_blank"},"FAQs"),u.default.createElement(c.Menu.Item,{href:"https://dwkit.com/contacts/",target:"_blank"},"E-mail Support"))))}}]),t}(u.default.Component);t.default=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(3)),f=(a(c),n(1)),p=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:""},n}return i(t,e),l(t,[{key:"resetSearch",value:function(){this.setState({isLoading:!0,results:[]})}},{key:"handleResultSelect",value:function(e,t){var n=t.result;this.props.parent.openpage(n.panelindex,n.id)}},{key:"handleSearchChange",value:function(e,t){var n=t.value,a=this;this.setState({isLoading:!0,value:n}),setTimeout(function(){if(a.state.value.length<1)return a.resetSearch();a.setState({isLoading:!1,results:a.search(a.state.value)})},500)}},{key:"search",value:function(e){var t={};return this.addResult(t,e,"Model",this.props.data.dataModel,"datamodel","id",["name","dbObjectName"]),this.addResult(t,e,"Forms",this.props.data.forms,"forms","name",["name"]),this.addResult(t,e,"Workflow",this.props.data.workflow,"workflow","code",["code"]),this.addResult(t,e,"Users",this.props.data.users,"users","id",["name","domainLogin","login"]),this.addResult(t,e,"Groups",this.props.data.groups,"groups","id",["name"]),this.addResult(t,e,"Roles",this.props.data.roles,"roles","id",["code","name"]),this.addResult(t,e,"CodeActions",this.props.data.codeActions,"codeactions","id",["name"]),t}},{key:"addResult",value:function(e,t,n,a,r,o,i){var l=this.searchInArray(t,a,r,o,i);Array.isArray(l)&&l.length>0&&(e[n]={name:n,results:l})}},{key:"searchInArray",value:function(e,t,n,a,r){var o=[];for(var i in t){for(var l=t[i],s=0;s<r.length;s++){var u=r[s];if(void 0!=l[u]&&l[u].search(new RegExp(e,"i"))>=0){o.push({title:l[u],panelindex:n,id:l[a]});break}}if(o.length>4){o.push({title:"...",panelindex:n});break}}return o}},{key:"render",value:function(){return u.default.createElement(f.Search,{category:!0,fluid:!0,loading:this.state.isLoading,onResultSelect:this.handleResultSelect.bind(this),onSearchChange:this.handleSearchChange.bind(this),results:this.state.results,value:this.state.value})}}]),t}(u.default.Component);t.default=p},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(3)),f=(a(c),n(1)),p=n(4),h=a(p),m=n(30),v=a(m),y=n(31),b=a(y),g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.datatype="appsettings",n.state={},n.initData(e.data.appSettings),n}return i(t,e),l(t,[{key:"onRequestRenewLicense",value:function(){window.open("https://dwkit.com/contacts/")}},{key:"initData",value:function(e){var t=this.СloneObj(e);t=t.sort(function(e,t){return e.order!=t.order?e.order-t.order:e.groupName>t.groupName?1:e.groupName<t.groupName?-1:e.name>t.name?1:e.name<t.name?-1:0}),this.state.data=t}},{key:"onResetAppCache",value:function(){var e=this,t=new Array;t.push({name:"operation",value:"resetappcache"}),$.ajax({url:e.props.apiUrl,data:t,async:!0,type:"post",success:function(e){e.success?alertify.success("The application cache has been reseted"):alertify.error(e.message)}})}},{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement("h1",null,"Dashboard"),u.default.createElement(b.default,{data:this.props.data.licenseInfo,metadata:this.props.data,parent:this.props.parent}),u.default.createElement("div",{className:"dwkit-formadmin-dashboard-buttons"},u.default.createElement("a",{onClick:this.onResetAppCache.bind(this)},"Reset app cache")),u.default.createElement("div",{className:"dwkitadmin-toolbar"},u.default.createElement(f.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},"Save"),u.default.createElement(f.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},"Cancel")),u.default.createElement(v.default,{data:this.state.data,parent:this.props.parent}))}},{key:"onCancel",value:function(){this.initData(this.props.data.appSettings),this.forceUpdate()}}]),t}(h.default);t.default=g},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),d=a(u),c=n(2),f=(a(c),n(4)),p=a(f),h=n(1),m=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),s(t,[{key:"onChange",value:function(e,t,n){var a=(n.name,n.checked),r=n.value;"checkbox"==e.editorType?e.value=a:e.value=r,"inserted"!=e.__state&&(e.__state="updated"),this.forceUpdate()}},{key:"render",value:function(){for(var e=this.props.data,t={},n=0;n<e.length;n++){var a=e[n];void 0==t[a.groupName]&&(t[a.groupName]=[]);var r=void 0,o={key:n.toString(),name:n.toString(),label:a.paramName};r="readonly"==a.editorType?d.default.createElement(h.Form.Input,l({},o,{disabled:!0,value:a.value,onChange:this.onChange.bind(this,a)})):"number"==a.editorType?d.default.createElement(h.Form.Input,l({},o,{type:"number",value:a.value,onChange:this.onChange.bind(this,a)})):"checkbox"==a.editorType?d.default.createElement(h.Form.Checkbox,l({},o,{checked:this.stringToBoolean(a.value),onChange:this.onChange.bind(this,a)})):d.default.createElement(h.Form.Input,l({},o,{value:a.value,onChange:this.onChange.bind(this,a)})),t[a.groupName].push(r)}var i=[];for(var s in t)i.push(d.default.createElement("div",{className:"dwkit-formadmin-segment",key:s},d.default.createElement("h1",null,s),d.default.createElement(h.Form,null,t[s])));return d.default.createElement("div",null,i)}},{key:"stringToBoolean",value:function(e){if(void 0==e.toLowerCase)return Boolean(e);switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}}}]),t}(p.default);t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(3)),f=(a(c),n(4)),p=a(f),h=n(1),m=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.createurl=function(e){var t=this.props.parent.props.apiUrl,n="?";return t.indexOf("?")>=0&&(n="&"),t+=n+"operation="+e},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.data,t=[];for(var n in e.limits){var a="-1"==e.limits[n]?"∞":e.limits[n],r=void 0;"Users"==n?r=this.props.metadata.users.length:"Workflow"==n?r=this.props.metadata.workflow.length:"Forms"==n&&(r=this.props.metadata.forms.length);var o=!1;void 0!=r&&(o=Boolean(r>a),a=r+" / "+a),t.push(u.default.createElement(h.Form.Input,{key:n,label:n,error:o,readOnly:!0,value:a}))}var i=[];return"Trial"==e.holder&&i.push(u.default.createElement("b",{key:"trialmsg"},"This is a trial version of DWKit. Don't forget to purchase the commercial license via ",u.default.createElement("a",{href:"https://dwkit.com"},"web-site"),".")),i.push(u.default.createElement("br",{key:"br"})),i.push(u.default.createElement("span",{key:"purchasemsg"},"You can ",u.default.createElement("a",{onClick:this.onUpload.bind(this)},"upload a license")," or create a ",u.default.createElement("a",{href:"https://dwkit.com/contacts/"},"request a new license"),".")),u.default.createElement("div",null,u.default.createElement(h.Form,null,u.default.createElement(h.Form.Input,{label:"License holder",readOnly:!0,value:e.holder}),u.default.createElement(h.Form.Group,{widths:"equal"},void 0!=e.licenseExpiry&&u.default.createElement(h.Form.Input,{label:"License expired",readOnly:!0,value:e.licenseExpiry}),void 0!=e.releaseExpiry&&u.default.createElement(h.Form.Input,{label:"Free update date",readOnly:!0,value:e.releaseExpiry}),u.default.createElement(h.Form.Input,{label:"License check type",readOnly:!0,value:e.licenseCheckType})),u.default.createElement("div",{is:!0,class:"field"},i),u.default.createElement(h.Form.Group,null,t)),u.default.createElement("form",{is:!0,action:"",id:"dwkitadmin-license-uploadform",method:"post",style:{display:"none"},enctype:"multipart/form-data",onsubmit:"tmp()"},u.default.createElement("input",{type:"file",name:"dwkitadmin-license-uploadfile",id:"dwkitadmin-license-uploadfile",onChange:this.onUpload_onchange.bind(this)})))}},{key:"onUpload",value:function(){$("#dwkitadmin-license-uploadfile").trigger("click")}},{key:"onUpload_onchange",value:function(){this.uploadLicense($("#dwkitadmin-license-uploadform")[0],function(){alertify.success("The file is uploaded!")})}},{key:"uploadLicense",value:function(e,t){var n="dwkit-formadmin-uploadiframe",a=document.createElement("iframe");a.setAttribute("id",n),a.setAttribute("name",n),a.setAttribute("width","0"),a.setAttribute("height","0"),a.setAttribute("border","0"),a.setAttribute("style","width: 0; height: 0; border: none;"),e.parentNode.appendChild(a),window.frames[n].name=n;var r=document.getElementById(n),o=function e(){r.detachEvent?r.detachEvent("onload",e):r.removeEventListener("load",e,!1),r.contentDocument?content=r.contentDocument.body.innerText:r.contentWindow?content=r.contentWindow.document.body.innerHTML:r.document&&(content=r.document.body.innerHTML),setTimeout(function(){r.parentNode.removeChild(r)},250),t&&t(me,content)};r.addEventListener&&r.addEventListener("load",o,!0),r.attachEvent&&r.attachEvent("onload",o),e.setAttribute("target",n),e.setAttribute("action",this.createurl("uploadlicense")),e.setAttribute("method","post"),e.setAttribute("enctype","multipart/form-data"),e.setAttribute("encoding","multipart/form-data"),e.submit()}}]),t}(p.default);t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=(a(s),n(2)),d=(a(u),n(1),n(5)),c=a(d),f=n(37),p=a(f),h=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dataindex="modules",n.panelindex="modules",n.idfield="id",n.editform=p.default,n.title="Modules",n.datatype="modules",n}return i(t,e),l(t,[{key:"gridColumns",value:function(){return[{key:"name",name:"Name",resizable:!0}]}},{key:"validate",value:function(){var e=!0,t=this.state.editrow;return t.__error={name:void 0==t.name||""==t.name?"This field is required":void 0},e&=void 0==t.__error.name}}]),t}(c.default);t.default=h},function(e,t,n){"use strict";var a=n(0),r=n(34);if(void 0===a)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new a.Component).updater;e.exports=r(a.Component,a.isValidElement,o)},function(e,t,n){"use strict";function a(e){return e}function r(e,t,n){function r(e,t){var n=b.hasOwnProperty(t)?b[t]:null;C.hasOwnProperty(t)&&l("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&l("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function u(e,n){if(n){l("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),l(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var a=e.prototype,o=a.__reactAutoBindPairs;n.hasOwnProperty(s)&&g.mixins(e,n.mixins);for(var i in n)if(n.hasOwnProperty(i)&&i!==s){var u=n[i],d=a.hasOwnProperty(i);if(r(d,i),g.hasOwnProperty(i))g[i](e,u);else{var c=b.hasOwnProperty(i),h="function"==typeof u,m=h&&!c&&!d&&!1!==n.autobind;if(m)o.push(i,u),a[i]=u;else if(d){var v=b[i];l(c&&("DEFINE_MANY_MERGED"===v||"DEFINE_MANY"===v),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",v,i),"DEFINE_MANY_MERGED"===v?a[i]=f(a[i],u):"DEFINE_MANY"===v&&(a[i]=p(a[i],u))}else a[i]=u}}}else;}function d(e,t){if(t)for(var n in t){var a=t[n];if(t.hasOwnProperty(n)){var r=n in g;l(!r,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var o=n in e;l(!o,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),e[n]=a}}}function c(e,t){l(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in t)t.hasOwnProperty(n)&&(l(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function f(e,t){return function(){var n=e.apply(this,arguments),a=t.apply(this,arguments);if(null==n)return a;if(null==a)return n;var r={};return c(r,n),c(r,a),r}}function p(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function h(e,t){var n=t.bind(e);return n}function m(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var a=t[n],r=t[n+1];e[a]=h(e,r)}}function v(e){var t=a(function(e,a,r){this.__reactAutoBindPairs.length&&m(this),this.props=e,this.context=a,this.refs=i,this.updater=r||n,this.state=null;var o=this.getInitialState?this.getInitialState():null;l("object"==typeof o&&!Array.isArray(o),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=o});t.prototype=new w,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],y.forEach(u.bind(null,t)),u(t,E),u(t,e),u(t,k),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),l(t.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var r in b)t.prototype[r]||(t.prototype[r]=null);return t}var y=[],b={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},g={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)u(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=o({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=o({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=f(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=o({},e.propTypes,t)},statics:function(e,t){d(e,t)},autobind:function(){}},E={componentDidMount:function(){this.__isMounted=!0}},k={componentWillUnmount:function(){this.__isMounted=!1}},C={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},w=function(){};return o(w.prototype,e.prototype,C),v}var o=n(17),i=n(35),l=n(18),s="mixins";e.exports=r},function(e,t,n){"use strict";var a={};e.exports=a},function(e,t){e.exports=o},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(4)),f=a(c),p=n(1),h=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return i(t,e),l(t,[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();var e=this.props.metadata.forms,t=[];if(void 0!=e)for(var n=0;n<e.length;n++){var a=e[n];t.push({text:a.code,value:a.code})}var r=this.props.metadata.dataModel,o=[];if(void 0!=r)for(var n=0;n<r.length;n++){var i=r[n];o.push({text:i.name,value:i.id})}var l=this.props.metadata.codeActions,s=[];if(void 0!=l)for(var n=0;n<l.length;n++){var d=l[n];s.push({text:d.name,value:d.id})}var c=this.props.metadata.workflow,f=[];if(void 0!=c)for(var n=0;n<c.length;n++){var h=c[n];f.push({text:h.code,value:h.code})}var m=this.props.metadata.businessFlow,v=[];if(void 0!=m)for(var n=0;n<m.length;n++){var h=m[n];v.push({text:h.name,value:h.id})}var y=this.props.metadata.roles,b=[];if(void 0!=y)for(var n=0;n<y.length;n++){var h=y[n];b.push({text:h.name,value:h.id})}var g=void 0==this.props.data?[]:this.props.data;this.correctData(g);var E=this.props.onSave.bind(this.props.parent),k=this.props.onCancel.bind(this.props.parent);return u.default.createElement("div",{className:"dwkit-formadmin-formedit"},u.default.createElement(p.Breadcrumb,null,u.default.createElement(p.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},"Modules"),u.default.createElement(p.Breadcrumb.Divider,null),u.default.createElement(p.Breadcrumb.Section,{active:!0},g.name)),u.default.createElement("div",{className:"dwkitadmin-toolbar-editform"},u.default.createElement(p.Button,{className:"buttontype1",onClick:E},"Save"),u.default.createElement(p.Button,{className:"buttontype2",onClick:k},"Cancel")),u.default.createElement("h1",null,this.props.parent.title),u.default.createElement(p.Form,null,u.default.createElement(p.Form.Input,{name:"name",label:"Name",error:Boolean(g.__error.name),value:g.name,onChange:this.handleChange.bind(this,g)}),u.default.createElement(p.Form.TextArea,{autoHeight:!0,name:"commnet",label:"Comment",error:Boolean(g.__error.comment),onChange:this.handleChange.bind(this,g)}),u.default.createElement("h1",null,"Objects"),u.default.createElement(p.Form.Group,{widths:"equal"},u.default.createElement(p.Form.Dropdown,{label:"Roles",error:Boolean(g.__error.roles),name:"roles",search:!0,options:b,multiple:!0,value:g.roles,onChange:this.handleChange.bind(this,g)}),u.default.createElement(p.Form.Dropdown,{label:"Business flow",error:Boolean(g.__error.businessFlows),name:"businessFlows",search:!0,options:v,multiple:!0,value:g.businessFlows,onChange:this.handleChange.bind(this,g)})),u.default.createElement(p.Form.Group,{widths:"equal"},u.default.createElement(p.Form.Dropdown,{label:"Forms",name:"forms",error:Boolean(g.__error.forms),search:!0,options:t,multiple:!0,value:g.forms,onChange:this.handleChange.bind(this,g)}),u.default.createElement(p.Form.Dropdown,{label:"Worflow schemes",error:Boolean(g.__error.schemes),name:"schemes",search:!0,options:f,multiple:!0,value:g.schemes,onChange:this.handleChange.bind(this,g)})),u.default.createElement(p.Form.Group,{widths:"equal"},u.default.createElement(p.Form.Dropdown,{label:"Entities",error:Boolean(g.__error.entities),name:"entities",search:!0,options:o,multiple:!0,value:g.entities,onChange:this.handleChange.bind(this,g)}),u.default.createElement(p.Form.Dropdown,{label:"CodeActions",error:Boolean(g.__error.codeActions),name:"codeActions",search:!0,options:s,multiple:!0,value:g.codeActions,onChange:this.handleChange.bind(this,g)}))))}},{key:"correctData",value:function(e){void 0==e.roles&&(e.roles=[]),void 0==e.businessFlows&&(e.businessFlows=[]),void 0==e.forms&&(e.forms=[]),void 0==e.schemes&&(e.schemes=[]),void 0==e.entities&&(e.entities=[]),void 0==e.codeActions&&(e.codeActions=[])}},{key:"handleChange",value:function(e,t,n){var a=n.name,r=n.value,o=n.checked;e[a];e[a]=void 0==r?o:r,this.setUpdatedState(this.props.data),this.forceUpdate()}}]),t}(f.default);t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(10)),f=a(c),p=n(1),h=n(5),m=a(h),v=n(41),y=a(v),b=((0,f.default)({displayName:"CheckBoxFormatter",render:function(){var e=1==this.props.value;return u.default.createElement(p.Checkbox,{checked:e,disabled:!0})}}),function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dataindex="dataModel",n.panelindex="datamodel",n.defaultNamePrefix="table",n.datatype="datamodel",n.title="Data model",n.idfield="id",n.editform=y.default,n}return i(t,e),l(t,[{key:"gridColumns",value:function(){return[{key:"name",name:"Name",resizable:!0},{key:"dbObjectName",name:"DB Object",resizable:!0}]}},{key:"validate",value:function(){var e=!0,t=this.state.editrow,n="This field is required";return t.__error={name:void 0==t.name||""==t.name?n:void 0,dbObjectName:void 0==t.dbObjectName||""==t.dbObjectName?n:void 0},e&=void 0==t.__error.name&&void 0==t.__error.dbObjectName,void 0!=t.attributes&&t.attributes.forEach(function(t){t.__error={name:void 0==t.name||""==t.name?n:void 0,type:0==t.typeId&&(void 0==t.type||""==t.type)?n:void 0,referenceEntityId:1==t.typeId&&(void 0==t.referenceEntityId||""==t.referenceEntityId)?n:void 0},e&=void 0==t.__error.name&&void 0==t.__error.type&&void 0==t.__error.referenceEntityId}),void 0!=t.triggers&&t.triggers.forEach(function(t){t.__error={triggers:Array.isArray(t.triggers)&&t.triggers.length>0?void 0:n,codeActionId:void 0==t.codeActionId||""==t.codeActionId?n:void 0},e&=void 0==t.__error.triggers&&void 0==t.__error.codeActionId}),e}}]),t}(m.default));t.default=b},function(e,t,n){"use strict";function a(e){return e}function r(e,t,n){function r(e,t){var n=b.hasOwnProperty(t)?b[t]:null;C.hasOwnProperty(t)&&l("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&l("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function u(e,n){if(n){l("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),l(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var a=e.prototype,o=a.__reactAutoBindPairs;n.hasOwnProperty(s)&&g.mixins(e,n.mixins);for(var i in n)if(n.hasOwnProperty(i)&&i!==s){var u=n[i],d=a.hasOwnProperty(i);if(r(d,i),g.hasOwnProperty(i))g[i](e,u);else{var c=b.hasOwnProperty(i),h="function"==typeof u,m=h&&!c&&!d&&!1!==n.autobind;if(m)o.push(i,u),a[i]=u;else if(d){var v=b[i];l(c&&("DEFINE_MANY_MERGED"===v||"DEFINE_MANY"===v),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",v,i),"DEFINE_MANY_MERGED"===v?a[i]=f(a[i],u):"DEFINE_MANY"===v&&(a[i]=p(a[i],u))}else a[i]=u}}}else;}function d(e,t){if(t)for(var n in t){var a=t[n];if(t.hasOwnProperty(n)){var r=n in g;l(!r,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var o=n in e;l(!o,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),e[n]=a}}}function c(e,t){l(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in t)t.hasOwnProperty(n)&&(l(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function f(e,t){return function(){var n=e.apply(this,arguments),a=t.apply(this,arguments);if(null==n)return a;if(null==a)return n;var r={};return c(r,n),c(r,a),r}}function p(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function h(e,t){var n=t.bind(e);return n}function m(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var a=t[n],r=t[n+1];e[a]=h(e,r)}}function v(e){var t=a(function(e,a,r){this.__reactAutoBindPairs.length&&m(this),this.props=e,this.context=a,this.refs=i,this.updater=r||n,this.state=null;var o=this.getInitialState?this.getInitialState():null;l("object"==typeof o&&!Array.isArray(o),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=o});t.prototype=new w,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],y.forEach(u.bind(null,t)),u(t,E),u(t,e),u(t,k),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),l(t.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var r in b)t.prototype[r]||(t.prototype[r]=null);return t}var y=[],b={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},g={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)u(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=o({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=o({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=f(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=o({},e.propTypes,t)},statics:function(e,t){d(e,t)},autobind:function(){}},E={componentDidMount:function(){this.__isMounted=!0}},k={componentWillUnmount:function(){this.__isMounted=!1}},C={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},w=function(){};return o(w.prototype,e.prototype,C),v}var o=n(13),i=n(40),l=n(14),s="mixins";e.exports=r},function(e,t,n){"use strict";var a={};e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(3)),f=(a(c),n(4)),p=a(f),h=n(1),m=n(20),v=a(m),y=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();var e=this.props.data;void 0==e.attributes&&(e.attributes=[]),void 0==e.triggers&&(e.triggers=[]);var t=[];this.props.metadata.dataModel.forEach(function(e){t.push({value:e.id,text:e.name})});var n=[];this.props.metadata.codeActions.forEach(function(e){n.push({value:e.id,text:e.name})});var a=[];this.props.metadata.additionalParams.Types.forEach(function(e){a.push({value:e,text:e})});var r=this.props.onSave.bind(this.props.parent),o=this.props.onCancel.bind(this.props.parent);return u.default.createElement("div",{className:"dwkit-formadmin-formedit"},u.default.createElement(h.Breadcrumb,null,u.default.createElement(h.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},"Data model"),u.default.createElement(h.Breadcrumb.Divider,null),u.default.createElement(h.Breadcrumb.Section,{active:!0},e.name)),u.default.createElement("div",{className:"dwkitadmin-toolbar-editform"},u.default.createElement(h.Button,{className:"buttontype1",onClick:r},"Save"),u.default.createElement(h.Button,{className:"buttontype2",onClick:o},"Cancel")),u.default.createElement("h1",null,this.props.parent.title),u.default.createElement(h.Form,null,u.default.createElement(h.Form.Group,{widths:"equal"},u.default.createElement("div",{is:!0,class:"field"},u.default.createElement(h.Form.Input,{name:"name",label:"Name",error:Boolean(e.__error.name),value:e.name,onChange:this.handleChange.bind(this,e)}),u.default.createElement(h.Form.Input,{name:"dbObjectName",label:"DbObjectName",error:Boolean(e.__error.dbObjectName),value:e.dbObjectName,onChange:this.handleChange.bind(this,e)}),u.default.createElement(h.Form.Input,{name:"schemaName",label:"SchemaName",error:Boolean(e.__error.schemaName),value:e.schemaName,onChange:this.handleChange.bind(this,e)})),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement(h.Form.Input,{name:"primaryKeyAttribute",label:"PrimaryKey",placeholder:"Id",error:Boolean(e.__error.primaryKeyAttribute),value:e.primaryKeyAttribute,onChange:this.handleChange.bind(this,e)}),u.default.createElement(h.Form.Input,{name:"logicalDeleteAttribute",placeholder:"IsDeleted",error:Boolean(e.__error.logicalDeleteAttribute),label:"Logical delete attrubute",value:e.logicalDeleteAttribute,onChange:this.handleChange.bind(this,e)}),u.default.createElement(h.Form.Input,{name:"versionAttribute",placeholder:"LockVersion",error:Boolean(e.__error.versionAttribute),label:"Optimistic lock attrubute",value:e.versionAttribute,onChange:this.handleChange.bind(this,e)}))),u.default.createElement("h1",null,"Triggers"),u.default.createElement("div",{is:!0,class:"field",widths:"16"},u.default.createElement(v.default,{data:e.triggers,types:["AfterSelect","BeforeInsert","AfterInsert","BeforeUpdate","AfterUpdate","BeforeDelete","AfterDelete"],codeactions:n,onChange:this.updateStateAndForce.bind(this)})),u.default.createElement("h1",null,"Attributes"),u.default.createElement("div",{is:!0,class:"field",widths:"16"},this.renderAttributes(e.attributes,t,a))))}},{key:"renderAttributes",value:function(e,t,n){var a=[];a.push(u.default.createElement("a",{key:"btnadd",onClick:this.onAddAttribute.bind(this,e)},"Add an attribute"));for(var r=0;r<e.length;r++){var o,i=e[r],l="att_"+i.id,s=1==i.typeId;o=s?u.default.createElement(h.Form.Dropdown,{key:"type",name:"referenceEntityId",label:"Reference entity",value:i.referenceEntityId,error:Boolean(i.__error.referenceEntityId),options:t,onChange:this.handleChange.bind(this,i)}):u.default.createElement(h.Form.Dropdown,{key:"type",options:n,name:"type",label:"Data type",placeholder:"String",error:Boolean(i.__error.type),value:i.type,onChange:this.handleChange.bind(this,i)});var d=u.default.createElement(h.Form.Group,{key:l,widths:"equal",className:"dwkit-formadmin-item"},u.default.createElement("div",{key:"c1",is:!0,class:"field"},u.default.createElement(h.Form.Input,{key:"name",name:"name",label:"Name",error:Boolean(i.__error.name),value:i.name,onChange:this.handleChange.bind(this,i)}),u.default.createElement("label",{key:"c1label"},"Options"),u.default.createElement(h.Form.Group,{widths:"equal"},u.default.createElement(h.Form.Checkbox,{name:"isNullable",label:"Nullable",error:Boolean(i.__error.isNullable),checked:i.isNullable,onChange:this.handleChange.bind(this,i)}),u.default.createElement(h.Form.Checkbox,{name:"isVirtual",label:"Virtual",error:Boolean(i.__error.isVirtual),checked:i.isVirtual,onChange:this.handleChange.bind(this,i)}),u.default.createElement(h.Form.Checkbox,{name:"isCalculated",label:"Calculate",error:Boolean(i.__error.isCalculated),checked:i.isCalculated,onChange:this.handleChange.bind(this,i)}))),u.default.createElement("div",{key:"c2",is:!0,class:"field"},u.default.createElement("label",{key:"c2label"},"Type"),u.default.createElement(h.Form.Group,{key:"c2g"},u.default.createElement(h.Form.Radio,{key:"typeColumn",name:l+"_typeId",error:Boolean(i.__error.typeId),label:"Column",value:0,checked:!1===s,onChange:this.handleChangeTypeId.bind(this,i)}),u.default.createElement(h.Form.Radio,{key:"typeRef",name:l+"_typeId",error:Boolean(i.__error.typeId),label:"Reference",value:1,checked:s,onChange:this.handleChangeTypeId.bind(this,i)})),o),u.default.createElement(h.Image,{className:"dwkit-buttonimage",key:"btndelete",src:"/images/dwkit-delete.png",onClick:this.onDeleteAttribute.bind(this,e,i.Id)}));a.push(d)}return 0==e.length&&a.push(u.default.createElement("div",{className:"dwkit-formadmin-info",key:"message"},"This data model has not any attributes.",u.default.createElement("br",null),"Click ",u.default.createElement("a",{key:"btnadd2",onClick:this.onAddAttribute.bind(this,e)},"here")," for creating attributes.")),a}},{key:"handleChangeTypeId",value:function(e,t,n){var a=(n.name,n.value);this.handleChange(e,t,{name:"typeId",value:a})}},{key:"handleChange",value:function(e,t,n){var a=n.name,r=n.value,o=n.checked;e[a];e[a]=void 0==r?o:r,this.updateStateAndForce()}},{key:"onAddAttribute",value:function(e){var t={id:this.NewGUID(),typeId:0};e.unshift(t),this.updateStateAndForce()}},{key:"onDeleteAttribute",value:function(e,t){for(var n=void 0,a=0;a<e.length;a++)if(e[a].Id==t){n=a;break}void 0!=n&&e.splice(n,1),this.updateStateAndForce()}},{key:"updateStateAndForce",value:function(){this.setUpdatedState(this.props.data),this.forceUpdate()}}]),t}(p.default);t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),d=a(u),c=n(2),f=(a(c),n(4)),p=a(f),h=n(1),m=n(3),v=(a(m),function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.title="Sync with Database",n.state={},n}return i(t,e),s(t,[{key:"render",value:function(){var e,t=this.state.data;return e=void 0==t?d.default.createElement("div",null,d.default.createElement("div",{className:"dwkit-formadmin-info"},d.default.createElement("br",null),d.default.createElement("br",null),d.default.createElement("a",{onClick:this.onRefresh.bind(this)},"Click here for analysing DB..."))):0==t.length?d.default.createElement("div",null,d.default.createElement("div",{className:"dwkit-formadmin-info"},d.default.createElement("br",null),d.default.createElement("br",null),"The data model and database are synchronized.",d.default.createElement("br",null),d.default.createElement("a",{onClick:this.onRefresh.bind(this)},"Analysing DB again"),".")):this.renderChanges(t),d.default.createElement("div",null,d.default.createElement("h1",null,this.title),void 0!=t&&d.default.createElement("div",{className:"dwkitadmin-toolbar"},d.default.createElement(h.Button,{className:"buttontype2",onClick:this.onRefresh.bind(this)},"Refresh"),d.default.createElement(h.Button,{className:"buttontype1",onClick:this.onApply.bind(this)},"Apply selected changes"),d.default.createElement(h.Button,{className:"buttontype2",onClick:this.massChangeSelect.bind(this,void 0,!0)},"Select All"),d.default.createElement(h.Button,{className:"buttontype2",onClick:this.massChangeSelect.bind(this,void 0,!1)},"Deselect All")),e)}},{key:"renderChanges",value:function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n],r=a.id,o=this.getChangedTitle(a.changedType),i=d.default.createElement("div",{key:r,className:"dwkit-formadmin-item"},d.default.createElement(h.Form,{key:"form"},d.default.createElement(h.Form.Group,{key:"formgroup",widths:"equal"},d.default.createElement("div",{key:"formgroupdiv",is:!0,class:"field"},d.default.createElement(h.Form.Group,{key:"formgroup2",widths:"equal"},d.default.createElement(h.Form.Checkbox,{width:1,name:"select",key:"check",checked:a.__select,onChange:this.handleSelectGroupChange.bind(this,a)}),d.default.createElement(h.Form.Input,{width:9,key:"name",name:"name",label:"Name",value:a.name,readOnly:!0}),d.default.createElement(h.Form.Input,{width:6,key:"changeTitle",name:"changeTitle",label:"Changed type",error:"deleted"==a.changedType,value:o,readOnly:!0})),void 0!=a.changes&&a.changes.length>0&&d.default.createElement("div",{style:{marginTop:"10px"}},d.default.createElement("a",{key:"selectbutton",onClick:this.massChangeSelect.bind(this,a,!0)},"Select"),"  ",d.default.createElement("a",{key:"deselectbutton",onClick:this.massChangeSelect.bind(this,a,!1)},"Deselect"))),d.default.createElement("div",{key:"childrendiv",is:!0,class:"field"},this.renderChildren(a)))));t.push(i)}return t}},{key:"renderChildren",value:function(e){if(void 0!=e.changes&&0!=e.changes.length){for(var t=[],n=0;n<e.changes.length;n++){var a,r=e.changes[n],o=r.id;a=void 0==r.originalValue?this.getChangedTitle(r.changedType):r.originalValue+" -> "+r.newValue;var i=d.default.createElement(h.Form.Group,{key:o,widths:"equal"},d.default.createElement(h.Form.Checkbox,{name:"changeselect",width:1,key:"check",checked:r.__select,onChange:this.handleSelectChange.bind(this,e,r)}),d.default.createElement(h.Form.Input,{name:"parameter",width:3,key:"parameter",label:"Parameter",value:r.parameter,readOnly:!0}),d.default.createElement(h.Form.Input,{name:"change",width:9,key:"value",label:"Changes",error:"deleted"==r.changedType,value:a,readOnly:!0}));t.push(i)}return t}}},{key:"getChangedTitle",value:function(e){return"new"==e?"New":"changed"==e?"Changed":"deleted"==e?"Deleted":void 0}},{key:"onApply",value:function(){var e=this,t=this.getChangesForApply(this.state.data);if(0==t.length)return void alertify.error("Please, select changes for applying.");this.ChangeData(t,function(t){e.onRefresh()})}},{key:"getChangesForApply",value:function(e){var t=[];return e.forEach(function(e){if(e.__select)t.push(l({},e,{__type:"datasync",__state:"inserted"}));else if(void 0!=e.changes&&e.changes.length>0){var n=[];e.changes.forEach(function(e){e.__select&&n.push(e)}),n.length>0&&t.push(l({},e,{changes:n,__type:"datasync",__state:"inserted"}))}}),t}},{key:"onRefresh",value:function(){var e=this,t=new Array;t.push({name:"operation",value:"analysedb"}),$.ajax({url:e.props.apiUrl,data:t,async:!0,type:"post",success:function(t){t.success?(e.setState({isloadig:!1,data:t.items}),e.props.parent.load()):alertify.error(t.message)},error:function(t,n){var a=e.getProcessLoadError(t,n);alertify.error(a)}})}},{key:"onSelectAll",value:function(){this.massChangeSelect(void 0,!0)}},{key:"onDeselectAll",value:function(){this.massChangeSelect(void 0,!1)}},{key:"onSelectGroup",value:function(e){this.massChangeSelect(e,!0)}},{key:"onDeselectGroup",value:function(e){this.massChangeSelect(e,!1)}},{key:"massChangeSelect",value:function(e,t){void 0!=e?(e.__select=t,void 0!=e.changes&&e.changes.forEach(function(e){e.__select=t})):this.state.data.forEach(function(e){e.__select=t,void 0!=e.changes&&e.changes.forEach(function(e){e.__select=t})}),this.forceUpdate()}},{key:"handleSelectChange",value:function(e,t,n,a){var r=a.checked;if(t.__select=r,void 0!=e.changes&&e.changes.length>0){var o=!0;e.changes.forEach(function(e){o&=e.__select}),e.__select=o}this.forceUpdate()}},{key:"handleSelectGroupChange",value:function(e,t,n){var a=n.checked;e.__select=a,void 0!=e.changes&&e.changes.forEach(function(e){e.__select=a}),this.forceUpdate()}}]),t}(p.default));t.default=v},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(a)},u=n(0),d=a(u),c=n(2),f=(a(c),n(10)),p=a(f),h=(n(1),n(5)),m=a(h),v=n(44),y=a(v),b=(0,p.default)({displayName:"CodeActionsTypeFormatter",render:function(){var e="Unknown";return 0==this.props.value&&(e="Filter"),1==this.props.value&&(e="Action"),2==this.props.value&&(e="Rule"),d.default.createElement("div",null,e)}}),g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dataindex="codeActions",n.panelindex="codeactions",n.defaultNamePrefix="",n.idfield="id",n.title="Code actions",n.datatype="codeactions",n.editform=y.default,n}return i(t,e),l(t,[{key:"gridColumns",value:function(){return[{key:"name",name:"Name",resizable:!0},{key:"definedOnServer",name:"Defined on Server",resizable:!0,type:"checkbox"},{key:"type",name:"Type",resizable:!0,type:"custom",customFormatter:b}]}},{key:"getDefaultObjectCode",value:function(){return""}},{key:"showedit",value:function(e){e.definedOnServer?alertify.error("This object is defined on server. Your can't edit it in admin panel."):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"showedit",this).call(this,e)}},{key:"validate",value:function(){var e=!0,t=this.state.editrow;return t.__error={name:void 0==t.name||""==t.name?"This field is required":void 0},e&=void 0==t.__error.name}},{key:"onDelete",value:function(){for(var e=this,t=[],n=[],a=this.grid.getSeletedRowKeys(),r=0;r<this.props.data[this.dataindex].length;r++){for(var o=this.props.data[this.dataindex][r],i=!1,l=0;l<a.length;l++)if(o[this.idfield]==a[l]){i=!0;break}if(i){var s=o;if(s.definedOnServer)return e.setState({confirmdeleteshow:!1}),void alertify.error("One of deleting objects is defined on server. Your can't delete it in admin panel.");s.__type=this.datatype,s.__state="deleted",n.push(s)}else t.push(o)}this.ChangeData(n,function(){e.props.data[e.dataindex]=t,e.setState({selectedIndexes:[],confirmdeleteshow:!1})})}}]),t}(m.default);t.default=g},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(1)),f=n(3),p=a(f),h=n(4),m=a(h),v=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},"inserted"==e.data.__state&&void 0==e.data.type&&(e.data.type=0,e.data.usings=n.getDefaultUsings(),e.data.source=n.getDefaultCodeByType(e.data.type,e.data.isAsync)),n}return i(t,e),l(t,[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"componentDidMount",value:function(){this.redrawEditor()}},{key:"redrawEditor",value:function(){var e=void 0==this.props.data?[]:this.props.data,t=($(window).width(),$(window).height(),ace.edit("dwkit-admin-codeactions-editcode"));t.getSession().setMode("ace/mode/csharp"),void 0!=e.source&&t.setValue(e.source,-1)}},{key:"render",value:function(){this.validate();var e=this.props.data;return u.default.createElement("div",{className:"dwkitadmin-toolbar-editform"},u.default.createElement(c.Breadcrumb,null,u.default.createElement(c.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},"Code Actions"),u.default.createElement(c.Breadcrumb.Divider,null),u.default.createElement(c.Breadcrumb.Section,{active:!0},e.name)),u.default.createElement("div",{className:"dwkitadmin-toolbar-editform"},u.default.createElement(c.Button,{className:"buttontype2",onClick:this.onCompile.bind(this)},"Compile"),u.default.createElement(c.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},"Save"),u.default.createElement(c.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},"Cancel")),u.default.createElement("h1",null,this.props.parent.title),u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Input,{name:"name",label:"Name",error:Boolean(e.__error.name),value:e.name,onChange:this.handleChange.bind(this,e)}),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("label",null,"Type"),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Radio,{name:"type",label:"Filter",value:0,checked:0===e.type,onChange:this.handleChange.bind(this,e)}),u.default.createElement(c.Form.Radio,{name:"type",label:"Action",value:1,checked:1===e.type,onChange:this.handleChange.bind(this,e)}),u.default.createElement(c.Form.Radio,{name:"type",label:"Trigger",value:2,checked:2===e.type,onChange:this.handleChange.bind(this,e)}),u.default.createElement(c.Form.Checkbox,{name:"isAsync",label:"IsAsync",checked:e.isAsync,onChange:this.handleChange.bind(this,e)})))),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.TextArea,{rows:6,name:"usings",label:"Usings",value:e.usings,onChange:this.handleChange.bind(this,e)}),u.default.createElement(c.Form.TextArea,{rows:6,name:"comment",label:"Comment",value:e.comment,onChange:this.handleChange.bind(this,e)}))),u.default.createElement("span",null,this.getDefine(e.name,e.type,e.isAsync)),u.default.createElement("div",{id:"dwkit-admin-codeactions-editcode",style:{height:"415px"}}),void 0!=this.state.message&&u.default.createElement(c.TextArea,{className:"dwkit-admin-codeactions-result",readOnly:!0,value:this.state.message}))}},{key:"onSave",value:function(){var e=ace.edit("dwkit-admin-codeactions-editcode"),t=e.getValue(),n=this.props.data;n.source=t,this.setUpdatedState(n),this.props.onSave.bind(this.props.parent)()}},{key:"onCancel",value:function(){this.props.onCancel.bind(this.props.parent)(),this.redrawEditor()}},{key:"handleChange",value:function(e,t,n){var a=n.name,r=n.value,o=n.checked;e[a];if(e[a]=void 0==r?o:r,"type"==a){var i=this.getDefaultCodeByType(r);ace.edit("dwkit-admin-codeactions-editcode").setValue(i,-1)}this.setUpdatedState(this.props.data),this.forceUpdate()}},{key:"onCompile",value:function(){var e=this,t=ace.edit("dwkit-admin-codeactions-editcode"),n=t.getValue();this.props.data.source=n;var a=new Array;a.push({name:"operation",value:"compile"}),a.push({name:"item",value:p.default.stringify(this.props.data)}),$.ajax({url:e.props.apiUrl,data:a,async:!0,type:"post",success:function(t){t.success?(alertify.success("This CodeAction has been compiled successfully!"),e.setState({message:void 0})):(alertify.error(t.message),e.setState({message:t.message}))}})}},{key:"getDefaultUsings",value:function(){return"System;\nSystem.Collections;\nSystem.Collections.Generic;\nSystem.Linq;\nSystem.Threading;\nSystem.Threading.Tasks;\nOptimaJet.Workflow;\nOptimaJet.Workflow.Core.Model;\nOptimaJet.DWKit.Core;\nOptimaJet.DWkit.Model;"}},{key:"getDefaultCodeByType",value:function(e,t){var n="";return 0==e?n="//TODO: Replace the emplty filter to your filter;\nreturn FilterCriteriaSet.Empty;":1==e?n="//TODO: Call your actons;\nreturn null;":2==e&&(n="//TODO: Check your trigger;\nreturn (string.Empty,false);"),n}},{key:"getDefine",value:function(e,t,n){var a="",r="";return void 0==e&&(e="____"),0==t?(a=n?"public static async Task<FilterCriteriaSet>":"public static async FilterCriteriaSet",r="(EntityModel model, List<dynamic> entities, dynamic options)"):1==t?(a=n?"public static async Task<dynamic>":"public static async dynamic",r="(dynamic request)"):2==t&&(a=n?"public static async Task<(string Message, bool IsCancelled)>":"public static (string Message, bool IsCancelled)",r="(EntityModel model, List<dynamic> entities, dynamic options)"),u.default.createElement("span",{className:"dwkit-admin-codeactions-define"},a," ",u.default.createElement("span",{className:"dwkit-admin-codeactions-definefunctionname"},e),r)}}]),t}(m.default);t.default=v},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=(a(s),n(2)),d=(a(u),n(1),n(3)),c=(a(d),n(21)),f=a(c),p=n(46),h=a(p),m=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.editform=h.default,n.dataindex="forms",n.idfield="name",n.panelindex="forms",n.datatype="form",n.title="Forms",n}return i(t,e),l(t,[{key:"gridColumns",value:function(){return[{key:"name",name:"Name",resizable:!0}]}}]),t}(f.default);t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(1)),f=n(47),p=a(f),h=n(3),m=a(h),v=n(4),y=a(v),b=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={dropzoneactive:!0},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.loadform()}},{key:"loadform",value:function(){var e=this,t=!1;if(e.state.id=e.props.data.name,this.props.metadata.forms.forEach(function(n){n.name==e.props.data.name&&(t=!0)}),!t)return this.props.data.__state="inserted",void(void 0!=e.builder&&e.builder.create());var n=new Array;n.push({name:"operation",value:"loadform"}),n.push({name:"name",value:e.props.data.name}),$.ajax({url:e.props.apiUrl,data:n,async:!0,type:"post",success:function(t){if(t.success){var n=JSON.parse(t.item.source);void 0!=e.builder&&e.builder.loadData(n),e.forceUpdate()}else alertify.error(t.message)}})}},{key:"messageClose",value:function(){this.setState({message:void 0})}},{key:"getForm",value:function(e){var t=this;Pace.start();var n=new Array;n.push({name:"operation",value:"loadform"}),n.push({name:"name",value:e});var a=$.ajax({url:t.props.apiUrl,data:n,async:!1,type:"post"}).responseJSON;Pace.stop();var r=void 0;if(a.success)if(void 0!=a.item&&void 0!=a.item.source)r=m.default.parse(a.item.source);else{var o="FormBuilder: Incorrect source of '"+e+"' form!";alertify.error(o)}else alertify.error(a.message);return r}},{key:"getFormList",value:function(){var e=[];return this.props.metadata.forms.forEach(function(t){e.push(t.name)}),e}},{key:"getAdditionalDataForControl",value:function(e,t,n){var a=t.startIndex,r=t.pageSize,o=(t.filters,t.sort,t.model);if("dictionary"==e.props["data-buildertype"]){for(var i=[],l=0;l<3;l++){var s={};s.key=o+"_"+l,s.text=o+"_"+l,s.value=l,i.push(s)}n({items:i})}else{for(var i=[],l=0;l<r;l++){var s={};e.props.columns.forEach(function(e){s[e.key]=e.key+"_"+(Number(a)+Number(l))}),i.push(s)}n({startIndex:a,pageSize:r,rowsCount:5,items:i})}}},{key:"render",value:function(){var e=this;this.state.id!=this.props.data.name&&this.loadform();var t=this.props.parent.props.controlActions;void 0==t&&(t=[]);var n=[];this.props.metadata.workflow.forEach(function(e){n.push({text:e.code,value:e.code})});var a=void 0!=this.state.message,r=this.state.dropzoneactive?"":"dwkit-formbuilder-selector-preview",o=function(){e.setState({workflowopen:!0})},i=function(){e.setState({workflowopen:!1})},l=function(){e.setState({securityopen:!0})},s=function(){e.setState({securityopen:!1})};return u.default.createElement("div",null,u.default.createElement(c.Breadcrumb,null,u.default.createElement(c.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},"Form"),u.default.createElement(c.Breadcrumb.Divider,null),u.default.createElement(c.Breadcrumb.Section,{active:!0},this.props.data.name)),u.default.createElement("div",{className:"dwkit-admin-form-buttons"},u.default.createElement(c.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},"Save"),u.default.createElement(c.Button,{className:"buttontype2",onClick:this.onDownload.bind(this)},"Download"),u.default.createElement(c.Button,{className:"buttontype2",onClick:this.onUpload.bind(this)},"Upload"),u.default.createElement(c.Button,{className:"buttontype2",onClick:o},"Workflow"),u.default.createElement(c.Button,{className:"buttontype2",onClick:l},"Security"),u.default.createElement("div",{style:{display:"inline",float:"right"}},u.default.createElement("div",{className:"dwkit-formbuilder-selector"},u.default.createElement("span",{className:r},"Preview"),u.default.createElement(c.Checkbox,{toggle:!0,name:"cbShowDropzones",label:"Builder",checked:this.state.dropzoneactive,onChange:this.handleShowDropzonesClick.bind(this)})),u.default.createElement(c.Button,{className:"buttontype2",onClick:this.onClearForm.bind(this)},"Clear form"))),u.default.createElement("form",{is:!0,action:"",id:"dwkitadmin-form-uploadform",method:"post",style:{display:"none"},enctype:"multipart/form-data",onsubmit:"tmp()"},u.default.createElement("input",{type:"file",name:"dwkitadmin-form-uploadfile",id:"dwkitadmin-form-uploadfile",onChange:this.onUpload_onchange.bind(this)})),u.default.createElement(p.default,{actions:t,getFormFunc:this.getForm.bind(this),getFormList:this.getFormList.bind(this),getAdditionalDataForControl:this.getAdditionalDataForControl.bind(this),ref:function(t){e.builder=t}}),u.default.createElement(c.Modal,{dimmer:"blurring",open:a,onClose:this.messageClose.bind(this)},u.default.createElement(c.Modal.Header,null,"Message"),u.default.createElement(c.Modal.Content,null,u.default.createElement("p",null,this.state.message)),u.default.createElement(c.Modal.Actions,null,u.default.createElement(c.Button,{icon:"check",content:"OK",onClick:this.messageClose.bind(this)}))),u.default.createElement(c.Modal,{dimmer:"blurring",open:this.state.workflowopen,onClose:i},u.default.createElement(c.Modal.Header,null,"Workflow"),u.default.createElement(c.Modal.Content,null,u.default.createElement("p",null,"Here you can associate the form and one or more workflow.",u.default.createElement("br",null),"For mapping form for each state of workflow use Business flow object."),u.default.createElement(c.Form.Dropdown,{label:"Schemes of workflow",name:"schemes",multiple:!0,search:!0,selection:!0,options:n,value:void 0==this.props.data.schemes?[]:this.props.data.schemes,onChange:this.handleChange.bind(this)})),u.default.createElement(c.Modal.Actions,null,u.default.createElement(c.Button,{className:"buttontype1",content:"Apply",onClick:i}))),u.default.createElement(c.Modal,{dimmer:"blurring",open:this.state.securityopen,onClose:s},u.default.createElement(c.Modal.Header,null,"Security"),u.default.createElement(c.Modal.Content,null,u.default.createElement("p",null,"Here you can associate the form and one group of permissions."),u.default.createElement("p",null,"Make sure this group of permission has View and Edit permissions and you gave them access to the permissions.",u.default.createElement("br",null),u.default.createElement("b",null,'Otherwise, users getting "Access Denied" when try to open this form or change data!')),u.default.createElement(c.Form.Input,{label:"Group of permissions",name:"securityGroup",value:this.props.data.securityGroup,onChange:this.handleChange.bind(this)})),u.default.createElement(c.Modal.Actions,null,u.default.createElement(c.Button,{className:"buttontype1",content:"Apply",onClick:s}))))}},{key:"onClearForm",value:function(){this.builder.create()}},{key:"onSave",value:function(){var e=this;this.props.data.source=JSON.stringify(this.builder.getData()),e.setUpdatedState(this.props.data),this.props.data.__type=this.props.parent.datatype,this.ChangeData([this.props.data],function(t){var n=e.props.data.__state;e.ResetSystemProps(e.props.data),"inserted"==n&&e.props.metadata.forms.push({name:e.props.data.name})})}},{key:"onDownload",value:function(){this.builder.download()}},{key:"onUpload",value:function(){$("#dwkitadmin-form-uploadfile").trigger("click")}},{key:"onUpload_onchange",value:function(){this.builder.upload($("#dwkitadmin-form-uploadfile")[0],function(){alertify.success("The file is uploaded!")})}},{key:"handleShowDropzonesClick",value:function(e,t){var n=(t.name,t.checked);this.builder.setBuilderMode(n),this.setState({dropzoneactive:n})}},{key:"handleChange",value:function(e,t){var n=t.name,a=t.value;this.props.data[n]=a,this.forceUpdate()}}]),t}(y.default);t.default=b},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(48)),f=a(c),p=n(61),h=a(p),m=n(12),v=a(m),y=n(62),b=a(y),g=n(6),E=(a(g),n(1)),k=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={defaultForm:e.defaultForm,apiurl:e.apiurl,imagefolder:e.imagefolder,actions:e.actions,dropzoneactive:!0},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){void 0!=this.state.defaultForm&&this.load(this.state.defaultForm)}},{key:"exists",value:function(e){return v.default.exists(e)}},{key:"setBuilderMode",value:function(e){e?($(".dwkit-formbuilder-zone").show(),$(".dwkit-formbuilder-item-toolbar-header").show()):($(".dwkit-formbuilder-zone").hide(),$(".dwkit-formbuilder-item-toolbar-header").hide()),this.setState({dropzoneactive:e})}},{key:"create",value:function(){v.default.setData([]),this.setBuilderMode(!0)}},{key:"loadData",value:function(e){v.default.setData(e),this.setBuilderMode(!0)}},{key:"getData",value:function(){return v.default.getData()}},{key:"load",value:function(e){var t=this.props.getFormFunc(e);v.default.setData(t),this.setState({code:e}),this.setBuilderMode(!0)}},{key:"download",value:function(){var e=v.default.getData(),t="data:text/json;charset=utf-8,";t+=JSON.stringify(e,null,2);var n=t,a=document.createElement("a");a.setAttribute("href",n),a.setAttribute("download","form.json"),document.body.appendChild(a),a.click()}},{key:"upload",value:function(e,t){var n=e.files[0],a=new FileReader;a.onload=function(e){return function(e){var t=JSON.parse(e.target.result);v.default.setData(t)}}(),a.readAsText(n)}},{key:"handleShowDropzonesClick",value:function(e,t){var n=(t.name,t.checked);this.setBuilderMode(n)}},{key:"onChooseFileUpload",value:function(e){$("#builderUploadFile").click()}},{key:"onChangeFileUpload",value:function(e){$("#builderUploadSubmit").click()}},{key:"onUpload",value:function(e){e.preventDefault(),this.upload(document.getElementById("builderUploadFile"))}},{key:"onDownload",value:function(e){this.download()}},{key:"showsample1",value:function(){this.load("invoiceform")}},{key:"showsample2",value:function(){this.load("projectform")}},{key:"getHeader",value:function(){var e=this.state.dropzoneactive?"":"dwkit-formbuilder-selector-preview";return u.default.createElement("div",{className:"dwkit-formbuilder-header"},u.default.createElement("div",{className:"dwkit-formbuilder-header-left"},u.default.createElement("img",{className:"dwkit-formbuilder-header-logo",src:"/images/logo.svg"})),u.default.createElement("div",{className:"dwkit-formbuilder-header-center"},u.default.createElement(E.Button,{name:"btnEmpty",className:"buttontype2",onClick:this.create.bind(this)},"Clear"),u.default.createElement(E.Button,{name:"btnSample1",className:"buttontype1",onClick:this.showsample1.bind(this)},"Sample 1"),u.default.createElement(E.Button,{name:"btnSample1",className:"buttontype1",onClick:this.showsample2.bind(this)},"Sample 2")),u.default.createElement("div",{className:"dwkit-formbuilder-header-right"},u.default.createElement("div",{className:"dwkit-formbuilder-selector"},u.default.createElement("span",{className:e},"Preview"),u.default.createElement(E.Checkbox,{toggle:!0,name:"cbShowDropzones",label:"Builder",checked:this.state.dropzoneactive,onChange:this.handleShowDropzonesClick.bind(this)})),u.default.createElement(E.Button,{name:"btnUpload",className:"buttontype2",onClick:this.onChooseFileUpload.bind(this)},"Upload"),u.default.createElement(E.Button,{name:"btnDownload",className:"buttontype2",onClick:this.onDownload.bind(this)},"Download"),u.default.createElement("form",{action:"/",method:"post",id:"builderUploadForm",style:{display:"none"},onSubmit:this.onUpload.bind(this)},u.default.createElement("input",{type:"file",id:"builderUploadFile",onChange:this.onChangeFileUpload.bind(this)}),u.default.createElement("input",{type:"submit",id:"builderUploadSubmit"}))))}},{key:"render",value:function(){return u.default.createElement("div",{className:"dwkit-formbuilder"},this.props.showHeader&&this.getHeader(),u.default.createElement(f.default,null),u.default.createElement("div",{className:"dwkit-formbuilder-content"},u.default.createElement(h.default,{getFormFunc:this.props.getFormFunc,getFormFist:this.props.getFormFist,getAdditionalDataForControl:this.props.getAdditionalDataForControl}),u.default.createElement(b.default,{actions:this.state.actions})))}}]),t}(u.default.Component);t.default=k},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(7),c=a(d),f=n(9),p=a(f),h=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={items:p.default.Items},n}return i(t,e),l(t,[{key:"onDragStart",value:function(e){var t=".dwkit-formbuilder-zone";if(void 0!=e.forContainerType){var n=e.forContainerType.split(","),a="";n.forEach(function(e){a.length>0&&(a+=","),a+="[data-buildertype='"+e+"'] > "+t}),t=a}$(t).addClass("dwkit-formbuilder-zone-active").on("dragenter",this.onTargetDragEnter.bind(this,e,"dwkit-formbuilder-zone-select")).on("dragleave",this.onTargetDragLeave.bind(this,e,"dwkit-formbuilder-zone-select")).on("dragover",function(e){e.preventDefault()}).on("drop",this.onDrop.bind(this,e))}},{key:"onTargetDragEnter",value:function(e,t){$(window.event.currentTarget).addClass(t)}},{key:"onTargetDragLeave",value:function(e,t){$(window.event.currentTarget).removeClass(t)}},{key:"onDragEnd",value:function(e){var t=$(".dwkit-formbuilder-zone");t.removeClass("dwkit-formbuilder-zone-active"),t.removeClass("dwkit-formbuilder-zone-select"),t.off()}},{key:"onDrop",value:function(e){var t=$(window.event.currentTarget);return t.length>0&&c.default.add(e.key,t[0]),this.onDragEnd(e),!0}},{key:"onDoubleClick",value:function(e){c.default.add(e.key)}},{key:"onExpand",value:function(e,t){e.isexpanded=t,this.setCookie("toolbar_"+e.key,t),this.forceUpdate()}},{key:"render",value:function(){var e=this,t=this,n=!1;return u.default.createElement("div",{className:"dwkit-formbuilder-toolbox"},u.default.createElement("ul",null,this.state.items.map(function(a){if(a.isseparate){var r,o;if(void 0==a.isexpanded){var i=t.getCookie("toolbar_"+a.key);a.isexpanded=void 0!=i?"true"==i:a.defaultopen}return a.isexpanded?(n=!0,o=t.onExpand.bind(t,a,!1),r=u.default.createElement("img",{key:"btnexpand",className:"collapse",src:"/images/collapse.svg"})):(n=!1,o=t.onExpand.bind(t,a,!0),r=u.default.createElement("img",{key:"btnexpand",className:"expand",src:"/images/expand.svg"})),u.default.createElement("li",{draggable:"false",onClick:o,className:"dwkit-formbuilder-toolbox-subheader",key:a.key},r,a.title)}if(n){void 0!=a.imagewidth&&a.imagewidth,void 0!=a.imageheight&&a.imageheight;return u.default.createElement("li",{draggable:"true",key:a.key,onDragStart:e.onDragStart.bind(e,a),onDragEnd:e.onDragEnd.bind(e,a),onDoubleClick:e.onDoubleClick.bind(e,a)},a.title)}})))}},{key:"getCookie",value:function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}},{key:"setCookie",value:function(e,t,n){n=n||{};var a=n.expires;if("number"==typeof a&&a){var r=new Date;r.setTime(r.getTime()+1e3*a),a=n.expires=r}a&&a.toUTCString&&(n.expires=a.toUTCString()),t=encodeURIComponent(t);var o=e+"="+t;for(var i in n){o+="; "+i;var l=n[i];!0!==l&&(o+="="+l)}document.cookie=o}}]),t}(u.default.Component);t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DropdownTriggerEditControl=t.MenuEditControl=t.CustomBlockEditControl=t.CustomEditControl=t.CollectionEditorEditControl=t.GridEditControl=t.ContainerEditControl=t.FormGroupEditControl=t.FormEditControl=t.RadioGroupEditControl=t.ButtonEditControl=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(1),c=n(11),f=a(c),p=n(6),h=(a(p),n(50)),m=a(h),v=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={activeItem:"general"},n.menuItems=[{key:"general",name:"general",active:!0,onClick:n.handleItemClick.bind(n)},{key:"style",name:"style",active:!1,onClick:n.handleItemClick.bind(n)},{key:"events",name:"events",active:!1,onClick:n.handleItemClick.bind(n)},{key:"other",name:"other",active:!1,onClick:n.handleItemClick.bind(n)}],n}return i(t,e),l(t,[{key:"handleItemClick",value:function(e,t){var n=t.name;this.setState({activeItem:n})}},{key:"getDescription",value:function(){var e=this.state.activeItem;return this.menuItems.forEach(function(t){t.active=t.name===e}),u.default.createElement(d.Modal.Description,null,u.default.createElement(d.Menu,{key:"descriptionMenu",pointing:!0,secondary:!0,items:this.menuItems}),this.getDetailDescription(e))}},{key:"getDetailDescription",value:function(e){var t;return"general"===e?t=this.getGeneralDescription():"style"===e?t=this.getStyleDescription():"events"===e?t=this.getEventsDescription():"other"===e&&(t=this.getOtherDescription()),t}},{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return u.default.createElement(d.Form,{key:"generalDescriptionForm"},u.default.createElement(d.Form.Input,{key:"name",label:"Name",name:"key",value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{key:"placeholder",label:"Placeholder",name:"placeholder",value:e.placeholder,onChange:t}),u.default.createElement(d.Form.TextArea,{key:"description",label:"Description",name:"description",value:e.description,onChange:t}))}},{key:"getStyleDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return u.default.createElement(d.Form,{key:"styleDescriptionForm"},u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"style-width",label:"Width",placeholder:"100px",value:e["style-width"],onChange:t}),u.default.createElement(d.Form.Input,{name:"style-height",label:"Height",placeholder:"100px",value:e["style-height"],onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"style-marginTop",label:"Margin Top",placeholder:"0px",value:e["style-marginTop"],onChange:t}),u.default.createElement(d.Form.Input,{name:"style-marginBottom",label:"Margin Bottom",placeholder:"0px",value:e["style-marginBottom"],onChange:t}),u.default.createElement(d.Form.Input,{name:"style-marginLeft",label:"Margin Left",placeholder:"0px",value:e["style-marginLeft"],onChange:t}),u.default.createElement(d.Form.Input,{name:"style-marginRight",label:"Margin Right",placeholder:"0px",value:e["style-marginRight"],onChange:t})),u.default.createElement(d.Form.Input,{name:"style-customcss",label:"Custom CSS class",value:e["style-customcss"],onChange:t}),u.default.createElement(d.Form.TextArea,{name:"style-source",label:"Style",placeholder:"/*** Example Code ***/\ncolor:red;\npaddingTop:5px;",value:e["style-source"],onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"style-hidden",label:"Hidden",checked:e["style-hidden"],onChange:t}))}},{key:"getEventsList",value:function(){return[]}},{key:"getEventsDescription",value:function(){var e=this.props.data;void 0==e.events&&(e.events={});var t,n=this.props.parent.handleChange.bind(this.props.parent),a=this.props.actions,r=this.getEventsList();if(Array.isArray(r)&&0!=r.length){for(var o=this.props.parent.getControlsList(),i=[],l=0;l<o.length;l++)e.key!=o[l]&&i.push({text:o[l],value:o[l]});t=u.default.createElement(m.default,{key:"events",name:"events",data:e.events,events:r,actions:a,targets:i,onAdditionActions:this.handleAdditionActions.bind(this),onChange:n})}else t=u.default.createElement(d.Message,{icon:!0},u.default.createElement(d.Image,{src:"/images/dwkitbuilder-info.png",height:"32px"}),u.default.createElement(d.Message.Content,null,"This control has no events."));return u.default.createElement(d.Form,{key:"eventsDescriptionForm"},u.default.createElement(d.Message,{icon:!0},u.default.createElement(d.Image,{src:"/images/dwkitbuilder-info.png",height:"32px"}),u.default.createElement(d.Message.Content,null,"These flags enable processing from this element.",u.default.createElement("br",null),"More details about event's processing look on ",u.default.createElement("a",null,"dwkit.com"))),t)}},{key:"getOtherDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return u.default.createElement(d.Form,{key:"otherDescriptionForm"},u.default.createElement(d.Form.Checkbox,{name:"other-required",label:"Required",checked:e["other-required"],onChange:t}),u.default.createElement(d.Form.Input,{name:"defaultValue",label:"Default value",value:e.defaultValue,onChange:t}),u.default.createElement(d.Form.TextArea,{name:"other-customValidation",label:"Custom Validation",placeholder:"/*** Example Code ***/\nvalue > 10 ? true : 'Must be more 10'",value:e["other-customValidation"],onChange:t}),u.default.createElement(d.Form.TextArea,{name:"other-visibleConition",label:"Visible condition",placeholder:"/*** Example Code ***/\ndata.type == 1 ? true : false",value:e["other-visibleConition"],onChange:t}),u.default.createElement(d.Form.TextArea,{name:"other-readOnlyConition",label:"ReadOnly condition",placeholder:"/*** Example Code ***/\ndata.type == 1 ? true : false",value:e["other-readOnlyConition"],onChange:t}))}},{key:"render",value:function(){return u.default.createElement(d.Modal,{dimmer:"inverted",open:this.props.open,onClose:this.props.onClose.bind(this.props.parent)},u.default.createElement(d.Modal.Content,null,u.default.createElement(d.Modal.Description,null,this.getDescription())),u.default.createElement(d.Modal.Actions,null,u.default.createElement(d.Button,{className:"buttontype1",onClick:this.props.onSave.bind(this.props.parent)},"Save"),u.default.createElement(d.Button,{className:"buttontype2",onClick:this.props.onClose.bind(this.props.parent)},"Cancel")))}},{key:"checkActionsList",value:function(e){for(var t=!1,n=0;n<this.props.actions.length;n++)if(this.props.actions[n]==e){t=!0;break}t||this.props.actions.push({text:e,value:e})}},{key:"handleAdditionActions",value:function(e,t){var n=t.value;this.checkActionsList(n),this.forceUpdate()}}]),t}(u.default.Component),y=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),e=this.props.data,n=[{text:"Default",value:""},{text:"Mini",value:"mini"},{text:"Tiny",value:"tiny"},{text:"Small",value:"small"},{text:"Medium",value:"medium"},{text:"Large",value:"large"},{text:"Huge",value:"huge"}];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:"Name",value:e.key,onChange:t}),u.default.createElement(d.Form.Dropdown,{name:"size",options:n,placeholder:"Default",label:"Size",value:e.size,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.TextArea,{name:"content",label:"Content",value:e.content,onChange:t}),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("label",null,"Text Align"),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Radio,{name:"textAlign",label:"Left",value:"left",checked:"left"===e.textAlign,onChange:t}),u.default.createElement(d.Form.Radio,{name:"textAlign",label:"Center",value:"center",checked:"center"===e.textAlign,onChange:t}),u.default.createElement(d.Form.Radio,{name:"textAlign",label:"Right",value:"right",checked:"right"===e.textAlign,onChange:t})))),u.default.createElement(d.Form.Input,{name:"subheader",label:"Subheader",value:e.subheader,onChange:t}))}}]),t}(v),b=t.ButtonEditControl=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),e=this.props.data,n=[{text:"Default",value:""},{text:"Mini",value:"mini"},{text:"Tiny",value:"tiny"},{text:"Small",value:"small"},{text:"Medium",value:"medium"},{text:"Large",value:"large"},{text:"Big",value:"big"},{text:"Huge",value:"huge"},{text:"Massive",value:"massive"}];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:"Name",value:e.key,onChange:t}),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("label",null,"Type"),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Radio,{name:"buttonType",label:"None",value:"",checked:""===e.buttonType||void 0===e.buttonType,onChange:t}),u.default.createElement(d.Form.Radio,{name:"buttonType",label:"Submit",value:"submit",checked:"submit"===e.buttonType,onChange:t})))),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"content",label:"Content",value:e.content,onChange:t}),u.default.createElement(d.Form.Dropdown,{name:"size",options:n,placeholder:"Default",label:"Size",value:e.size,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("label",null,"Options"),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"basic",label:"Basic",checked:e.basic,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"circular",label:"Circular",checked:e.circular,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"compact",label:"Compact",checked:e.compact,onChange:t})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"disabled",label:"Disabled",checked:e.disabled,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"fluid",label:"Fluid",checked:e.fluid,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"inverted",label:"Inverted",checked:e.inverted,onChange:t})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"loading",label:"Loading",checked:e.loading,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"primary",label:"Primary",checked:e.primary,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"secondary",label:"Secondary",checked:e.secondary,onChange:t})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"toggle",label:"Toggle",checked:e.toggle,onChange:t}))),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("label",null,"Floated"),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Radio,{name:"floated",label:"Default",value:"",checked:void 0===e.floated||""===e.floated,onChange:t}),u.default.createElement(d.Form.Radio,{name:"floated",label:"Left",value:"left",checked:"left"===e.floated,onChange:t}),u.default.createElement(d.Form.Radio,{name:"floated",label:"Right",value:"right",checked:"right"===e.floated,onChange:t})))))}},{key:"getEventsList",value:function(){return["onClick"]}}]),t}(v),g=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),e=this.props.data,n=[{text:"Default",value:""},{text:"Mini",value:"mini"},{text:"Tiny",value:"tiny"},{text:"Small",value:"small"},{text:"Medium",value:"medium"},{text:"Large",value:"large"},{text:"Huge",value:"huge"}],a=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Bottom",value:"bottom"},{text:"Top right",value:"top right"},{text:"Top left",value:"top left"},{text:"Bottom left",value:"bottom left"},{text:"Bottom right",value:"bottom right"}];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:"Name",value:e.key,onChange:t}),u.default.createElement(d.Form.Dropdown,{name:"attached",options:a,placeholder:"None",label:"Attached",value:e.attached,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement("div",{is:!0,class:"field"},u.default.createElement(d.Form.Input,{name:"content",label:"Content",value:e.content,onChange:t}),u.default.createElement(d.Form.Input,{name:"subheader",label:"Subheader",value:e.subheader,onChange:t}),u.default.createElement(d.Form.Dropdown,{name:"size",options:n,placeholder:"Default",label:"Size",value:e.size,onChange:t})),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("label",null,"Options"),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"basic",label:"Basic",checked:e.basic,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"circular",label:"Circular",checked:e.circular,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"corner",label:"Corner",checked:e.corner,onChange:t})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"floating",label:"Floating",checked:e.floating,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"horizontal",label:"Horizontal",checked:e.horizontal,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"pointing",label:"Pointing",checked:e.pointing,onChange:t})))))}}]),t}(v),E=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),e=this.props.data;return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:"Name",value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"style-font-size",placeholder:"20px",label:"Font size",value:e["style-font-size"],onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement("div",{is:!0,class:"field"},u.default.createElement(d.TextArea,{rows:3,autoHeight:!0,name:"content",label:"Content",value:e.content,onChange:t})),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("label",null,"Options"),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"isHtml",label:"Allow HTML",checked:e.isHtml,onChange:t})))))}}]),t}(v),k=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),e=this.props.data,n=[{text:"Default",value:""},{text:"Mini",value:"mini"},{text:"Tiny",value:"tiny"},{text:"Small",value:"small"},{text:"Medium",value:"medium"},{text:"Large",value:"large"},{text:"Huge",value:"huge"}];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement("div",{is:!0,class:"field"},u.default.createElement(d.Form.Input,{name:"key",label:"Name",value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"header",label:"Header",value:e.header,onChange:t})),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("label",null,"Options"),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"compact",label:"Compact",checked:e.compact,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"error",label:"Error",checked:e.error,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"floating",label:"Floating",checked:e.floating,onChange:t})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"info",label:"Info",checked:e.info,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"negative",label:"Negative",checked:e.negative,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"positive",label:"Positive",checked:e.positive,onChange:t})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"success",label:"Success",checked:e.success,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"warning",label:"Warning",checked:e.warning,onChange:t})))),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.TextArea,{name:"content",label:"Content",value:e.content,onChange:t}),u.default.createElement(d.Form.Dropdown,{name:"size",options:n,placeholder:"Default",label:"Size",value:e.size,onChange:t})))}}]),t}(v),C=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),e=this.props.data,n=[{text:"Default",value:""},{text:"Mini",value:"mini"},{text:"Tiny",value:"tiny"},{text:"Small",value:"small"},{text:"Medium",value:"medium"},{text:"Large",value:"large"},{text:"Huge",value:"huge"},{text:"Massive",value:"massive"}],a=[{text:"Default",value:""},{text:"Left",value:"left"},{text:"Right",value:"right"},{text:"Left corner",value:"left corner"},{text:"Right corner",value:"right corner"}];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:"Name",value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"label",label:"Label",value:e.label,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("label",null,"Type"),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Radio,{name:"type",label:"Text",value:"text",checked:void 0==e.type||"text"==e.type,onChange:t}),u.default.createElement(d.Form.Radio,{name:"type",label:"Number",value:"number",checked:"number"===e.type,onChange:t}),u.default.createElement(d.Form.Radio,{name:"type",label:"Date",value:"date",checked:"date"===e.type,onChange:t}),u.default.createElement(d.Form.Radio,{name:"type",label:"Password",value:"password",checked:"password"===e.type,onChange:t}))),u.default.createElement(d.Form.Dropdown,{name:"labelPosition",placeholder:"Default",options:a,label:"Label position",value:e.labelPosition,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("label",null,"Options"),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Checkbox,{name:"loading",label:"Loading",checked:e.loading,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"inverted",label:"Inverted",checked:e.inverted,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"error",label:"Error",checked:e.error,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Checkbox,{name:"disabled",label:"Disabled",checked:e.disabled,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"transparent",label:"Transparent",checked:e.transparent,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"fluid",label:"Fluid",checked:e.fluid,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Checkbox,{name:"readOnly",label:"Read only",checked:e.readOnly,onChange:t}))),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement(d.Form.Input,{name:"placeholder",label:"Placeholder",value:e.placeholder,onChange:t}),u.default.createElement(d.Form.Dropdown,{name:"size",options:n,placeholder:"Default",label:"Size",value:e.size,onChange:t}))))}},{key:"getEventsList",value:function(){return["onClick","onChange"]}}]),t}(v),w=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),e=this.props.data;return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:"Name",value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"label",label:"Label",value:e.label,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"rows",placeholder:"3",type:"number",label:"Rows",value:e.rows,onChange:t}),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement(d.Form.Input,{name:"placeholder",label:"Placeholder",value:e.placeholder,onChange:t}),u.default.createElement("label",null,"Options"),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Checkbox,{name:"autoHeight",label:"Auto height",checked:e.autoHeight,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"readOnly",label:"Read only",checked:e.readOnly,onChange:t})))))}},{key:"getEventsList",value:function(){return["onClick","onChange"]}}]),t}(v),_=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),e=this.props.data;return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:"Name",value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"label",label:"Label",value:e.label,onChange:t})),u.default.createElement(d.Form.Group,{widths:"2"},u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("label",null,"Options"),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"fitted",label:"Fitted",checked:e.fitted,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"indeterminate",label:"Indeterminate",checked:e.indeterminate,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"readOnly",label:"ReadOnly",checked:e.readOnly,onChange:t})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"disabled",label:"Disabled",checked:e.disabled,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"slider",label:"Slider",checked:e.slider,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"toggle",label:"Toggle",checked:e.toggle,onChange:t})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"readOnly",label:"Read only",checked:e.readOnly,onChange:t})))))}},{key:"getEventsList",value:function(){return["onClick","onChange"]}}]),t}(v),O=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),e=this.props.data;return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:"Name",value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"label",label:"Label",value:e.label,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(f.default,{key:"data-elements",columns:["key","value","text"],label:"Data",name:"data-elements",value:e["data-elements"],onChange:t}),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement(d.Form.Input,{name:"placeholder",label:"Placeholder",value:e.placeholder,onChange:t}),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("label",null,"Options"),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"loading",label:"Loading",checked:e.loading,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"error",label:"Error",checked:e.error,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"disabled",label:"Disabled",checked:e.disabled,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"fluid",label:"Fluid",checked:e.fluid,onChange:t})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"multiple",label:"Multiple",checked:e.multiple,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"search",label:"Search",checked:e.search,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"selection",label:"Selection",checked:e.selection,onChange:t})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"readOnly",label:"Read only",checked:e.readOnly,onChange:t}))))))}},{key:"getEventsList",value:function(){return["onClick","onChange"]}}]),t}(v),F=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),e=this.props.data;return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:"Name",value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"label",label:"Label",value:e.label,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"dataModel",placeholder:"",label:"Data model",value:e.dataModel,onChange:t}),u.default.createElement(d.Form.Input,{name:"placeholder",label:"Placeholder",value:e.placeholder,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"columns",label:"Columns (Name ASC, Email)",value:e.columns,onChange:t}),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("label",null,"Options"),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"loading",label:"Loading",checked:e.loading,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"error",label:"Error",checked:e.error,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"disabled",label:"Disabled",checked:e.disabled,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"fluid",label:"Fluid",checked:e.fluid,onChange:t})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"multiple",label:"Multiple",checked:e.multiple,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"search",label:"Search",checked:e.search,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"selection",label:"Selection",checked:e.selection,onChange:t})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"readOnly",label:"Read only",checked:e.readOnly,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"clearable",label:"Clearable",checked:e.clearable,onChange:t})))))}},{key:"getEventsList",value:function(){return["onClick","onChange"]}}]),t}(v),x=t.RadioGroupEditControl=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),e=this.props.data;return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:"Name",value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"label",label:"Label",value:e.label,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(f.default,{key:"data-elements",columns:["key","value","text"],label:"Data",name:"data-elements",value:e["data-elements"],onChange:t}),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("label",null,"Group direct"),u.default.createElement(d.Form.Radio,{name:"direction",label:"Gorizontal",value:"g",checked:void 0===e.direction||"g"===e.direction,onChange:t}),u.default.createElement(d.Form.Radio,{name:"direction",label:"Vertical",value:"v",checked:"v"===e.direction,onChange:t}),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"readOnly",label:"Read only",checked:e.readOnly,onChange:t})))))}},{key:"getEventsList",value:function(){return["onClick","onChange"]}}]),t}(v),j=t.FormEditControl=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),e=this.props.data,n=[{text:"Default",value:""},{text:"Mini",value:"mini"},{text:"Tiny",value:"tiny"},{text:"Small",value:"small"},{text:"Medium",value:"medium"},{text:"Large",value:"large"},{text:"Huge",value:"huge"}];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:"Name",value:e.key,onChange:t}),u.default.createElement(d.Form.Dropdown,{name:"size",options:n,placeholder:"Default",label:"Size",value:e.size,onChange:t})),u.default.createElement(d.Form.Group,{widths:"2"},u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("label",null,"Options"),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"loading",label:"Loading",checked:e.loading,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"error",label:"Error",checked:e.error,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"inverted",label:"Inverted",checked:e.inverted,onChange:t})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"reply",label:"Reply",checked:e.reply,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"success",label:"Success",checked:e.success,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"warning",label:"Warning",checked:e.warning,onChange:t})))))}},{key:"getEventsList",value:function(){return["onSubmit"]}}]),t}(v),D=t.FormGroupEditControl=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),e=this.props.data;return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:"Name",value:e.key,onChange:t}),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("label",null,"Widths"),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Radio,{name:"widths",label:"Default",checked:void 0===e.widths,onChange:t}),u.default.createElement(d.Form.Radio,{name:"widths",label:"Equal",value:"equal",checked:"equal"===e.widths,onChange:t}),u.default.createElement(d.Form.Radio,{name:"widths",label:"Custom (1 - 16)",value:"custom",checked:"custom"===e.widths,onChange:t})),u.default.createElement(d.Form.Input,{name:"widthsCustom",disabled:"custom"!==e.widths,placeholder:"2",value:e.widthsCustom,onChange:t}))),u.default.createElement(d.Form.Group,{widths:"2"},u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("label",null,"Type"),u.default.createElement(d.Form.Group,{inline:!0},u.default.createElement(d.Form.Radio,{name:"orientation",label:"Columns",value:"inline",checked:void 0===e.orientation||"inline"===e.orientation,onChange:t}),u.default.createElement(d.Form.Radio,{name:"orientation",label:"Rows",value:"grouped",checked:"grouped"===e.orientation,onChange:t})))))}}]),t}(v),S=t.ContainerEditControl=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),e=this.props.data,n=[{text:"None",value:""},{text:"Left",value:"left"},{text:"Right",value:"right"}];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:"Name",value:e.key,onChange:t}),u.default.createElement(d.Form.Dropdown,{name:"style-float",options:n,placeholder:"None",label:"Float",value:e["style-float"],onChange:t})))}}]),t}(v),I=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),e=this.props.data;return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement("div",{is:!0,class:"field"},u.default.createElement(d.Form.Input,{name:"key",label:"Name",value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"src",label:"Src",value:e.src,onChange:t}),u.default.createElement(d.Form.Input,{name:"href",label:"Href",value:e.href,onChange:t})),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("label",null,"Options"),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"avatar",label:"Avatar",checked:e.avatar,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"bordered",label:"Bordered",checked:e.bordered,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"centered",label:"Centered",checked:e.centered,onChange:t})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"disabled",label:"Disabled",checked:e.disabled,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"inline",label:"Inline",checked:e.inline,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"spaced",label:"Spaced",checked:e.spaced,onChange:t}))),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("label",null,"Floated"),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Radio,{name:"floated",label:"Left",value:"left",checked:"left"===e.floated||""===e.floated,onChange:t}),u.default.createElement(d.Form.Radio,{name:"floated",label:"Right",value:"right",checked:"right"===e.floated,onChange:t})),u.default.createElement("label",null,"VerticalAlign"),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Radio,{name:"verticalAlign",label:"Top",value:"top",checked:"top"===e.verticalAlign,onChange:t}),u.default.createElement(d.Form.Radio,{name:"verticalAlign",label:"Middle",value:"middle",checked:"middle"===e.verticalAlign,onChange:t}),u.default.createElement(d.Form.Radio,{name:"verticalAlign",label:"Bottom",value:"bottom",checked:"bottom"===e.verticalAlign,onChange:t}))))),u.default.createElement(d.Form.Group,{widths:"equal"}))}}]),t}(v),N=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),e=this.props.data,n=[{text:"Default",value:""},{text:"Mini",value:"mini"},{text:"Tiny",value:"tiny"},{text:"Small",value:"small"},{text:"Medium",value:"medium"},{text:"Large",value:"large"},{text:"Huge",value:"huge"}];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:"Name",value:e.key,onChange:t}),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("label",null,"Options"),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"floated",label:"Floated",checked:e.floated,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"horizontal",label:"Horizontal",checked:e.horizontal,onChange:t})))),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(f.default,{key:"data-elements",columns:["label","value"],label:"Data",name:"data-elements",value:e["data-elements"],onChange:t}),u.default.createElement(d.Form.Dropdown,{name:"size",options:n,placeholder:"Default",label:"Size",value:e.size,onChange:t})))}}]),t}(v),P=t.GridEditControl=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),e=this.props.data,n=[{value:"",text:"None"},{value:"server",text:"Server"}],a=[{value:"",text:"Default"},{value:"modal",text:"Modal"}],r=["key","name",{key:"type",name:"Type",dataList:["","number","checkbox"]},{key:"width",name:"Width",control:"number"},{key:"resizable",name:"Resizable",control:"checkbox"}];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:"Name",value:e.key,onChange:t}),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("label",null,"Options"),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"multiselect",label:"Multiselect",checked:e.multiselect,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"filterRow",label:"Filter row",checked:e.filterRow,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"disableSort",label:"Disable sorting",checked:e.disableSort,onChange:t})))),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"editForm",label:"Edit form",disabled:1==e.inline,value:e.editForm,onChange:t}),u.default.createElement(d.Form.Dropdown,{name:"editFormShowType",label:"Edit form show type",placeholder:"Default",options:a,value:e.editFormShowType,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement("div",{is:!0,class:"field"},u.default.createElement(f.default,{key:"columns",columns:r,label:"Columns",name:"columns",value:e.columns,onChange:t})),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement(d.Form.Input,{name:"rowKey",label:"Row key",value:e.rowKey,onChange:t}),u.default.createElement(d.Form.Dropdown,{name:"pagerType",label:"Pager type",placeholder:"None",options:n,value:e.pagerType,onChange:t}),u.default.createElement(d.Form.Input,{name:"pageSize",label:"Page size",value:e.pageSize,onChange:t}),u.default.createElement(d.Form.Input,{name:"defaultSort",label:"Default sort",placeholder:"Name ASC",value:e.defaultSort,onChange:t}),u.default.createElement(d.Form.Input,{name:"rowHeight",label:"Row height",value:e.rowHeight,onChange:t}),u.default.createElement(d.Form.Input,{name:"minHeight",label:"Min height",value:e.minHeight,onChange:t}),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Checkbox,{name:"autoHeight",label:"Auto Height",checked:Boolean(e.autoHeight),onChange:t}),u.default.createElement(d.Form.Input,{name:"offSet",label:"OffSet",disabled:!Boolean(e.autoHeight),value:e.offSet,onChange:t})))))}},{key:"getEventsList",value:function(){return["onRowClick","onRowDblClick","onSelectionChanged"]}}]),t}(v),A=t.CollectionEditorEditControl=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),e=this.props.data,n=["key","name",{key:"control",name:"Control",dataList:["input","checkbox","span","number"]},"width"];return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:"Name",value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"idField",label:"Id field",disabled:1!=e.hierarchical,value:e.idField,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("label",null,"Options"),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"readOnly",label:"ReadOnly",checked:e.readOnly,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"draggable",label:"Draggable",disabled:!0,checked:e.draggable,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"hierarchical",label:"Hierarchical",checked:e.hierarchical,onChange:t})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"collapseAll",label:"Collapse all",disabled:1!=e.hierarchical,checked:e.collapseAll,onChange:t}))),u.default.createElement(d.Form.Input,{name:"parentIdField",label:"ParentId field",disabled:1!=e.hierarchical,value:e.parentIdField,onChange:t})),u.default.createElement(f.default,{key:"columns",columns:n,label:"Columns",name:"columns",value:e.columns,height:"200px",onChange:t}))}},{key:"getEventsList",value:function(){return["onChange","onAdd","onDelete"]}}]),t}(v),M=t.CustomEditControl=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),e=this.props.data;return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:"Name",value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"type",label:"Type control",value:e.type,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.TextArea,{key:"props",label:"Props",name:"props",value:e.props,onChange:t,rows:5}),u.default.createElement(d.Form.TextArea,{key:"children",label:"Children",name:"children",value:e.children,onChange:t,rows:5})))}}]),t}(v),T=t.CustomBlockEditControl=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),e=this.props.data;return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:"Name",value:e.key,onChange:t}),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("label",null,"Source type"),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Radio,{name:"sourceType",label:"Form name",value:"form",checked:void 0===e.sourceType||"form"==e.sourceType,onChange:t}),u.default.createElement(d.Form.Radio,{name:"sourceType",label:"JSON source",value:"source",checked:"source"===e.sourceType,onChange:t})))),u.default.createElement(d.Form.Input,{name:"formname",label:"Form name",value:e.formname,onChange:t,disabled:void 0!=e.sourceType&&"form"!=e.sourceType}),u.default.createElement(d.Form.TextArea,{key:"source",label:"JSON source",name:"source",value:e.source,onChange:t,rows:10,disabled:"source"!=e.sourceType}))}}]),t}(v),R=t.MenuEditControl=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),e=this.props.data;return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:"Name",value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"activeItem",label:"Active Item",value:e.activeItem,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(f.default,{key:"items",columns:["target","title"],label:"Items",name:"items",value:e.items,onChange:t}),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement("label",null,"Options"),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"pointing",label:"Pointing",checked:e.pointing,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"secondary",label:"Secondary",checked:e.secondary,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"tabular",label:"Tabular",checked:e.tabular,onChange:t})),u.default.createElement(d.Form.Group,null,u.default.createElement(d.Form.Checkbox,{name:"fluid",label:"Fluid",checked:e.fluid,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"vertical",label:"Vertical",checked:e.vertical,onChange:t})))))}},{key:"getEventsList",value:function(){return["onItemClick"]}}]),t}(v),B=t.DropdownTriggerEditControl=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),e=this.props.data;return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(d.Form.Input,{name:"key",label:"Name",value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"defaultValue",label:"Default Value",value:e.defaultValue,onChange:t})),u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement(f.default,{key:"items",columns:["target","title"],label:"Items",name:"items",value:e.items,onChange:t}),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement(d.Form.Input,{name:"imageUrl",label:"ImageUrl",value:e.imageUrl,onChange:t}))))}},{key:"getEventsList",value:function(){return["onItemClick"]}}]),t}(v),G=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent),n=[{value:"",text:"Default"},{value:"top",text:"Top"},{value:"left",text:"Left"},{value:"bottom",text:"Bottom"},{value:"right",text:"Right"}],a=""==e.datasetCustom||void 0==e.datasetCustom;return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"field"},u.default.createElement(d.Form.Input,{name:"key",label:"Name",value:e.key,onChange:t}),u.default.createElement(d.Form.Input,{name:"title",label:"Title",value:e.title,onChange:t}),u.default.createElement(d.Form.Input,{name:"titleSize",label:"Title size",value:e.titleSize,onChange:t}),u.default.createElement(d.Form.Dropdown,{name:"legendPosition",label:"Legend position",placeholder:"Default",options:n,value:e.legendPosition,onChange:t})),u.default.createElement("div",{className:"field"},u.default.createElement(d.Form.Checkbox,{name:"responsive",label:"Responsive",checked:e.responsive,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"datasetCustom",label:"Dataset custom",checked:e.datasetCustom,onChange:t}),u.default.createElement(d.Form.Input,{name:"dataLabels",style:{paddingTop:"5px"},disabled:a,placeholder:"Q1, Q2, Q3, Q4",label:"Data labels",value:e.dataLabels,onChange:t}),u.default.createElement(d.Form.Input,{name:"datasetLabel",disabled:a,label:"Dataset Label",value:e.datasetLabel,onChange:t}),u.default.createElement(d.Form.Input,{name:"datasetBackgroundColor",disabled:a,label:"Dataset BackgroundColor",value:e.datasetBackgroundColor,onChange:t}))))}}]),t}(v),z=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getGeneralDescription",value:function(){var e=this.props.data,t=this.props.parent.handleChange.bind(this.props.parent);return u.default.createElement(d.Form,null,u.default.createElement(d.Form.Input,{name:"key",label:"Name",value:e.key,onChange:t}),u.default.createElement(d.Form.Checkbox,{name:"blockSetState",label:"Block SetState",checked:Boolean(e.blockSetState),onChange:t}))}},{key:"getEventsList",value:function(){return["onCommandClick","onSetStateClick"]}}]),t}(v);e.exports={BaseEditControl:v,HeaderEditControl:y,ButtonEditControl:b,LabelEditControl:g,MessageEditControl:k,InputEditControl:C,TextAreaEditControl:w,DropdownEditControl:O,DictionaryEditControl:F,RadioGroupEditControl:x,CheckboxEditControl:_,FormEditControl:j,FormGroupEditControl:D,ImageEditControl:I,StatisticEditControl:N,GridEditControl:P,CustomEditControl:M,MenuEditControl:R,ChartEditControl:G,WorkflowBarEditControl:z,ContainerEditControl:S,StaticContentEditControl:E,CollectionEditorEditControl:A,CustomBlockEditControl:T,DropdownTriggerEditControl:B}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(1),c=n(11),f=a(c),p=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props.data,n=this.props.events,a=[];Array.isArray(this.props.actions)&&this.props.actions.forEach(function(e){a.push({text:e,value:e})});var r=this.props.targets,o=[];return n.forEach(function(n){var i=n+"_events",l=void 0!=t?t[n]:void 0;void 0==l&&(l={}),void 0==l.actions&&(l.actions=[]),void 0==l.targets&&(l.targets=[]),void 0==l.parameters&&(l.parameters=[]),Array.isArray(l.actions)&&l.actions.forEach(function(e){for(var t=!1,n=0;n<a.length;n++)if(e==a[n]){t=!0;break}t||a.push({text:e,value:e})}),o.push(u.default.createElement(d.Form.Group,{key:i,inline:!0},u.default.createElement(d.Form.Checkbox,{width:3,key:"active",label:n,name:"active",checked:l.active,onChange:e.handleChange.bind(e,n)}),u.default.createElement(d.Form.Dropdown,{key:"actions",label:"Actions",multiple:!0,search:!0,selection:!0,allowAdditions:!0,name:"actions",options:a,value:l.actions,onAddItem:e.actionsOnAddItem.bind(e),onChange:e.handleChange.bind(e,n)}),u.default.createElement(f.default,{key:"parameters",columns:["name","value"],label:"Parameters",name:"parameters",value:l.parameters,onChange:e.handleChange.bind(e,n)}),u.default.createElement(d.Form.Dropdown,{key:"targets",label:"Targets",multiple:!0,search:!0,selection:!0,name:"targets",options:r,value:l.targets,onChange:e.handleChange.bind(e,n)})))}),u.default.createElement("div",null,o)}},{key:"handleChange",value:function(e,t,n){var a=n.name,r=n.value,o=n.checked,i=this.props.data[e];void 0==i&&(i={},this.props.data[e]=i),void 0==r&&void 0!=o?i[a]=o:(i[a]=r,void 0!=r&&""!=r&&(i.active=!0)),void 0!=this.props.onChange&&this.props.onChange(t,{name:this.props.name,value:this.props.data})}},{key:"actionsOnAddItem",value:function(e,t){var n=t.value;void 0!=this.props.onAdditionActions&&this.props.onAdditionActions(e,{value:n})}}]),t}(u.default.Component);t.default=p},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=n(1),d=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return o(t,e),i(t,[{key:"onChange",value:function(e,t){var n=(t.name,t.value);void 0!=this.props.onChange?this.props.onChange(e,{name:this.props.name,value:n}):console.error("Set onChange property for RadioGroup!")}},{key:"render",value:function(){var e=this,t=this.props.items.map(function(t){return s.default.createElement(u.Form.Field,{key:t.key+"_formfield"},s.default.createElement(u.Form.Radio,{key:t.key,label:t.text,name:"radioGroup",value:t.value,readOnly:this.props.readOnly,checked:e.props.value===t.value,onChange:e.onChange.bind(this)}))},this);return"v"==this.props.direction?s.default.createElement("div",{className:"ui form"},s.default.createElement("label",null,this.props.label),s.default.createElement(u.Form,{className:this.props.className,style:this.props.style},t)):s.default.createElement("div",{className:"ui form"},s.default.createElement("div",{className:"field"},s.default.createElement("label",null,this.props.label),s.default.createElement(u.Form,{className:this.props.className,style:this.props.style},s.default.createElement(u.Form.Group,{key:"group"},t))))}}]),t}(s.default.Component);t.default=d},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(6),c=a(d),f=n(1),p=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},void 0!=e.value?n.state.activeitem=e.value:null!=e.activeitem&&(n.state.activeitem=e.activeitem),n}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){this.props.value!=e.value&&this.setState({activeitem:e.value})}},{key:"handleItemClick",value:function(e,t){var n=t.name;if(void 0!=this.props.handleEvent){0!=this.props.handleEvent({e:e,key:this.props.name,eventName:"onItemClick",parameters:{target:n}})&&this.setState({activeitem:n})}}},{key:"render",value:function(){var e=this.props["data-items"];void 0==e||""==e?e=[]:Array.isArray(e)||(e=c.default.parse(e));var t=e.map(function(e){return u.default.createElement(f.Menu.Item,{key:e.target,name:e.target,active:this.state.activeitem===e.target,onClick:this.handleItemClick.bind(this)},e.title)},this),n={};for(var a in this.props)"data-items"!=a&&"activeitem"!=a&&"handleEvent"!=a&&(n[a]=this.props[a]);return u.default.createElement(f.Menu,n,t)}}]),t}(u.default.Component);t.default=p},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(6),c=(a(d),function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.redrawChart()}},{key:"componentDidUpdate",value:function(){this.redrawChart()}},{key:"componentWillUnmount",value:function(){void 0!=this.chart&&this.chart.destroy()}},{key:"redrawChart",value:function(){if(void 0!=this.state.chart&&(this.state.chart.destroy(),this.state.chart=void 0),void 0==this.state.chart){var e=document.getElementById(this.getDivId()).getContext("2d");this.state.chart=new Chart(e,{type:this.props.chartType,data:this.getChartData(),options:{responsive:Boolean(this.props.responsive),legend:{position:this.props.legendPosition},title:{fontSize:void 0==this.props.titleSize?14:this.props.titleSize,display:void 0!=this.props.title&&""!=this.props.title,text:this.props.title}}})}else this.state.chart.update()}},{key:"render",value:function(){var e=void 0!=this.props.width?this.props.width:400,t=void 0!=this.props.height?this.props.height:300,n=this.props.className+" field",a=this.props.style;return u.default.createElement("div",{className:n,style:a},u.default.createElement("canvas",{id:this.getDivId(),width:e,height:t}))}},{key:"getDivId",value:function(){return"dwkit-chart-"+this.props.name}},{key:"getChartData",value:function(){if(this.props.datasetCustom){var e=this,t=[];void 0!=e.props.dataLabels&&(t=e.props.dataLabels.split(","));return{labels:t,datasets:[{label:e.props.datasetLabel,steppedLine:e.props.datasetSteppedLine,borderColor:e.props.datasetBorderColor,backgroundColor:e.props.datasetBackgroundColor,fill:e.props.datasetFill,borderWidth:e.props.datasetBorderWidth,data:e.props.value}]}}return this.props.value}}]),t}(u.default.Component));t.default=c},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=n(1),d=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={commands:e.commands,states:e.states},n.checkGetAdditionalDataForControl(),n}return o(t,e),i(t,[{key:"componentDidMount",value:function(){this.isMount=!0}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"checkGetAdditionalDataForControl",value:function(){if(void 0==this.props.getAdditionalDataForControl&&void 0==this.props.commands&&void 0==this.props.states)void 0!=console&&console.log("WorkflowBar: This control requres getAdditionalDataForControl or commands and states not undefined parameters!");else{var e=this;this.props.getAdditionalDataForControl(this,{},function(t){var n=t.commands,a=t.states;e.state.commands=n,e.state.states=a,e.isMount&&e.forceUpdate()})}}},{key:"render",value:function(){var e=this.props.className+" dwkit-workflowbar",t=this.props.style,n=void 0!=this.state.commands?this.state.commands:this.props.commands,a=void 0!=this.state.states?this.state.states:this.props.states;return s.default.createElement("div",{className:e,style:t},s.default.createElement(u.Form.Group,null,this.renderCommands(n),this.renderSetState(a)))}},{key:"renderCommands",value:function(e){if(Array.isArray(e)&&e.length>0){var t=this,n=[];return e.forEach(function(e){n.push(s.default.createElement(u.Button,{key:e.value,className:"buttontype"+e.type,onClick:t.onCommand.bind(t,e)},e.text))}),n}}},{key:"renderSetState",value:function(e){if(!Boolean(this.props.blockSetState)&&Array.isArray(e)&&e.length>0){var t=void 0==this.state.setstate||""==this.state.setstate;return[s.default.createElement(u.Form.Dropdown,{key:"setstate",name:"setstate",className:"setstate",placeholder:"States",options:e,onChange:this.handleChanged.bind(this)}),s.default.createElement(u.Button,{key:"btnsetstate",disabled:t,className:"buttontype2",onClick:this.onSetState.bind(this)},"Set state")]}}},{key:"onCommand",value:function(e){void 0!=this.props.handleEvent&&this.props.handleEvent({key:this.props.name,eventName:"onCommandClick",parameters:{command:e}})}},{key:"onSetState",value:function(){if(void 0!=this.props.handleEvent){for(var e=void 0!=this.state.states?this.state.states:this.props.states,t=void 0,n=0;n<e.length;n++)if(e[n].value==this.state.setstate){t=e[n];break}this.props.handleEvent({key:this.props.name,eventName:"onSetStateClick",parameters:{state:t}})}}},{key:"handleChanged",value:function(e,t){var n=t.name,a=t.value;this.state[n]=a,this.forceUpdate()}}]),t}(s.default.Component);t.default=d},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=n(1),d=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={options:[]},n.checkGetAdditionalDataForControl(e.dataModel),n}return o(t,e),i(t,[{key:"componentWillReceiveProps",value:function(e){this.props.getAdditionalDataForControl==e.getAdditionalDataForControl&&this.props.dataModel==e.dataModel||this.checkGetAdditionalDataForControl(e.dataModel)}},{key:"checkGetAdditionalDataForControl",value:function(e){if(void 0==this.props.getAdditionalDataForControl)void 0!=console&&console.log("Dictionary: For paging on server need to set getAdditionalDataForControl func!");else{var t=this;this.props.getAdditionalDataForControl(this,{model:e},function(e){var n=e.items;t.state.options=n,t.isMount&&t.forceUpdate()})}}},{key:"componentDidMount",value:function(){this.isMount=!0}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"render",value:function(){var e={};for(var t in this.props)"parentIsForm"!=t&&"getAdditionalDataForControl"!=t&&"dataModel"!=t&&"clearable"!=t&&(e[t]=this.props[t]);return e.options=this.state.options,Boolean(this.props.clearable)&&e.options.unshift({key:"",value:"",text:"..."}),e.onChange=this.onChange.bind(this),this.props.parentIsForm?s.default.createElement(u.Form.Dropdown,e):s.default.createElement(u.Dropdown,e)}},{key:"onChange",value:function(e,t){var n=(t.name,t.value);void 0!=this.props.onChange&&this.props.onChange(e,{name:this.props.name,value:n})}}]),t}(s.default.Component);t.default=d},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=(n(1),function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return o(t,e),i(t,[{key:"render",value:function(){return s.default.createElement("div",this.props)}}]),t}(s.default.Component));t.default=u},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),d=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return o(t,e),l(t,[{key:"render",value:function(){var e={name:this.props.name,className:this.props["style-customcss"],style:this.props.style,"data-buildertype":this.props["data-buildertype"]};if(this.props.isHtml)return u.default.createElement("span",i({},e,{dangerouslySetInnerHTML:{__html:this.props.content}}));var t=void 0!=this.props.content?this.props.content.replace("\n","<br/>"):void 0;return u.default.createElement("span",e,t)}}]),t}(u.default.Component);t.default=d},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(7),c=a(d),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"onDragStart",value:function(e){var t=".dwkit-formbuilder-zone";if(void 0!=e.forContainerType){var n=e.forContainerType.split(","),a="";n.forEach(function(e){a.length>0&&(a+=","),a+="[data-buildertype='"+e+"'] > "+t}),t=a}$(t).addClass("dwkit-formbuilder-zone-active").on("dragenter",this.onTargetDragEnter.bind(this,e,"dwkit-formbuilder-zone-select")).on("dragleave",this.onTargetDragLeave.bind(this,e,"dwkit-formbuilder-zone-select")).on("dragover",function(e){e.preventDefault()}).on("drop",this.onDrop.bind(this,e))}},{key:"onTargetDragEnter",value:function(e,t){$(window.event.currentTarget).addClass(t)}},{key:"onTargetDragLeave",value:function(e,t){$(window.event.currentTarget).removeClass(t)}},{key:"onDragEnd",value:function(e){var t=$(".dwkit-formbuilder-zone");t.removeClass("dwkit-formbuilder-zone-active"),t.removeClass("dwkit-formbuilder-zone-select"),t.off()}},{key:"onDrop",value:function(e){var t=$(window.event.currentTarget);return t.length>0&&c.default.move(e.key,t[0]),this.onDragEnd(e),!0}},{key:"render",value:function(){return u.default.createElement("div",{className:"dwkit-formbuilder-item-toolbar-header"},u.default.createElement("div",{className:"dwkit-formbuilder-item-toolbar-header-buttons"},u.default.createElement("img",{src:"/images/dwkitbuilder-move.png",className:"move",height:"16px",draggable:!0,onDragStart:this.onDragStart.bind(this,this.props.model),onDragEnd:this.onDragEnd.bind(this,this.props.model)}),u.default.createElement("img",{src:"/images/dwkitbuilder-edit.png",height:"16px",onClick:this.props.onEdit.bind(this.props.parent,this.props.model)}),u.default.createElement("img",{src:"/images/dwkitbuilder-copy.png",height:"16px",onClick:this.props.onCopy.bind(this.props.parent,this.props.model)}),u.default.createElement("img",{src:"/images/dwkitbuilder-delete.png",height:"16px",onClick:this.props.onDelete.bind(this.props.parent,this.props.model)})))}}]),t}(u.default.Component);t.default=f},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),d=n(1),c=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return o(t,e),l(t,[{key:"render",value:function(){var e={};for(var t in this.props)"imageUrl"!=t&&"defaultValue"!=t&&"value"!=t&&"handleEvent"!=t&&"items"!=t&&(e[t]=this.props[t]);return e.options=[],this.props.items.forEach(function(t){e.options.push({value:t.target,text:t.title,target:t.target})}),e.onChange=this.onChange.bind(this),e.trigger=u.default.createElement("span",null,void 0!=this.props.imageUrl&&u.default.createElement(d.Image,{avatar:!0,src:this.props.imageUrl})," ",void 0!=this.props.value?this.props.value:this.props.defaultValue),u.default.createElement(d.Dropdown,i({},e,{onMouseDown:this.onMouseDown.bind(this)}))}},{key:"onChange",value:function(e,t){var n=(t.name,t.value);if(1==this.state.opendialog)return void(this.state.opendialog=!1);void 0!=this.props.handleEvent&&this.props.handleEvent({e:e,key:this.props.name,eventName:"onItemClick",parameters:{target:n}})}},{key:"onMouseDown",value:function(e){this.state.opendialog=!Boolean(this.state.opendialog)}}]),t}(u.default.Component);t.default=c},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(0),f=a(c),p=n(1),h=n(6),m=a(h),v=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return l(t,e),d(t,[{key:"render",value:function(){var e={};for(var t in this.props)"additionalParams"!=t&&(e[t]=this.props[t]);var n,a=this.props.additionalParams.model,o=this.props.additionalParams.data,i=this.props.additionalParams.errors,l=this.props.additionalParams.children,d=this.props.additionalParams.parentItem,c=this.props.additionalParams.handleEvent,h=a["data-buildertype"];if("header"==h)n=f.default.createElement(p.Header,u({},e,{textAlign:a.textAlign,size:a.size,content:a.content,subheader:a.subheader}));else if("button"==h)e.floated=a.floated,e.size=a.size,e.content=a.content,e.type=a.buttonType,e.basic=a.basic,e.circular=a.circular,e.compact=a.compact,e.disabled=a.disabled,e.fluid=a.fluid,e.inverted=a.inverted,e.loading=a.loading,e.primary=a.primary,e.secondary=a.secondary,e.toggle=a.toggle,void 0!=c&&(e.onClick=function(t){return c({syntheticEvent:t,key:e.name,eventName:"onClick"})}),n=this.isForm(d)?f.default.createElement(p.Form.Button,e):f.default.createElement(p.Button,e);else if("button"==h)n=f.default.createElement(p.Label,u({},e,{size:a.size,content:a.content,attached:a.attached,basic:a.basic,circular:a.circular,corner:a.corner,floating:a.floating,horizontal:a.horizontal,pointing:a.pointing}));else if("message"==h)n=f.default.createElement(p.Message,u({},e,r({floated:a.floated,size:a.size,content:a.content,compact:a.compact,error:a.error,floating:a.floating,info:a.info,negative:a.negative,positive:a.positive,success:a.success,warning:a.warning,header:a.header},"content",a.content)));else if("input"==h)e.defaultValue=a.defaultvalue,e.size=a.size,e.label=a.label,e.labelPosition=a.labelPosition,e.placeholder=a.placeholder,e.type=a.type,e.loading=a.loading,e.inverted=a.inverted,e.error=a.error,e.disabled=a.disabled,e.transparent=a.transparent,e.fluid=a.fluid,e.readOnly=a.readOnly||this.props.readOnly,null!=c&&(e.onChange=function(t,n){var a=n.name,r=n.value;c({syntheticEvent:t,key:e.name,eventName:"onChange",name:a,value:r})}),e.value=void 0!=o?o[e.name]:"","object"==(void 0===i?"undefined":s(i))&&void 0!=i[a.key]&&(e.error=Boolean(i[a.key])),n=this.isForm(d)?f.default.createElement(p.Form.Input,e):f.default.createElement(p.Input,e);else if("textarea"==h)e.placeholder=a.placeholder,e.rows=Number(a.rows),e.label=a.label,e.autoHeight=a.autoHeight,e.readOnly=a.readOnly||this.props.readOnly,null!=c&&(e.onChange=function(t,n){var a=n.name,r=n.value;c({syntheticEvent:t,key:e.name,eventName:"onChange",name:a,value:r})}),void 0!=o&&(e.value=o[e.name]),"object"==(void 0===i?"undefined":s(i))&&void 0!=i[a.key]&&(e.error=Boolean(i[a.key])),n=this.isForm(d)?f.default.createElement(p.Form.TextArea,e):f.default.createElement(p.TextArea,e);else if("checkbox"==h)e.label=a.label,e.placeholder=a.placeholder,e.type=a.type,e.disabled=a.disabled,e.fitted=a.fitted,e.indeterminate=a.indeterminate,e.readOnly=a.readOnly||this.props.readOnly,e.slider=a.slider,e.toggle=a.toggle,null!=c&&(e.onChange=function(t,n){var a=n.name,r=n.checked;c({syntheticEvent:t,key:e.name,eventName:"onChange",name:a,value:r})}),void 0!=o&&(e.checked=o[e.name]),"object"==(void 0===i?"undefined":s(i))&&void 0!=i[a.key]&&(e.error=Boolean(i[a.key])),n=this.isForm(d)?f.default.createElement(p.Form.Checkbox,e):f.default.createElement(p.Checkbox,e);else if("dropdown"==h){var v=[];void 0!=a["data-elements"]&&(v=Array.isArray(a["data-elements"])?a["data-elements"]:m.default.parse(a["data-elements"])),e.label=a.label,e.defaultValue=a.defaultvalue,e.placeholder=a.placeholder,e.options=v,e.loading=a.loading,e.error=a.error,e.disabled=a.disabled,e.fluid=a.fluid,e.selection=a.selection,e.multiple=a.multiple,e.search=a.search,e.readOnly=a.readOnly||this.props.readOnly,null!=c&&(e.onChange=function(t,n){var a=n.name,r=n.value;c({syntheticEvent:t,key:e.name,eventName:"onChange",name:a,value:r})}),void 0!=o&&(e.value=o[e.name]),"object"==(void 0===i?"undefined":s(i))&&void 0!=i[a.key]&&(e.error=Boolean(i[a.key])),n=this.isForm(d)?f.default.createElement(p.Form.Dropdown,e):f.default.createElement(p.Dropdown,e)}else if("statistic"==h){var y=[];void 0!=a["data-elements"]&&(y=Array.isArray(a["data-elements"])?a["data-elements"]:m.default.parse(a["data-elements"])),n=f.default.createElement(p.Statistic.Group,u({},e,{floated:a.floated,horizontal:a.horizontal,size:a.size,items:y}))}else if("image"==h)n=f.default.createElement(p.Image,u({},e,{avatar:a.avatar,bordered:a.bordered,centered:a.centered,disabled:a.disabled,inline:a.inline,href:a.href,src:a.src,floated:a.floated,shape:a.shape,spaced:a.spaced,verticalAlign:a.verticalAlign,height:a.height,width:a.width}));else if("form"==h)n=f.default.createElement(p.Form,u({},e,{children:l,size:a.size,loading:a.loading,error:a.error,inverted:a.inverted,reply:a.reply,success:a.success,warning:a.warning}));else if("formgroup"==h){var b=a.widths;"custom"==b&&(b=a.widthsCustom),a.orientation&&(e[a.orientation]=!0),n=f.default.createElement(p.Form.Group,u({},e,{widths:b,children:l}))}else n=f.default.createElement("span",null,"Unknow type '",h,"' of '",this.props.name,"' element.");return n}},{key:"isForm",value:function(e){return null!=e&&("form"==e["data-buildertype"]||"formgroup"==e["data-buildertype"])}}]),t}(f.default.Component);t.default=v},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(12),c=a(d),f=n(7),p=a(f),h=n(9),m=a(h),v=(n(1),function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={data:[],editElement:null},c.default.listen(n.dataChanged.bind(n)),n}return i(t,e),l(t,[{key:"dataChanged",value:function(e){this.setState({data:e,editElement:null})}},{key:"_onEdit",value:function(e){p.default.showEditForm(e.key)}},{key:"_onCopy",value:function(e){c.default.copy(e)}},{key:"_onDestroy",value:function(e){c.default.remove(e)}},{key:"_handleEvent",value:function(e){}},{key:"render",value:function(){var e=m.default.createControls(this,{model:this.state.data,data:void 0,buildermode:!0,eventOnEdit:this._onEdit,eventOnDelete:this._onDestroy,eventOnCopy:this._onCopy,parentItem:void 0,handleEvent:this._handleEvent,getFormFunc:this.props.getFormFunc,getFormFist:this.props.getFormFist,getAdditionalDataForControl:this.props.getAdditionalDataForControl,disableRefs:!0}),t=m.default.createBuilderDropzone("dropzone_header"),n=e.length>0?m.default.createBuilderDropzone("dropzone_footer"):"";return u.default.createElement("div",{className:"dwkit-formbuilder-preview"},t,e,n)}}]),t}(u.default.Component));t.default=v},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(12)),f=a(c),p=n(7),h=a(p),m=n(9),v=a(m),y=n(1),b=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={key:void 0,item:void 0,open:!1},f.default.listenTo(h.default.showEditForm,n.onShow.bind(n)),n}return i(t,e),l(t,[{key:"handleChange",value:function(e,t){var n=t.name,a=t.value,r=t.checked,o=this.state.item;o[n]=void 0==a?r:a,this.setState({item:o})}},{key:"onShow",value:function(e){var t=f.default.getByKey(e),n={};for(var a in t)n[a]=t[a];this.setState({key:e,item:n,open:!0})}},{key:"IsChangedItem",value:function(){var e=f.default.getByKey(this.state.key),t=this.state.item;for(var n in t)if(t[n]!=e[n])return!0;return!1}},{key:"getControlsList",value:function(){return f.default.getAllKeys(f.default.getData())}},{key:"showConfirm",value:function(e,t){this.setState({confirm:!0,confirmtext:e,confirmHandle:t})}},{key:"onClose",value:function(){this.IsChangedItem()?this.showConfirm("Close without saving?",this.onCloseConfirmed.bind(this)):this.onCloseConfirmed()}},{key:"onSave",value:function(){f.default.updateItemByKey(this.state.key,this.state.item),this.onCloseConfirmed()}},{key:"onCloseConfirmed",value:function(){this.setState({open:!1,confirm:!1})}},{key:"createError",value:function(e){return u.default.createElement(y.Modal,{open:this.state.open,onClose:this.onClose.bind(this)},u.default.createElement(y.Modal.Header,null,"Error"),u.default.createElement(y.Modal.Content,null,u.default.createElement("p",null,e)),u.default.createElement(y.Modal.Actions,null,u.default.createElement(y.Button,{onClick:this.onClose.bind(this)},"Close")))}},{key:"render",value:function(){var e=this;if(void 0==this.state.item)return u.default.createElement("div",null);var t=v.default.getEditControlByType(this.state.item["data-buildertype"]);if(void 0==t)return this.createError("EditForm is not found for this control!");var n=function(){return e.setState({confirm:!1})};return u.default.createElement("div",null,u.default.createElement(t,{key:"editform",data:this.state.item,parent:this,open:this.state.open,onSave:this.onSave,onClose:this.onClose,actions:this.props.actions,className:"dwkit-formbuilder-editform"}),u.default.createElement(y.Modal,{size:"small",open:this.state.confirm,dimmer:"inverted",onClose:n},u.default.createElement(y.Modal.Header,null,"Question"),u.default.createElement(y.Modal.Content,null,u.default.createElement("p",null,this.state.confirmtext)),u.default.createElement(y.Modal.Actions,null,u.default.createElement(y.Button,{className:"buttontype1",onClick:this.state.confirmHandle},"OK"),u.default.createElement(y.Button,{className:"buttontype2",onClick:n},"Cancel"))))}}]),t}(u.default.Component);t.default=b},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),d=a(u),c=n(2),f=(a(c),n(4)),p=a(f),h=n(1),m=n(3),v=(a(m),n(64)),y=a(v),b=n(65),g=a(b),E=n(66),k=a(E),C=n(20),w=a(C),_=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.title="Mappging data model",n}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props.data.forms;if(void 0==t||0==t.length)return d.default.createElement("div",null,d.default.createElement("h1",null,this.title),d.default.createElement("div",{className:"dwkit-formadmin-info",key:"message"},"The instance has no any forms. ",d.default.createElement("a",{onClick:this.redirectToFormEdit.bind(this)},"Add a form"),"."));this.validate();for(var n=[],a=0;a<t.length;a++){var r=t[a];n.push({text:r.name,value:r.name})}for(var o=[{text:"...",value:""}],i=this.props.data.dataModel,a=0;a<i.length;a++){var l=i[a];o.push({text:l.name,value:l.id})}for(var s=this.props.data.codeActions,u=[{text:"...",value:""}],c=[],a=0;a<s.length;a++){var f=s[a];0==f.Type&&u.push({text:f.name,value:f.id}),c.push({text:f.name,value:f.id})}var p;void 0!=this.state.name?(void 0==this.state.form.triggers&&(this.state.form.triggers=[]),p=d.default.createElement("div",{className:"dwkitadmin-formmapping"},d.default.createElement("div",{className:"dwkit-admin-form-buttons"},d.default.createElement(h.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},"Save"),d.default.createElement(h.Button,{className:"buttontype1",onClick:this.onAutoMapping.bind(this)},"Auto mapping"),d.default.createElement(h.Button,{className:"buttontype2",onClick:this.onResetMapping.bind(this)},"Reset mapping")),d.default.createElement("div",{className:"dwkitadmin-formmapping-left"},d.default.createElement("div",{className:"dwkitadmin-formmapping-block"},d.default.createElement(g.default,{form:this.state.form,entities:o,parent:this})),d.default.createElement("div",{className:"dwkitadmin-formmapping-coll"},d.default.createElement(k.default,{form:this.state.form,entities:o,codeactions:u,parent:this,formsource:this.state.source}))),d.default.createElement("div",{className:"dwkitadmin-formmapping-right"},d.default.createElement("label",null,"Controls"),d.default.createElement(y.default,{formsource:this.state.source,form:this.state.form,parent:this})),d.default.createElement("div",{className:"dwkitadmin-formmapping-triggers"},d.default.createElement("h1",null,"Triggers"),d.default.createElement("div",{is:!0,class:"field",widths:"16"},d.default.createElement(h.Form,null,d.default.createElement(w.default,{data:this.state.form.triggers,types:["AfterSelect","Validate"],codeactions:c,onChange:this.updateStateAndForce.bind(this)})))))):p=d.default.createElement("div",null,d.default.createElement("br",null),d.default.createElement("br",null),d.default.createElement("div",{className:"dwkit-formadmin-info",key:"message2"},"For mapping a form with a data model, you need to choose a form. Following the instruction on ",d.default.createElement("a",{href:"https://dwkit.com"},"dwkit.com")," site."));var m=function(t,n){var a=n.value;e.setForm(a)};return d.default.createElement("div",null,d.default.createElement(h.Form.Dropdown,{key:"form",label:"Form",name:"form",search:!0,options:n,placeholder:"Select a form for mapping with a model",value:this.state.name,onChange:m.bind(this)}),p)}},{key:"onDragStart",value:function(e){$(".dwkit-formmapping-zone").addClass("dwkit-formmapping-zone-active").on("dragenter",this.onTargetDragEnter.bind(this,e,"dwkit-formmapping-zone-select")).on("dragleave",this.onTargetDragLeave.bind(this,e,"dwkit-formmapping-zone-select")).on("dragover",function(e){e.preventDefault()}).on("drop",this.onDrop.bind(this,e))}},{key:"onTargetDragEnter",value:function(e,t){$(window.event.currentTarget).addClass(t)}},{key:"onTargetDragLeave",value:function(e,t){$(window.event.currentTarget).removeClass(t)}},{key:"onDragEnd",value:function(e){var t=$(".dwkit-formmapping-zone");t.removeClass("dwkit-formmapping-zone-active"),t.removeClass("dwkit-formmapping-zone-select"),t.off()}},{key:"onDoubleClick",value:function(e){var t=!1;this.state.form.dataMap.forEach(function(n){if(n.control==e)return n.control=void 0,t=!0,!1}),this.state.form.dataColl.forEach(function(n){if(n.control==e)return n.control=void 0,t=!0,!1}),this.forceUpdate()}},{key:"onDrop",value:function(e){var t=$(window.event.currentTarget);if(t.length>0){if(void 0==t[0].attributes["data-id"])this.state.form.dataMap.forEach(function(t){if(t.control==e)return t.control=void 0,!1}),this.state.form.dataColl.forEach(function(t){if(t.control==e)return t.control=void 0,!1});else{var n=t[0].attributes["data-id"].value;this.state.form.dataMap.forEach(function(t){t.control==e&&(t.control=void 0),t.id==n&&(t.control=e,t.isLoadable=!0)}),this.state.form.dataColl.forEach(function(t){t.control==e&&(t.control=void 0),t.id==n&&(t.control=e)})}this.forceUpdate()}return this.onDragEnd(e),!0}},{key:"redirectToFormEdit",value:function(){this.props.parent.openpage("forms")}},{key:"validate",value:function(){var e=this,t=!0,n=this.state.form;if(void 0==n)return!1;return n.__error={},t&=void 0==n.__error.entityId,void 0!=n.dataColl&&n.dataColl.forEach(function(n){n.__error={entityId:void 0==n.entityId||""==n.entityId||n.entityId==e.GuidEmpty()?"This field is required":void 0},t&=void 0==n.__error.entityId}),void 0!=n.triggers&&n.triggers.forEach(function(e){e.__error={triggers:Array.isArray(e.triggers)&&e.triggers.length>0?void 0:"This field is required",codeActionId:void 0==e.codeActionId||""==e.codeActionId?"This field is required":void 0},t&=void 0==e.__error.triggers&&void 0==e.__error.codeActionId}),t}},{key:"getControlsByFormForDataMapping",value:function(e,t){if(void 0==e||e.constructor!=Array)return[];var n=this,a=[];return e.forEach(function(e){"button"!=e["data-buildertype"]&&"form"!=e["data-buildertype"]&&"formgroup"!=e["data-buildertype"]&&a.push({key:e.key,type:e["data-buildertype"],parent:t}),void 0!=e.children&&e.children.length>0&&(a=a.concat(n.getControlsByFormForDataMapping(e.children,e.key)))}),a}},{key:"onSave",value:function(){var e=this;if(!this.validate())return alertify.success("Please, check all errors"),void this.forceUpdate();this.state.form.__type="formmapping",this.state.form.__state="updated",this.ChangeData([this.state.form],function(t){e.ResetSystemProps(e.state.form),e.forceUpdate()})}},{key:"onAutoMapping",value:function(){this.onResetMapping(!0);var e=this.state.form,t=this.getControlsByFormForDataMapping(this.state.source);e.dataMap.forEach(function(e){for(var n=e.attributeName.toLowerCase(),a=0;a<t.length;a++)if(n==t[a].key.toLowerCase()){e.control=t[a].key,t.splice(a,1);break}}),alertify.success("Auto mapping has been success!"),this.forceUpdate()}},{key:"onResetMapping",value:function(e){var t=this,n=this.state.form;n.dataMap=t.createDataMap(n.entityId,void 0,"",[]),void 0==n.dataColl&&(n.dataColl=[]),n.dataColl.forEach(function(e){e.control=void 0,e.dataMap=t.createDataMap(e.entityId,void 0,"",[])}),1!=e&&this.forceUpdate()}},{key:"setForm",value:function(e){var t=this;this.loadform(e,function(e){e.dataMap=t.createDataMap(e.entityId,void 0,"",e.dataMap),void 0==e.dataColl&&(e.dataColl=[]),e.dataColl.forEach(function(e){e.dataMap=t.createDataMap(e.entityId,void 0,"",e.dataMap)}),t.setState({form:e,name:e.name,source:JSON.parse(e.source)})})}},{key:"loadform",value:function(e,t){var n=this,a=new Array;a.push({name:"operation",value:"loadform"}),a.push({name:"name",value:e}),$.ajax({url:n.props.apiUrl,data:a,async:!0,type:"post",success:function(e){e.success?t(e.item):alertify.error(e.message)}})}},{key:"setEntity",value:function(e){e!=this.state.form.entityId&&(this.state.form.entityId=e,this.state.form.dataMap=this.createDataMap(e,void 0,"",this.state.form.dataMap),this.forceUpdate())}},{key:"createDataMap",value:function(e,t,n,a,r){if(void 0==r&&(r=0),r>2)return[];var o=[];if(void 0==e)return o;var i=this.getEntityById(e);if(void 0==i)return o;for(var s=0;s<i.attributes.length;s++){for(var u=i.attributes[s],d=void 0,c=0;c<a.length;c++){var f=a[c];if(f.attributeId==u.id&&f.parentId==t){d=f;break}}if(void 0==d){var p={id:this.NewGUID(),parentId:t,isLoadable:void 0==t,isEditable:void 0==t,attributeId:u.id,attributeName:n+u.name,referenceEntityId:u.referenceEntityId};if(o.push(p),void 0!=u.referenceEntityId){var h=this.createDataMap(p.referenceEntityId,p.id,p.attributeName+"_",a,r+1);o=o.concat(h)}}else{var m=l({},d,{attributeName:n+u.name,referenceEntityId:u.referenceEntityId});if(o.push(m),void 0!=u.referenceEntityId){var h=this.createDataMap(m.referenceEntityId,m.id,m.attributeName+"_",a,r);o=o.concat(h)}}}return o}},{key:"getEntityById",value:function(e){for(var t=this.props.data.dataModel,n=0;n<t.length;n++){var a=t[n];if(a.id==e)return a}}},{key:"updateStateAndForce",value:function(){this.forceUpdate()}}]),t}(p.default);t.default=_},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(1)),f=n(3),p=(a(f),n(4)),h=a(p),m=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props.parent.getControlsByFormForDataMapping(this.props.formsource,void 0),n=[],a=e.props.parent;return t.forEach(function(t){if(!e.isAttached(t,e.props.form.dataMap)&&!e.isAttached(t,e.props.form.dataColl)){var r=t.key+" : "+t.type;void 0!=t.parent&&(r=t.parent+" -> "+r),n.push(u.default.createElement("div",{draggable:"true",className:"mapdatacontrol",key:t.key,onDragStart:a.onDragStart.bind(a,t.key),onDragEnd:a.onDragEnd.bind(a,t.key),onDoubleClick:a.onDoubleClick.bind(a,t.key)},u.default.createElement("span",{key:"el"},r)))}}),n.length>0?n.unshift(u.default.createElement(c.Message,{key:"MappingDataControlsMessage1"},"Move items to fields of data model.")):n.unshift(u.default.createElement(c.Message,{key:"MappingDataControlsMessage2"},u.default.createElement(c.Icon,{name:"info"}),"The form has not any unattached controls or use auto mapping.")),n.push(u.default.createElement("div",{key:"controlsdropzone",is:!0,class:"dwkit-formmapping-zone"},"Drop controls here...")),u.default.createElement("div",null,n)}},{key:"isAttached",value:function(e,t){for(var n=0;n<t.length;n++)if(e.key==t[n].control)return!0;return!1}}]),t}(h.default);t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(1)),f=n(3),p=(a(f),n(23)),h=a(p),m=n(4),v=a(m),y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isexpanded:!0},n}return i(t,e),l(t,[{key:"onExpand",value:function(e){this.setState({isexpanded:e})}},{key:"render",value:function(){var e,t=this,n=this.props.form.dataMap,a=function(e,n){var a=n.value;t.props.parent.setEntity(a)};e=this.state.isexpanded?u.default.createElement("img",{key:"btnexpand",onClick:this.onExpand.bind(this,!1),className:"dwkit-formadmin-imgbutton",src:"/images/collapse.svg"}):u.default.createElement("img",{key:"btnexpand",onClick:this.onExpand.bind(this,!0),className:"dwkit-formadmin-imgbutton",src:"/images/expand.svg"});var r=this.renderFields(n),o=[];return r.length>0&&(o.push(u.default.createElement("h3",{key:"titleAtt"},"Attributes")),o.push(r)),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement("div",{className:"dwkit-formadmin-imgbuttondiv"},e),u.default.createElement(c.Form.Dropdown,{label:"Main entity",name:"entityId",search:!0,options:this.props.entities,placeholder:"Select a data model",error:Boolean(this.props.form.__error.entityId),value:this.props.form.entityId,onChange:a.bind(this)})),this.state.isexpanded&&u.default.createElement("div",{is:!0,class:"field dwkit-formadmin-mapattributes"},o)))}},{key:"renderFields",value:function(e){var t=[],n=this;return e.forEach(function(a){var r=a.id;void 0==a.parentId&&t.push(u.default.createElement(h.default,{key:r,item:a,parent:n,dataMap:e}))}),t}}]),t}(v.default);t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(4)),f=a(c),p=n(1),h=n(3),m=(a(h),n(23)),v=a(m),y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={expanded:{}},n}return i(t,e),l(t,[{key:"onExpand",value:function(e,t){this.state.expanded[e]=t,this.forceUpdate()}},{key:"onCreate",value:function(){this.props.form.dataColl.push({id:this.NewGUID(),dataMap:[]}),this.props.parent.validate(),this.forceUpdate()}},{key:"onDelete",value:function(e){for(var t,n=this.props.form.dataColl,a=0;a<n.length;a++)if(n[a].id==e){t=a;break}void 0!=t&&(n.splice(t,1),this.props.parent.forceUpdate())}},{key:"render",value:function(){var e=this.props.form.dataColl;return u.default.createElement("div",{is:!0,class:"dwkit-formmapping-collection"},u.default.createElement("h2",null,"Collections"),u.default.createElement("div",{is:!0,class:"dwkit-formmapping-collection-toolbar"},u.default.createElement("a",{onClick:this.onCreate.bind(this)},"Create")),this.renderColl(e))}},{key:"handleChanged",value:function(e,t,n){var a=n.name,r=n.value,o=n.checked;e[a]="readOnly"==a?o:r,"entityId"==a&&(e.dataMap=this.props.parent.createDataMap(r,void 0,"",[])),this.props.parent.validate(),this.forceUpdate()}},{key:"renderColl",value:function(e){var t=[],n=this;return e.forEach(function(e){var a,r=e.id,o=n.state.expanded[r];a=o?u.default.createElement("img",{onClick:n.onExpand.bind(n,r,!1),className:"dwkit-formadmin-imgbutton",src:"/images/collapse.svg"}):u.default.createElement("img",{onClick:n.onExpand.bind(n,r,!0),className:"dwkit-formadmin-imgbutton",src:"/images/expand.svg"});var i;if(void 0==e.control)i=u.default.createElement("div",{key:"dz",is:!0,class:"dwkit-formmapping-zone","data-id":e.id},"Control...");else{var l=n.props.parent;i=u.default.createElement("div",{key:"control",className:"mapdatacontrol",draggable:"true",onDragStart:l.onDragStart.bind(l,e.control),onDragEnd:l.onDragEnd.bind(l,e.control),onDoubleClick:l.onDoubleClick.bind(l,e.control)},u.default.createElement("span",{key:"span"},e.control))}var s=u.default.createElement("div",{key:r+"_div",is:!0,class:"dwkit-formmapping-collection-row"},u.default.createElement(p.Form,null,u.default.createElement(p.Form.Group,null,u.default.createElement("div",{className:"dwkit-formadmin-imgbuttondiv2"},a),u.default.createElement(p.Form.Dropdown,{key:"entityId",label:"Collection entity",name:"entityId",search:!0,options:n.props.entities,value:e.entityId,onChange:n.handleChanged.bind(n,e),error:Boolean(e.__error.entityId)}),u.default.createElement(p.Form.Dropdown,{key:"codeactionId",label:"Collection filter",name:"codeActionId",search:!0,options:n.props.codeactions,value:e.codeActionId,onChange:n.handleChanged.bind(n,e),error:Boolean(e.__error.codeActionId)}),i,u.default.createElement(p.Form.Checkbox,{key:"readOnly",label:"ReadOnly",name:"readOnly",checked:e.readOnly,onChange:n.handleChanged.bind(n,e)}),u.default.createElement("div",{className:"dwkit-formadmin-imgbuttondiv2"},u.default.createElement("img",{className:"dwkit-formadmin-imgbutton",onClick:n.onDelete.bind(n,r),src:"/images/delete.svg"}))),o&&u.default.createElement("div",{key:r+"_att",is:!0,class:"field children"},u.default.createElement("label",{key:r+"_label"},"Attributes"),void 0!=e.entityId&&n.renderFields(e))));t.push(s)}),t}},{key:"renderFields",value:function(e){var t=[],n=this,a=void 0,r=void 0;if(void 0!=e.control&&void 0!=this.props.formsource){a=this.getOptionsByControl(e.control,this.props.formsource),r=e.id+"_datalist";var o=[];a.forEach(function(e){o.push(u.default.createElement("option",{key:e,value:e}))}),t.push(u.default.createElement("datalist",{key:r,id:r},o))}return e.dataMap.forEach(function(a){void 0==a.parentId&&t.push(u.default.createElement(v.default,{key:a.id,item:a,parent:n,dataMap:e.dataMap,hidedropzone:!0,datalist:r}))}),t}},{key:"getOptionsByControl",value:function(e,t){var n=this.findControl(e,t);if(void 0!=n){if(Array.isArray(n.columns)){var a=[];return n.columns.forEach(function(e){a.push(e.key)}),a}return[]}}},{key:"findControl",value:function(e,t){for(var n=0;n<t.length;n++){if(t[n].key==e)return t[n];if(Array.isArray(t[n].children)){var a=this.findControl(e,t[n].children);if(void 0!=a)return a}}}}]),t}(f.default);t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(1)),f=n(3),p=(a(f),n(4)),h=a(p),m=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.title="Mappging business logics",n}return i(t,e),l(t,[{key:"redrawEditor",value:function(){$("#dwkit-admin-formlogic-editcode").length>0&&(void 0==this.editor&&(this.editor=ace.edit("dwkit-admin-formlogic-editcode"),this.editor.getSession().setMode("ace/mode/javascript")),this.editor.setValue(this.state.form.code,-1))}},{key:"render",value:function(){var e=this,t=this.props.data.forms;if(void 0==t||0==t.length)return u.default.createElement("div",null,u.default.createElement("h1",null,this.title),u.default.createElement("div",{className:"dwkit-formadmin-info",key:"message"},"The instance has no any forms. ",u.default.createElement("a",{onClick:this.redirectToFormEdit.bind(this)},"Add a form"),"."));for(var n=[],a=0;a<t.length;a++){var r=t[a];n.push({text:r.name,value:r.name})}this.validate();var o=function(t,n){var a=n.value;e.setForm(a)};return u.default.createElement("div",null,u.default.createElement(c.Form.Dropdown,{label:"Form",name:"form",search:!0,options:n,placeholder:"Select a form for editing code",value:this.state.name,onChange:o.bind(this)}),void 0!=this.state.form&&u.default.createElement("div",{className:"dwkitadmin-toolbar",style:{marginTop:"5px"}},u.default.createElement(c.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},"Save"),u.default.createElement(c.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},"Cancel"),u.default.createElement(c.Button,{floated:"right",className:"buttontype2",onClick:this.onSetDefaultTemplate.bind(this)},"Set default template")),u.default.createElement("div",{id:"dwkit-admin-formlogic-editcode",style:{height:"725px"}}))}},{key:"setForm",value:function(e){var t=this;this.loadform(e,function(e){t.state.form=e,t.state.name=e.name,t.forceUpdate(),t.redrawEditor()})}},{key:"loadform",value:function(e,t){var n=this,a=new Array;a.push({name:"operation",value:"loadform"}),a.push({name:"name",value:e}),$.ajax({url:n.props.apiUrl,data:a,async:!0,type:"post",success:function(e){e.success?t(e.item):alertify.error(e.message)}})}},{key:"redirectToFormEdit",value:function(){this.props.parent.openpage("forms")}},{key:"onSave",value:function(){var e=ace.edit("dwkit-admin-formlogic-editcode");this.state.form.code=e.getValue();var t=this;if(!this.validate())return alertify.success("Please, check all errors"),void this.forceUpdate();this.state.form.__type="formcode",this.state.form.__state="updated",this.ChangeData([this.state.form],function(e){t.ResetSystemProps(t.state.form),t.forceUpdate()})}},{key:"onCancel",value:function(){this.props.onCancel.bind(this.props.parent)(),this.redrawEditor()}},{key:"validate",value:function(){var e=this.state.form;return void 0!=e&&(e.__error={},!0)}},{key:"onSetDefaultTemplate",value:function(){var e="{\n";e+="//  validate: function (args /*{data, originalData, state, component, formName, index, controlRef, eventArgs, isChild}*/){\n//    var errors = {};\n//    //TODO: Insert your code for validation this form\n//    if(data.name == undefined || data.name == ''){\n//      errors.name = 'This field is requered!';\n//    }\n//    if(errors.name){\n//      throw {\n//          level: 1,\n//          message: 'Check errors on the form!',\n//          formerrors: errors\n//      };\n//    }\n//    return {};\n//  }";var t=this.props.controlActions;void 0==t&&(t=[]);var n=this.getControlsActions(JSON.parse(this.state.form.source));if(void 0!=n)for(var a=0;a<n.length;a++){for(var r=!1,o=0;o<this.props.controlActions.length;o++)if(n[a]==this.props.controlActions[o]){r=!0;break}r||(e+=",\n\n",e+="  "+n[a]+": function (args){\n    //TODO: Insert your code\n  }")}e+="\n}",this.editor.setValue(e,-1)}},{key:"getControlsActions",value:function(e){if(void 0==e||e.constructor!=Array)return[];var t=this,n=[];return e.forEach(function(e){if(void 0!=e.events)for(var a in e.events){var r=e.events[a].actions;Array.isArray(r)&&r.forEach(function(e){for(var t=!1,a=0;a<n.length;a++)if(e===n[a]){t=!0;break}t||n.push(e)})}if(void 0!=e.children&&e.children.length>0){var r=t.getControlsActions(e.children);r.forEach(function(e){for(var t=!1,a=0;a<n.length;a++)if(e===n[a]){t=!0;break}t||n.push(e)})}}),n}}]),t}(h.default);t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(4)),f=a(c),h=(n(1),n(3)),m=(a(h),n(69)),v=(a(m),function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={locales:["RU","GE","IT"]},n.title="Localization",n}return i(t,e),l(t,[{key:"onSave",value:function(){alertify.success("Request has been sent to Server!")}},{key:"setObject",value:function(e,t){var n=t.value;if(n!=this.state.obj){var a,r=this,o=this.props.data.form;o.forEach(function(e){if(e.code==n)return a=e,!1});var i=[];if(void 0==a)i.push({Id:this.NewGUID(),controlkey:void 0,parent:void 0,param:"Title",originalValue:"DWKIT"}),i.push({Id:this.NewGUID(),controlkey:void 0,parent:void 0,param:"Description",originalValue:"A platform for building applications"});else{i=this.getItemsByFormForLocale(a.source,void 0);var l=this.props.data.form;i.forEach(function(e){for(var t,n=0;n<l.length;n++)if(l[n].controlkey==e.controlkey){t=l;break}if(void 0==t)e.Id=r.NewGUID();else for(p in t)void 0==e[p]&&(e[p]=t[p])})}this.setState({isformmode:void 0!=a,obj:n,items:i})}}},{key:"getItemsByFormForLocale",value:function(e,t){if(void 0==e||e.constructor!=Array)return[];var n=this,a=[];return e.forEach(function(e){void 0!=e.label&&a.push({controlkey:e.key,parent:t,param:"Label",originalValue:e.label}),void 0!=e.placeholder&&a.push({controlkey:e.key,parent:t,param:"Placeholder",originalValue:e.placeholder}),void 0!=e.data&&a.push({controlkey:e.key,parent:t,param:"Data",originalValue:e.data}),void 0!=e.content&&a.push({controlkey:e.key,parent:t,param:"Content",originalValue:e.content}),void 0!=e.subheader&&a.push({controlkey:e.key,parent:t,param:"Subheader",originalValue:e.subheader}),void 0!=e.children&&e.children.length>0&&(a=a.concat(n.getItemsByFormForLocale(e.children,e.key)))}),a}},{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement("h1",null,this.title),u.default.createElement("div",{className:"dwkit-formadmin-info"},u.default.createElement("br",null),u.default.createElement("br",null),"Comming soon..."))}},{key:"gridColumns",value:function(){var e=[];return this.state.isformmode&&(e.push({key:"parent",name:"Parent key",resizable:!0,editable:!1}),e.push({key:"controlkey",name:"Control key",resizable:!0,editable:!1})),e.push({key:"param",name:"Param",resizable:!0,editable:!1}),e.push({key:"originalValue",name:"Original value",resizable:!0,editable:!1}),this.state.locales.forEach(function(t){e.push({key:t,name:t,resizable:!0,editable:!0})}),e}}]),t}(f.default));t.default=v},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(8)),f=a(c),p=n(4),h=a(p),m=n(1),v=n(3),y=(a(v),n(19)),b=a(y),g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={selectedIndexes:[]};var a=n;return window.onresize=function(){a.recalcSizeParams()},n}return i(t,e),l(t,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.recalcSizeParams()}},{key:"recalcSizeParams",value:function(){if(this._isMounted){var e=$(window).height();this.setState({gridHeight:e-200-this.props.parent.props.deltaHeight})}}},{key:"gridRowGetter",value:function(e){return this.props.items[e]}},{key:"handleGridRowsUpdated",value:function(e){for(var t=e.fromRow,n=e.toRow,a=e.updated,r=this.props.items,o=t;o<=n;o++){var i=r[o],l=(0,f.default)(i,{$merge:a});r[o]=l}this.forceUpdate()}},{key:"onRowsSelected",value:function(e){this.setState({selectedIndexes:this.state.selectedIndexes.concat(e.map(function(e){return e.rowIdx}))})}},{key:"onRowsDeselected",value:function(e){var t=e.map(function(e){return e.rowIdx});this.setState({selectedIndexes:this.state.selectedIndexes.filter(function(e){return-1===t.indexOf(e)})})}},{key:"render",value:function(){var e=this.props.items.length;return u.default.createElement("div",null,u.default.createElement(m.Button,null,"Create"),u.default.createElement(m.Button,null,"Save"),u.default.createElement(m.Button,null,"Clear selected"),u.default.createElement(b.default,{key:"Formgrid",rowKey:"Id",columns:this.props.columns,rowGetter:this.gridRowGetter.bind(this),rowsCount:e,enableRowSelect:!0,enableCellSelect:!0,minHeight:this.state.gridHeight,rowSelection:{onRowsSelected:this.onRowsSelected.bind(this),onRowsDeselected:this.onRowsDeselected.bind(this),selectBy:{indexes:this.state.selectedIndexes}},onGridRowsUpdated:this.handleGridRowsUpdated.bind(this)}))}}]),t}(h.default);t.default=g},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=(a(s),n(2)),d=(a(u),n(1),n(3)),c=(a(d),n(21)),f=a(c),p=n(71),h=a(p),m=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.editform=h.default,n.dataindex="workflow",n.panelindex="workflow",n.idfield="code",n.defaultNamePrefix="scheme",n.datatype="workflow",n.title="Workflow schemes",n}return i(t,e),l(t,[{key:"gridColumns",value:function(){return[{key:"code",name:"Code",resizable:!0}]}},{key:"getEditRow",value:function(){return{code:this.props.id}}}]),t}(f.default);t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(1)),f=n(3),p=(a(f),n(4)),h=a(p),m=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.redrawDesigner.bind(this)),this.redrawDesigner()}},{key:"redrawDesigner",value:function(){if(void 0!=this.props.parent.props.id){var e=$(window).width();$(window).height();WorkflowDesignerConstants.FormMaxHeight=600;var t;void 0!=this.wfdesigner&&(t=this.wfdesigner.data,this.wfdesigner.destroy()),this.wfdesigner=new WorkflowDesigner({name:"dwkit-admin-wfdesigner",apiurl:this.props.workflowApi,renderTo:"dwkit-admin-wfdesigner",imagefolder:"/images/",graphwidth:e-285-this.props.deltaWidth,graphheight:770}),void 0==t?this.loadscheme():(this.wfdesigner.data=t,this.wfdesigner.render())}}},{key:"loadscheme",value:function(){var e={schemecode:this.props.data.code,processid:void 0};this.wfdesigner.exists(e)?this.wfdesigner.load(e):(this.wfdesigner.create(),this.props.data.__state="inserted"),this.state.id=this.props.data.code}},{key:"onClearScheme",value:function(){this.wfdesigner.create()}},{key:"onSave",value:function(){var e=this;e.wfdesigner.schemecode=e.props.data.code;var t=this.wfdesigner.validate();void 0!=t&&t.length>0?alertify.error(t):this.wfdesigner.save(function(){var t=e.props.data.__state;e.ResetSystemProps(e.props.data),"inserted"==t&&e.props.metadata.workflow.push({code:e.props.data.code}),alertify.success("The scheme has been saved!")})}},{key:"onDownload",value:function(){this.wfdesigner.downloadscheme()}},{key:"onUpload",value:function(){$("#dwkitadmin-workflow-uploadfile").trigger("click")}},{key:"onUpload_onchange",value:function(){this.wfdesigner.uploadscheme($("#dwkitadmin-workflow-uploadform")[0],function(){alertify.success("The file is uploaded!")})}},{key:"messageClose",value:function(){this.setState({message:void 0})}},{key:"render",value:function(){void 0!=this.wfdesigner&&this.state.id!=this.props.data.code&&this.loadscheme();var e=void 0!=this.state.message;return u.default.createElement("div",null,u.default.createElement(c.Breadcrumb,null,u.default.createElement(c.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},"Workflow"),u.default.createElement(c.Breadcrumb.Divider,null),u.default.createElement(c.Breadcrumb.Section,{active:!0},this.props.data.code)),u.default.createElement("div",{className:"dwkit-admin-wfdesigner-buttons"},u.default.createElement(c.Button,{className:"buttontype2",floated:"right",onClick:this.onClearScheme.bind(this)},"Clear scheme"),u.default.createElement(c.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},"Save"),u.default.createElement(c.Button,{className:"buttontype2",onClick:this.onDownload.bind(this)},"Download"),u.default.createElement(c.Button,{className:"buttontype2",onClick:this.onUpload.bind(this)},"Upload")),u.default.createElement("div",{id:"dwkit-admin-wfdesigner"}),u.default.createElement("form",{is:!0,action:"",id:"dwkitadmin-workflow-uploadform",method:"post",style:{display:"none"},enctype:"multipart/form-data",onsubmit:"tmp()"},u.default.createElement("input",{type:"file",name:"dwkitadmin-workflow-uploadfile",id:"dwkitadmin-workflow-uploadfile",onChange:this.onUpload_onchange.bind(this)})),u.default.createElement(c.Modal,{dimmer:"blurring",open:e,onClose:this.messageClose.bind(this)},u.default.createElement(c.Modal.Header,null,"Message"),u.default.createElement(c.Modal.Content,null,u.default.createElement("p",null,this.state.message)),u.default.createElement(c.Modal.Actions,null,u.default.createElement(c.Button,{icon:"check",content:"OK",onClick:this.messageClose.bind(this)}))))}}]),t}(h.default);t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(4)),f=a(c),p=(n(1),n(3)),h=(a(p),function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.title="Manage instances",n.state={},n}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement("h1",null,this.title),u.default.createElement("div",{className:"dwkit-formadmin-info"},u.default.createElement("br",null),u.default.createElement("br",null),"There are no available settings yet..."))}}]),t}(f.default));t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(1),n(3)),f=(a(c),n(5)),p=a(f),h=n(74),m=a(h),v=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dataindex="businessflow",n.panelindex="businessflow",n.defaultNamePrefix="businessflow",n.idfield="Id",n.editform=m.default,n.title="Business flow",n}return i(t,e),l(t,[{key:"gridColumns",value:function(){return[{key:"Name",name:"Name",resizable:!0},{key:"Scheme",name:"Scheme",resizable:!0},{key:"DefaultForm",name:"DefaultForm",resizable:!0}]}},{key:"getDefaultObjectCode",value:function(){return""}},{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement("h1",null,this.title),u.default.createElement("div",{className:"dwkit-formadmin-info"},u.default.createElement("br",null),u.default.createElement("br",null),"There are no available settings yet..."))}}]),t}(p.default);t.default=v},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(1)),f=n(3),p=(a(f),n(4)),h=a(p),m=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return i(t,e),l(t,[{key:"validate",value:function(){var e=void 0==this.props.data?[]:this.props.data;e["error-Name"]=void 0==e.Name||e.Name.length<1,e["error-Scheme"]=void 0==e.Name||e.Scheme.length<1,e.error=e["error-Name"]||e["error-Scheme"]}},{key:"render",value:function(){this.validate();var e=void 0==this.props.data?[]:this.props.data,t=this.props.handleChange.bind(this.props.parent),n=[];n.push({text:"No selected",value:""}),this.props.metadata.form.forEach(function(e){n.push({text:e.code,value:e.code})});var a=[];return this.props.metadata.workflow.forEach(function(e){a.push({text:e.code,value:e.code})}),u.default.createElement("div",null,u.default.createElement(c.Breadcrumb,null,u.default.createElement(c.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},"Business flow"),u.default.createElement(c.Breadcrumb.Divider,null),u.default.createElement(c.Breadcrumb.Section,{active:!0},this.props.data.Name)),u.default.createElement(c.Form,null,u.default.createElement(c.Form.Input,{name:"Name",label:"Name",error:e["error-Name"],value:e.Name,onChange:t}),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Dropdown,{name:"Scheme",label:"Scheme",options:a,error:e["error-Scheme"],value:e.Scheme,onChange:t}),u.default.createElement(c.Form.Dropdown,{name:"Default form",placeholder:"No selected",label:"DefaultForm",options:n,value:e.DefaultForm,onChange:t})),u.default.createElement("h2",null,"Mapping forms"),u.default.createElement("div",{is:!0,class:"field"},this.renderChild(e.map,n))))}},{key:"renderChild",value:function(e,t){var n=[];if(void 0!=e){var a=this;e.forEach(function(e){var r=e.activity,o=u.default.createElement(c.Form.Group,{key:r+"_group",widths:"equal"},u.default.createElement(c.Form.Input,{key:r+"_activity",name:"activity",label:"Activity",value:e.activity,readOnly:!0}),u.default.createElement(c.Form.Dropdown,{key:r+"_form",placeholder:"No selected",name:"form",label:"Form",options:t,value:e.form,onChange:a.handleChildrenChange.bind(a,e)}));n.push(o)})}return n}},{key:"handleChildrenChange",value:function(e,t,n){var a=n.name,r=n.value;e[a]=r,this.forceUpdate()}}]),t}(h.default);t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=(a(s),n(2)),d=(a(u),n(10)),c=(a(d),n(1),n(3)),f=(a(c),n(24)),p=a(f),h=n(76),m=a(h),v=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dataindex="users",n.panelindex="users",n.idfield="id",n.editform=m.default,n.datatype="users",n.title="Manage users",n}return i(t,e),l(t,[{key:"gridColumns",value:function(){return[{key:"name",name:"Name",resizable:!0},{key:"email",name:"Email",resizable:!0},{key:"login",name:"Login",resizable:!0},{key:"isLocked",name:"Locked",resizable:!0,type:"checkbox"}]}},{key:"validate",value:function(){var e=!0,t=this.state.editrow;return t.__error={name:void 0==t.name||""==t.name?"This field is required":void 0},e&=void 0==t.__error.name}}]),t}(p.default);t.default=v},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(1)),f=n(3),p=(a(f),n(4)),h=a(p),m=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return i(t,e),l(t,[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();for(var e=[],t=0;t<this.props.metadata.groups.length;t++){var n=this.props.metadata.groups;e.push({text:n[t].name,value:n[t].id})}for(var a=[],t=0;t<this.props.metadata.roles.length;t++){var r=this.props.metadata.roles;a.push({text:r[t].name,value:r[t].id})}var o=this.props.data;return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement("div",{is:!0,class:"field"},u.default.createElement(c.Form.Input,{name:"name",label:"Name",error:Boolean(o.__error.name),value:o.name,onChange:this.handleChange.bind(this,o)}),u.default.createElement(c.Form.Input,{name:"email",label:"Email",error:Boolean(o.__error.email),value:o.email,onChange:this.handleChange.bind(this,o)}),u.default.createElement(c.Form.Input,{name:"domainLogin",label:"Domain login",error:Boolean(o.__error.domainLogin),value:o.domainLogin,onChange:this.handleChange.bind(this,o)})),u.default.createElement("div",{is:!0,class:"field"},u.default.createElement(c.Form.Input,{name:"login-new",label:"Login",error:Boolean(o.__error.login),value:o.login,onChange:this.handleChange.bind(this,o)}),u.default.createElement(c.Form.Input,{type:"password",name:"password-new",label:"Pass",error:Boolean(o.__error.password),value:o.password,onChange:this.handleChange.bind(this,o)}),u.default.createElement(c.Form.Checkbox,{name:"isLocked",label:"Locked",error:Boolean(o.__error.isLocked),checked:1==o.isLocked,onChange:this.handleChange.bind(this,o)}))),u.default.createElement(c.Form.Group,{widths:"equal"},u.default.createElement(c.Form.Dropdown,{label:"Group",name:"groups",error:Boolean(o.__error.groups),multiple:!0,search:!0,selection:!0,options:e,value:void 0==o.groups?[]:o.groups,onChange:this.handleChange.bind(this,o)}),u.default.createElement(c.Form.Dropdown,{label:"Roles",name:"roles",error:Boolean(o.__error.roles),multiple:!0,search:!0,selection:!0,options:a,value:void 0==o.roles?[]:o.roles,onChange:this.handleChange.bind(this,o)})))}},{key:"handleChange",value:function(e,t,n){var a=n.name,r=n.value,o=n.checked;"login-new"==a?a="login":"password-new"==a&&(a="password");e[a];e[a]=void 0==r?o:r,this.setUpdatedState(this.props.data),this.forceUpdate()}}]),t}(h.default);t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=(a(s),n(2)),d=(a(u),n(1),n(3)),c=(a(d),n(5)),f=a(c),p=n(78),h=a(p),m=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dataindex="roles",n.panelindex="roles",n.defaultNamePrefix="role",n.idfield="id",n.editform=h.default,n.title="Manage roles",n.datatype="roles",n}return i(t,e),l(t,[{key:"gridColumns",value:function(){return[{key:"code",name:"Code",resizable:!0},{key:"name",name:"Name",resizable:!0}]}},{key:"validate",value:function(){var e=!0,t=this.state.editrow;return t.__error={name:void 0==t.name||""==t.name?"This field is required":void 0,code:void 0==t.code||""==t.code?"This field is required":void 0},e&=void 0==t.__error.name&&void 0==t.__error.code}}]),t}(f.default);t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(1)),f=n(3),p=(a(f),n(79)),h=a(p),m=n(4),v=a(m),y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return i(t,e),l(t,[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();var e=this.props.data;void 0==e.permissions&&(e.permissions=[]);var t=this.props.onSave.bind(this.props.parent),n=this.props.onCancel.bind(this.props.parent);return u.default.createElement("div",{className:"dwkit-formadmin-formedit"},u.default.createElement(c.Breadcrumb,null,u.default.createElement(c.Breadcrumb.Section,{onClick:this.props.parent.back.bind(this.props.parent),link:!0},"Roles"),u.default.createElement(c.Breadcrumb.Divider,null),u.default.createElement(c.Breadcrumb.Section,{active:!0},this.props.data.name)),u.default.createElement("div",{className:"dwkitadmin-toolbar-editform"},u.default.createElement(c.Button,{className:"buttontype1",onClick:t},"Save"),u.default.createElement(c.Button,{className:"buttontype2",onClick:n},"Cancel")),u.default.createElement("h1",null,this.props.parent.title),u.default.createElement(c.Form,null,u.default.createElement(c.Form.Input,{name:"code",label:"Code",error:Boolean(e.__error.code),value:e.code,onChange:this.handleChange.bind(this,e)}),u.default.createElement(c.Form.Input,{name:"name",label:"Name",error:Boolean(e.__error.name),value:e.name,onChange:this.handleChange.bind(this,e)}),u.default.createElement("h1",null,"Permissions"),u.default.createElement(h.default,{items:this.props.metadata.permissions,value:e.permissions,parent:this})))}},{key:"handleChange",value:function(e,t,n){var a=n.name,r=n.value,o=n.checked,i=e[a];e[a]=void 0==r?o:r,"code"==a&&(i!=e.name&&void 0!=e.name||(e.name=e.code)),this.setUpdatedState(this.props.data),this.forceUpdate()}}]),t}(v.default);t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(1)),f=n(3),p=(a(f),function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"handleChange",value:function(e,t,n){for(var a=(n.name,n.value),r=(n.checked,this.props.value),o=!1,i=0;i<r.length;i++)if(r[i].id==e){r[i].accessType=a,o=!0;break}o||this.props.value.push({id:e,accessType:a}),this.props.parent.setUpdatedState(this.props.parent.props.data),this.forceUpdate()}},{key:"setAccessType",value:function(e,t){if(void 0!=e&&void 0!=e.children){for(var n=this.props.value,a=0;a<e.children.length;a++){for(var r=!1,o=0;o<n.length;o++)n[o].id==e.children[a].id&&(n[o].accessType=t,r=!0);r||n.push({id:e.children[a].id,accessType:t})}this.props.parent.setUpdatedState(this.props.parent.props.data),this.forceUpdate()}}},{key:"render",value:function(){for(var e=[],t=this.props.items,n=0;n<t.length;n++){var a=t[n],r=a.name;a.code!=a.name&&(r+=" ("+a.code+")");var o="rolegroup_"+a.id,i=u.default.createElement(c.Form.Group,{key:o,widths:"16",className:"dwkit-formadmin-item"},u.default.createElement("div",{is:!0,class:"field"},u.default.createElement(c.Form.Input,{key:"groupName",value:r,readOnly:!0}),u.default.createElement("div",null,u.default.createElement("a",{onClick:this.setAccessType.bind(this,a,0)},"Reset"),"  ",u.default.createElement("a",{onClick:this.setAccessType.bind(this,a,1)},"Allow"),"  ",u.default.createElement("a",{onClick:this.setAccessType.bind(this,a,2)},"Deny"))),u.default.createElement("div",null,this.renderChildren(a,this.props.value)));e.push(i)}return u.default.createElement("div",null,e)}},{key:"renderChildren",value:function(e,t){for(var n=[],a=0;a<e.children.length;a++){var r=e.children[a],o=r.name;r.Code!=r.name&&(o+=" ("+r.code+")");var i="roleperm_"+r.id,l=this.getAccessType(r.id,t),s=u.default.createElement("div",{key:i+"_div"},u.default.createElement(c.Form.Group,{key:"group",className:"dwkit-formadmin-rolepersmissionsgroup"},u.default.createElement("div",{key:"c1",is:!0,class:"field"},u.default.createElement("label",{key:"divlabel"},o),u.default.createElement(c.Form.Group,{key:"divgroup",widths:"equal"},u.default.createElement(c.Form.Radio,{key:"type0",name:i+"_type",label:"Inherited",value:0,checked:0==l,onChange:this.handleChange.bind(this,r.id)}),u.default.createElement(c.Form.Radio,{key:"type1",name:i+"_type",label:"Allow",value:1,checked:1==l,onChange:this.handleChange.bind(this,r.id)}),u.default.createElement(c.Form.Radio,{key:"type2",name:i+"_type",label:"Deny",value:2,checked:2==l,onChange:this.handleChange.bind(this,r.id)})))));n.push(s)}return n}},{key:"getAccessType",value:function(e,t){var n=0;if(void 0==t)return n;for(var a=0;a<t.length;a++)if(t[a].id==e){n=t[a].accessType;break}return n}}]),t}(u.default.Component));t.default=p},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=(a(s),n(2)),d=(a(u),n(1),n(3)),c=(a(d),n(24)),f=a(c),p=n(81),h=a(p),m=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dataindex="groups",n.panelindex="groups",n.idfield="id",n.editform=h.default,n.datatype="groups",n.title="Manage groups",n}return i(t,e),l(t,[{key:"gridColumns",value:function(){return[{key:"name",name:"Name",resizable:!0}]}},{key:"validate",value:function(){var e=!0,t=this.state.editrow;return t.__error={name:void 0==t.name||""==t.name?"This field is required":void 0},e&=void 0==t.__error.name}}]),t}(f.default);t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),d=n(2),c=(a(d),n(1)),f=n(3),p=(a(f),n(4)),h=a(p),m=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return i(t,e),l(t,[{key:"validate",value:function(){return this.props.parent.validate()}},{key:"render",value:function(){this.validate();for(var e=[],t=0;t<this.props.metadata.roles.length;t++){var n=this.props.metadata.roles;e.push({text:n[t].name,value:n[t].id})}var a=void 0==this.props.data?[]:this.props.data;return u.default.createElement(c.Form,null,u.default.createElement(c.Form.Input,{name:"name",label:"Name",error:Boolean(a.__error.name),value:a.name,onChange:this.handleChange.bind(this,a)}),u.default.createElement(c.Form.Dropdown,{label:"Roles",name:"roles",error:Boolean(a.__error.roles),multiple:!0,search:!0,selection:!0,options:e,value:void 0==a.roles?[]:a.roles,onChange:this.handleChange.bind(this,a)}))}},{key:"handleChange",value:function(e,t,n){var a=n.name,r=n.value,o=n.checked;e[a];e[a]=void 0==r?o:r,this.setUpdatedState(this.props.data),this.forceUpdate()}}]),t}(h.default);t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),d=a(u),c=n(2),f=(a(c),n(4)),p=a(f),h=n(1),m=n(3),v=(a(m),function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.datatype="permissions",n.state={},n.initData(e.data.permissions),n}return i(t,e),s(t,[{key:"initData",value:function(e){var t=this.СloneObj(e),n=function(e,t){return e.name>t.name?1:e.name<t.name?-1:0};t.forEach(function(e){void 0!=e.children&&(e.children=e.children.sort(n))}),t=t.sort(n),this.state.data=t}},{key:"render",value:function(){this.validate();for(var e=[],t=this.state.data,n=0;n<t.length;n++){var a=t[n];if("deleted"!=a.__state){var r=d.default.createElement("div",{key:"g_"+t[n].id,className:"dwkit-formadmin-item"},d.default.createElement(h.Form,{key:"form"},d.default.createElement(h.Form.Group,{key:"group"},d.default.createElement("div",{key:"div",is:!0,class:"field",widths:"6"},d.default.createElement(h.Form.Input,{key:"code",name:"code",label:"Code",error:Boolean(a.__error.code),value:a.code,onChange:this.handleChange.bind(this,a)}),d.default.createElement(h.Form.Input,{key:"name",name:"name",label:"Name",error:Boolean(a.__error.name),value:a.name,onChange:this.handleChange.bind(this,a)}),d.default.createElement("div",{key:"buttons",style:{marginTop:"10px"}},d.default.createElement("a",{key:"btndelete",onClick:this.onDeleteGroup.bind(this,t[n].id)},"Delete group"),"  ",d.default.createElement("a",{key:"btncreatepermission",onClick:this.onCreatePermission.bind(this,t[n].id)},"Create a permission"))),d.default.createElement("div",{key:"children",is:!0,class:"field",widths:"10"},this.renderChildren(t[n])))));e.push(r)}}return d.default.createElement("div",null,d.default.createElement("h1",null,"Manage permissions"),d.default.createElement("div",{className:"dwkitadmin-toolbar"},d.default.createElement(h.Button,{className:"buttontype1",onClick:this.onCreateGroup.bind(this)},"Create group"),this.state.ischanged&&d.default.createElement(h.Button,{className:"buttontype1",onClick:this.onSave.bind(this)},"Save"),this.state.ischanged&&d.default.createElement(h.Button,{className:"buttontype2",onClick:this.onCancel.bind(this)},"Cancel")),e)}},{key:"renderChildren",value:function(e){if(void 0!=e.children&&0!=e.children.length){for(var t=[],n=0;n<e.children.length;n++){var a=e.children[n],r=d.default.createElement(h.Form.Group,{key:"group_"+a.id,widths:"equal"},d.default.createElement(h.Form.Input,{key:"code",name:"code",label:"Code",error:Boolean(a.__error.code),value:a.code,onChange:this.handleChange.bind(this,a)}),d.default.createElement(h.Form.Input,{key:"name",name:"name",label:"Name",error:Boolean(a.__error.name),value:a.name,onChange:this.handleChange.bind(this,a)}),d.default.createElement(h.Image,{className:"dwkit-buttonimage",key:"btndelete",src:"/images/dwkit-delete.png",onClick:this.onDeletePermission.bind(this,e,a.id)}));t.push(r)}return t}}},{key:"handleChange",value:function(e,t,n){var a=n.name,r=n.value,o=(n.checked,e[a]);e[a]=r,"code"==a&&(o!=e.name&&void 0!=e.name||(e.name=e.code)),this.setUpdatedState(e),this.state.ischanged=!0,this.forceUpdate()}},{key:"validate",value:function(){var e=!0;return this.state.data.forEach(function(t){t.__error={code:void 0==t.code||""==t.code?"This field is required":void 0,name:void 0==t.name||""==t.name?"This field is required":void 0},e&=void 0==t.__error.code&&void 0==t.__error.name,void 0!=t.children&&t.children.forEach(function(t){t.__error={code:void 0==t.code||""==t.code?"This field is required":void 0,name:void 0==t.name||""==t.name?"This field is required":void 0},e&=void 0==t.__error.code&&void 0==t.__error.name})}),e}},{key:"onSave",value:function(){var e=this;if(!this.validate())return void alertify.success("Please, check all errors");var t=[];this.state.data.forEach(function(n){if(void 0!=n.__state)t.push(l({},n,{isGroup:!0,__type:e.datatype}));else if(void 0!=n.children){var a=!1;n.children.forEach(function(e){void 0!=e.__state&&(a=!0)}),a&&t.push(l({},n,{isGroup:!0,__state:"updated",__type:e.datatype}))}}),this.ChangeData(t,function(t){e.ResetSystemProps(e.state.data),e.props.data.permissions=e.state.data,e.onCancel()})}},{key:"onCancel",value:function(){this.initData(this.props.data.permissions),this.state.ischanged=!1,this.forceUpdate()}},{key:"onCreateGroup",value:function(){this.state.data.unshift({id:this.NewGUID(),__state:"inserted"}),this.state.ischanged=!0,this.forceUpdate()}},{key:"onDeleteGroup",value:function(e){for(var t=this.state.data,n=void 0,a=0;a<t.length;a++)if(t[a].id==e){n=a;break}void 0!=n&&("inserted"==t[a].__state?t.splice(n,1):t[a].__state="deleted"),this.state.ischanged=!0,this.forceUpdate()}},{key:"onCreatePermission",value:function(e){for(var t=this.state.data,n=0;n<t.length;n++)if(t[n].id==e){void 0==t[n].children&&(t[n].children=[]);var a=t[n].children;a.unshift({id:this.NewGUID(),__state:"inserted"});break}this.state.ischanged=!0,this.forceUpdate()}},{key:"onDeletePermission",value:function(e,t){for(var n=(this.state.data,void 0),a=0;a<e.children.length;a++)if(e.children[a].id==t){n=a;break}void 0!=n&&(e.children.splice(n,1),e.__state="updated"),this.state.ischanged=!0,this.forceUpdate()}}]),t}(p.default));t.default=v}])});